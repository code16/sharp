import{aY as Sa,d as y,bD as Fa,a_ as qa,p as Va,aL as Ze,o as n,c as d,w as r,q as B,v as O,e as a,P as j,y as k,bE as $e,bF as Z,bG as Ha,bH as De,bI as Ea,x as Oa,aO as Na,bJ as Je,aZ as Aa,bK as Ma,W as z,bL as Le,Z as ge,bM as Ta,bN as Ia,bO as me,bP as Ye,bQ as La,j as L,t as b,bR as ea,bS as Ua,bT as Ka,bU as za,bV as Ga,bW as Re,b as R,bX as Wa,bY as ke,aQ as Ue,bZ as Ke,a7 as G,a8 as Y,b_ as aa,b$ as ja,a6 as ta,c0 as Qa,c1 as Xa,a as u,K as la,k as J,c2 as Za,A as _,F as q,H as ae,z as U,c3 as se,c4 as Se,b8 as Ja,b7 as Ya,i as F,aD as ye,c5 as _e,l as Fe,c6 as qe,c7 as ze,c8 as Ve,_ as E,c9 as He,V as te,ca as et,cb as at,m as Ge,cc as Ee,bu as sa,cd as xe,ce as na,cf as ra,cg as ia,ch as oa,ci as Be,cj as Pe,C as da,ck as ua,cl as tt,ab as lt,r as st,aR as ca,cm as nt,bc as rt,cn as it,co as ot,a3 as dt,b4 as ut,a4 as ct,aT as ft,aU as pt,cp as vt,aV as mt,aW as gt,n as yt,aS as ht,aX as _t,at as bt,bv as Ct,bw as wt,bx as Dt,aA as kt,au as $t,bz as Rt,by as xt,ao as Bt}from"./sharp-BQ_wZQE4.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Sa("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var Pt=y({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=Fa(),{forwardRef:i,currentElement:s}=qa();return e.contentId||(e.contentId=Va(void 0,"reka-dialog-content")),Ze(()=>{e.triggerElement.value=s.value}),(o,c)=>(n(),d(a(j),O(t,{ref:a(i),type:o.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":a(e).open.value||!1,"aria-controls":a(e).open.value?a(e).contentId:void 0,"data-state":a(e).open.value?"open":"closed",onClick:a(e).onOpenToggle}),{default:r(()=>[B(o.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),St=Pt;function Ft(l){const t=k(()=>l.start.value?!!l.isDateDisabled(l.start.value):!1),e=k(()=>l.end.value?!!l.isDateDisabled(l.end.value):!1),i=k(()=>t.value||e.value?!1:!!(l.start.value&&l.end.value&&$e(l.end.value,l.start.value))),s=h=>l.start.value?Z(l.start.value,h):!1,o=h=>l.end.value?Z(l.end.value,h):!1,c=h=>l.start.value&&Z(l.start.value,h)||l.end.value&&Z(l.end.value,h)?!0:l.end.value&&l.start.value?De(h,l.start.value,l.end.value):!1,f=h=>{var m;if(l.isDateDisabled(h))return!0;if((m=l.maximumDays)!=null&&m.value){if(l.start.value&&l.end.value){if(l.fixedDate.value){const C=Ea(l.start.value,l.end.value).length;if(C<=l.maximumDays.value){const x=l.maximumDays.value-C-1,I=l.start.value.subtract({days:x}),D=l.end.value.add({days:x});return!De(h,I,D)}}return!1}if(l.start.value){const C=l.start.value.add({days:l.maximumDays.value}),x=l.start.value.subtract({days:l.maximumDays.value});return!De(h,x,C)}}return!l.start.value||l.end.value||Z(l.start.value,h),!1},v=h=>{var m;return!!((m=l.isDateHighlightable)!=null&&m.call(l,h))},p=k(()=>{var I;if(l.start.value&&l.end.value&&!l.fixedDate.value||!l.start.value||!l.focusedValue.value)return null;const h=$e(l.start.value,l.focusedValue.value),m=h?l.start.value:l.focusedValue.value,C=h?l.focusedValue.value:l.start.value;if(Z(m,C))return{start:m,end:C};if((I=l.maximumDays)!=null&&I.value&&!l.end.value){const D=h?m.add({days:l.maximumDays.value}):m.subtract({days:l.maximumDays.value});return{start:m,end:D}}return Ha(m,C,l.allowNonContiguousRanges.value?()=>!1:l.isDateUnavailable,f,l.isDateHighlightable)?{start:m,end:C}:null});return{isInvalid:i,isSelected:c,isDateHighlightable:v,highlightedRange:p,isSelectionStart:s,isSelectionEnd:o,isHighlightedStart:h=>!p.value||!p.value.start?!1:Z(p.value.start,h),isHighlightedEnd:h=>!p.value||!p.value.end?!1:Z(p.value.end,h),isDateDisabled:f}}const qt={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},Vt={role:"heading","aria-level":"2"},[oe,Ht]=Oa("RangeCalendarRoot");var Et=y({__name:"RangeCalendarRoot",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1,default:()=>({start:void 0,end:void 0})},modelValue:{type:[Object,null],required:!1},placeholder:{type:null,required:!1,default:void 0},allowNonContiguousRanges:{type:Boolean,required:!1,default:!1},pagedNavigation:{type:Boolean,required:!1,default:!1},preventDeselect:{type:Boolean,required:!1,default:!1},maximumDays:{type:Number,required:!1,default:void 0},weekStartsOn:{type:Number,required:!1,default:0},weekdayFormat:{type:String,required:!1,default:"narrow"},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1,default:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1,default:1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},initialFocus:{type:Boolean,required:!1,default:!1},isDateDisabled:{type:Function,required:!1,default:void 0},isDateUnavailable:{type:Function,required:!1,default:void 0},isDateHighlightable:{type:Function,required:!1,default:void 0},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},disableDaysOutsideCurrentView:{type:Boolean,required:!1,default:!1},fixedDate:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,i=t,{disabled:s,readonly:o,initialFocus:c,pagedNavigation:f,weekStartsOn:v,weekdayFormat:p,fixedWeeks:w,numberOfMonths:T,preventDeselect:h,isDateUnavailable:m,isDateHighlightable:C,isDateDisabled:x,calendarLabel:I,maxValue:D,minValue:$,dir:H,locale:M,nextPage:de,prevPage:be,allowNonContiguousRanges:ue,disableDaysOutsideCurrentView:Ce,fixedDate:N,maximumDays:P}=Na(e),{primitiveElement:re,currentElement:ce}=Je(),Q=Aa(H),fe=Ma(M),ne=z(),X=z(),he=z(!1),S=Le(e,"modelValue",i,{defaultValue:e.defaultValue??{start:void 0,end:void 0},passive:e.modelValue===void 0}),V=z(S.value);ge(V,g=>{i("update:validModelValue",g)});const le=Ta({defaultPlaceholder:e.placeholder,defaultValue:S.value.start,locale:e.locale}),ee=z(S.value.start),K=z(S.value.end),pe=Le(e,"placeholder",i,{defaultValue:e.defaultPlaceholder??le.copy(),passive:e.placeholder===void 0});function Oe(g){pe.value=g.copy()}const{fullCalendarLabel:we,headingValue:pa,isDateDisabled:va,isDateUnavailable:Ne,isNextButtonDisabled:ma,isPrevButtonDisabled:ga,grid:Ae,weekdays:Me,isOutsideVisibleView:ya,nextPage:ha,prevPage:_a,formatter:ba}=Ia({locale:fe,placeholder:pe,weekStartsOn:v,fixedWeeks:w,numberOfMonths:T,minValue:$,maxValue:D,disabled:s,weekdayFormat:p,pagedNavigation:f,isDateDisabled:x.value,isDateUnavailable:m.value,calendarLabel:I,nextPage:de,prevPage:be}),{isInvalid:Te,isSelected:Ca,isDateHighlightable:wa,highlightedRange:Da,isSelectionStart:ka,isSelectionEnd:$a,isHighlightedStart:Ra,isHighlightedEnd:xa,isDateDisabled:Ba}=Ft({start:ee,end:K,isDateDisabled:va,isDateUnavailable:Ne,isDateHighlightable:C.value,focusedValue:X,allowNonContiguousRanges:ue,fixedDate:N,maximumDays:P});ge(S,(g,A)=>{var W,ve,ie,Ie;(!(A!=null&&A.start)&&(g!=null&&g.start)||!g||!g.start||ee.value&&!me(g.start,ee.value))&&(ee.value=(ve=(W=g==null?void 0:g.start)==null?void 0:W.copy)==null?void 0:ve.call(W)),(!(A!=null&&A.end)&&g.end||!g||!g.end||K.value&&!me(g.end,K.value))&&(K.value=(Ie=(ie=g==null?void 0:g.end)==null?void 0:ie.copy)==null?void 0:Ie.call(ie))}),ge(ee,g=>{g&&!me(g,pe.value)&&Oe(g),i("update:startValue",g)}),ge([ee,K],([g,A])=>{var ve,ie;const W=S.value;W&&W.start&&W.end&&g&&A&&me(W.start,g)&&me(W.end,A)||(he.value=!0,A&&g?($e(A,g)?S.value={start:A.copy(),end:g.copy()}:S.value={start:g.copy(),end:A.copy()},he.value=!1,V.value={start:(ve=S.value.start)==null?void 0:ve.copy(),end:(ie=S.value.end)==null?void 0:ie.copy()}):g?S.value={start:g.copy(),end:void 0}:S.value={start:A==null?void 0:A.copy(),end:void 0})});const Pa=ea();return Ye("keydown",g=>{var A,W;g.key===Pa.ESCAPE&&he.value&&(ee.value=(A=V.value.start)==null?void 0:A.copy(),K.value=(W=V.value.end)==null?void 0:W.copy())}),Ht({isDateUnavailable:Ne,isDateHighlightable:wa,startValue:ee,endValue:K,formatter:ba,modelValue:S,placeholder:pe,disabled:s,initialFocus:c,pagedNavigation:f,grid:Ae,weekDays:Me,weekStartsOn:v,weekdayFormat:p,fixedWeeks:w,numberOfMonths:T,readonly:o,preventDeselect:h,fullCalendarLabel:we,headingValue:pa,isInvalid:Te,isDateDisabled:Ba,allowNonContiguousRanges:ue,highlightedRange:Da,focusedValue:X,lastPressedDateValue:ne,isSelected:Ca,isSelectionEnd:$a,isSelectionStart:ka,isNextButtonDisabled:ma,isPrevButtonDisabled:ga,isOutsideVisibleView:ya,nextPage:ha,prevPage:_a,parentElement:ce,onPlaceholderChange:Oe,locale:fe,dir:Q,isHighlightedStart:Ra,isHighlightedEnd:xa,disableDaysOutsideCurrentView:Ce,fixedDate:N,maximumDays:P}),Ze(()=>{c.value&&La(ce.value)}),(g,A)=>(n(),d(a(j),{ref_key:"primitiveElement",ref:re,as:g.as,"as-child":g.asChild,role:"application","aria-label":a(we),"data-readonly":a(o)?"":void 0,"data-disabled":a(s)?"":void 0,"data-invalid":a(Te)?"":void 0,dir:a(Q)},{default:r(()=>[L("div",qt,[L("div",Vt,b(a(we)),1)]),B(g.$slots,"default",{date:a(pe),grid:a(Ae),weekDays:a(Me),weekStartsOn:a(v),locale:a(fe),fixedWeeks:a(w),modelValue:a(S)})]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),Ot=Et,Nt=y({__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"td"}},setup(l){const t=oe();return(e,i)=>{var s,o;return n(),d(a(j),{as:e.as,"as-child":e.asChild,role:"gridcell","aria-selected":a(t).isSelected(e.date)?!0:void 0,"aria-disabled":a(t).isDateDisabled(e.date)||((o=(s=a(t)).isDateUnavailable)==null?void 0:o.call(s,e.date))||a(t).disableDaysOutsideCurrentView.value,"data-disabled":a(t).isDateDisabled(e.date)||a(t).disableDaysOutsideCurrentView.value?"":void 0},{default:r(()=>[B(e.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),At=Nt,Mt=y({__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l,e=oe(),i=ea(),{primitiveElement:s,currentElement:o}=Je(),c=k(()=>e.formatter.custom(Ua(t.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),f=k(()=>{var N;return((N=e.isDateUnavailable)==null?void 0:N.call(e,t.day))??!1}),v=k(()=>e.isSelected(t.day)),p=k(()=>e.isSelectionStart(t.day)),w=k(()=>e.isSelectionEnd(t.day)),T=k(()=>e.isHighlightedStart(t.day)),h=k(()=>e.isHighlightedEnd(t.day)),m=k(()=>e.highlightedRange.value?Ka(t.day,e.highlightedRange.value.start,e.highlightedRange.value.end):!1),C=k(()=>e.allowNonContiguousRanges.value),x=k(()=>za(t.day,Ga())),I=k(()=>!Re(t.day,t.month)),D=k(()=>e.isOutsideVisibleView(t.day)),$=k(()=>e.isDateDisabled(t.day)||e.disableDaysOutsideCurrentView.value&&I.value),H=k(()=>t.day.day.toLocaleString(e.locale.value)),M=k(()=>!e.disabled.value&&Z(t.day,e.placeholder.value));function de(N,P){var re;if(!e.readonly.value&&!(e.isDateDisabled(P)||(re=e.isDateUnavailable)!=null&&re.call(e,P))){if(e.lastPressedDateValue.value=P.copy(),e.startValue.value&&e.highlightedRange.value===null){if(Z(P,e.startValue.value)&&!e.preventDeselect.value&&!e.endValue.value){e.startValue.value=void 0,e.onPlaceholderChange(P);return}else if(!e.endValue.value){N.preventDefault(),e.lastPressedDateValue.value&&Z(e.lastPressedDateValue.value,P)&&(e.startValue.value=P.copy());return}}if(e.startValue.value&&e.endValue.value&&Z(e.endValue.value,P)&&!e.preventDeselect.value){e.startValue.value=void 0,e.endValue.value=void 0,e.onPlaceholderChange(P);return}e.startValue.value?e.endValue.value?e.endValue.value&&e.startValue.value&&(e.fixedDate.value?e.fixedDate.value==="start"?P.compare(e.startValue.value)<0?e.startValue.value=P.copy():e.endValue.value=P.copy():e.fixedDate.value==="end"&&(P.compare(e.endValue.value)>0?e.endValue.value=P.copy():e.startValue.value=P.copy()):(e.endValue.value=void 0,e.startValue.value=P.copy())):e.endValue.value=P.copy():e.startValue.value=P.copy()}}function be(N){$.value||de(N,t.day)}function ue(){var N;$.value||(N=e.isDateUnavailable)!=null&&N.call(e,t.day)||(e.focusedValue.value=t.day.copy())}function Ce(N){if($.value)return;N.preventDefault(),N.stopPropagation();const P=e.parentElement.value,re=7,ce=e.dir.value==="rtl"?-1:1;switch(N.code){case i.ARROW_RIGHT:Q(o.value,ce);break;case i.ARROW_LEFT:Q(o.value,-ce);break;case i.ARROW_UP:Q(o.value,-re);break;case i.ARROW_DOWN:Q(o.value,re);break;case i.ENTER:case i.SPACE_CODE:de(N,t.day)}function Q(fe,ne){const X=ke(P);if(!X.length)return;const S=X.indexOf(fe)+ne;if(S>=0&&S<X.length){X[S].hasAttribute("data-disabled")&&Q(X[S],ne),X[S].focus();return}if(S<0){if(e.isPrevButtonDisabled())return;e.prevPage(),Ue(()=>{const V=ke(P);if(!V.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const K=Ke(e.placeholder.value)-Math.abs(S);V[K].hasAttribute("data-disabled")&&Q(V[K],ne),V[K].focus();return}const le=V.length-Math.abs(S);V[le].hasAttribute("data-disabled")&&Q(V[le],ne),V[le].focus()});return}if(S>=X.length){if(e.isNextButtonDisabled())return;e.nextPage(),Ue(()=>{const V=ke(P);if(!V.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const ee=Ke(e.placeholder.value.add({months:e.numberOfMonths.value-1})),K=S-X.length+(V.length-ee);V[K].hasAttribute("data-disabled")&&Q(V[K],ne),V[K].focus();return}const le=S-X.length;V[le].hasAttribute("data-disabled")&&Q(V[le],ne),V[le].focus()})}}}return(N,P)=>(n(),d(a(j),O({ref_key:"primitiveElement",ref:s},t,{role:"button","aria-label":c.value,"data-reka-calendar-cell-trigger":"","aria-selected":v.value&&(C.value||!f.value)?!0:void 0,"aria-disabled":$.value||f.value?!0:void 0,"data-highlighted":m.value&&(C.value||!f.value)?"":void 0,"data-selection-start":p.value?!0:void 0,"data-selection-end":w.value?!0:void 0,"data-highlighted-start":T.value?!0:void 0,"data-highlighted-end":h.value?!0:void 0,"data-selected":v.value&&(C.value||!f.value)?!0:void 0,"data-outside-visible-view":D.value?"":void 0,"data-value":N.day.toString(),"data-disabled":$.value?"":void 0,"data-unavailable":f.value?"":void 0,"data-today":x.value?"":void 0,"data-outside-view":I.value?"":void 0,"data-focused":M.value?"":void 0,tabindex:M.value?0:I.value||$.value?void 0:-1,onClick:be,onFocusin:ue,onMouseenter:ue,onKeydown:Wa(Ce,["up","down","left","right","enter","space"])}),{default:r(()=>[B(N.$slots,"default",{dayValue:H.value,disabled:$.value,today:x.value,selected:v.value,outsideView:I.value,outsideVisibleView:D.value,unavailable:f.value,highlighted:m.value&&(C.value||!f.value),highlightedStart:T.value,highlightedEnd:h.value,selectionStart:p.value,selectionEnd:w.value},()=>[R(b(H.value),1)])]),_:3},16,["aria-label","aria-selected","aria-disabled","data-highlighted","data-selection-start","data-selection-end","data-highlighted-start","data-highlighted-end","data-selected","data-outside-visible-view","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-focused","tabindex"]))}}),Tt=Mt,It=y({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"table"}},setup(l){const t=l,e=oe(),i=k(()=>e.disabled.value?!0:void 0),s=k(()=>e.readonly.value?!0:void 0);return(o,c)=>(n(),d(a(j),O(t,{tabindex:"-1",role:"grid","aria-readonly":s.value,"aria-disabled":i.value,"data-readonly":s.value&&"","data-disabled":i.value&&""}),{default:r(()=>[B(o.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Lt=It,Ut=y({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tbody"}},setup(l){const t=l;return(e,i)=>(n(),d(a(j),G(Y(t)),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}}),Kt=Ut,zt=y({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"thead"}},setup(l){const t=l;return(e,i)=>(n(),d(a(j),O(t,{"aria-hidden":"true"}),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}}),Gt=zt,Wt=y({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tr"}},setup(l){const t=l;return(e,i)=>(n(),d(a(j),G(Y(t)),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}}),jt=Wt,Qt=y({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"th"}},setup(l){const t=l;return(e,i)=>(n(),d(a(j),G(Y(t)),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}}),Xt=Qt,Zt=y({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l;return(e,i)=>(n(),d(a(j),G(Y(t)),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}}),Jt=Zt,Yt=y({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l,e=oe();return(i,s)=>(n(),d(a(j),O(t,{"data-disabled":a(e).disabled.value?"":void 0}),{default:r(()=>[B(i.$slots,"default",{headingValue:a(e).headingValue.value},()=>[R(b(a(e).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),el=Yt,al=y({__name:"RangeCalendarNext",props:{nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=k(()=>i.disabled.value||i.isNextButtonDisabled(t.nextPage)),i=oe();return(s,o)=>(n(),d(a(j),O(t,{"aria-label":"Next page",type:s.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:o[0]||(o[0]=c=>a(i).nextPage(t.nextPage))}),{default:r(()=>[B(s.$slots,"default",{disabled:e.value},()=>[o[1]||(o[1]=R(" Next page "))])]),_:3},16,["type","aria-disabled","data-disabled","disabled"]))}}),tl=al,ll=y({__name:"RangeCalendarPrev",props:{prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=k(()=>i.disabled.value||i.isPrevButtonDisabled(t.prevPage)),i=oe();return(s,o)=>(n(),d(a(j),O(t,{"aria-label":"Previous page",type:s.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:o[0]||(o[0]=c=>a(i).prevPage(t.prevPage))}),{default:r(()=>[B(s.$slots,"default",{disabled:e.value},()=>[o[1]||(o[1]=R(" Prev page "))])]),_:3},16,["type","aria-disabled","data-disabled","disabled"]))}}),sl=ll;const Gl=y({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(n(),d(a(St),G(Y(t)),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}});function Wl(l){return aa.stringify(ja(l),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,e)=>typeof t=="boolean"?String(Number(t)):e(t)})}function jl(l){return aa.parse(l,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function nl(){return ta(Qa(Xa))}const rl=y({__name:"CheckFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t;return(s,o)=>(n(),d(a(J),{as:"label",class:"flex items-center gap-2 relative h-8 border",variant:"outline","aria-disabled":s.disabled,size:"sm"},{default:r(()=>[u(a(la),{"model-value":e.value,disabled:s.disabled,"onUpdate:modelValue":o[0]||(o[0]=c=>i("input",c))},null,8,["model-value","disabled"]),R(" "+b(e.filter.label),1)]),_:1},8,["aria-disabled"]))}}),il={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},ol=y({__name:"RangeCalendar",props:{defaultPlaceholder:{},defaultValue:{},modelValue:{},placeholder:{},allowNonContiguousRanges:{type:Boolean},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},maximumDays:{},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},isDateHighlightable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},disableDaysOutsideCurrentView:{type:Boolean},fixedDate:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,i=t,s=k(()=>{const{class:c,...f}=e;return f}),o=Za(s,i);return(c,f)=>(n(),d(a(Ot),O({class:a(U)("p-3",e.class)},a(o)),{default:r(({grid:v,weekDays:p})=>[u(a(ml),null,{default:r(()=>[u(a(hl)),u(a(gl)),u(a(yl))]),_:1}),L("div",il,[(n(!0),_(q,null,ae(v,(w,T)=>(n(),d(a(cl),{key:w.value.toString()},{default:r(()=>[u(a(pl),null,{default:r(()=>[u(a(We),null,{default:r(()=>[(n(!0),_(q,null,ae(p,h=>(n(),d(a(vl),{key:h},{default:r(()=>[R(b(h),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),u(a(fl),null,{default:r(()=>[(n(!0),_(q,null,ae(w.rows,(h,m)=>(n(),d(a(We),{key:`weekDate-${m}`,class:"mt-2 w-full"},{default:r(()=>[(n(!0),_(q,null,ae(h,C=>(n(),d(a(dl),{key:C.toString(),date:C,month:w.value,"month-index":T},{default:r(()=>[u(a(ul),{day:C,month:w.value},null,8,["day","month"])]),_:2},1032,["date","month","month-index"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),dl=y({__name:"RangeCalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{},month:{},monthIndex:{}},setup(l){const t=l,e=k(()=>{const{class:f,...v}=t;return v}),i=se(e),s=oe(),o=k(()=>{var f,v;return Re(t.date,t.month.add({months:1}))&&((f=s.startValue.value)==null?void 0:f.set({day:0}).compare(t.month.set({day:0})))<=0&&((v=s.endValue.value)==null?void 0:v.set({day:0}).compare(t.month.set({day:0})))>0}),c=k(()=>{var f,v;return Re(t.date,t.month.subtract({months:1}))&&((f=s.startValue.value)==null?void 0:f.set({day:0}).compare(t.month.set({day:0})))<0&&((v=s.endValue.value)==null?void 0:v.set({day:0}).compare(t.month.set({day:0})))>=0});return(f,v)=>(n(),d(a(At),O({class:a(U)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected][data-selection-end]:not([data-outside-view]))]:rounded-r-md [&:has([data-selected][data-selection-start]:not([data-outside-view]))]:rounded-l-md",a(s).isSelected(t.date)?"bg-accent":"",o.value?"bg-accent last:bg-transparent last:bg-linear-to-r last:from-accent last:to-transparent":"",c.value?"bg-accent first:bg-transparent first:bg-linear-to-l first:from-accent first:to-transparent":"",t.class)},a(i)),{default:r(()=>[B(f.$slots,"default")]),_:3},16,["class"]))}}),ul=y({__name:"RangeCalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(Tt),O({class:a(U)(a(Se)({variant:"ghost"}),"size-8 p-0 font-normal data-[selected]:opacity-100 outline -outline-offset-1 outline-transparent hover:outline-primary","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:invisible data-[outside-view]:text-muted-foreground/50! data-outside-view:bg-transparent!","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",t.class)},a(i)),{default:r(()=>[B(s.$slots,"default")]),_:3},16,["class"]))}}),cl=y({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(Lt),O({class:a(U)("w-full border-collapse space-y-1",t.class)},a(i)),{default:r(()=>[B(s.$slots,"default")]),_:3},16,["class"]))}}),fl=y({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(n(),d(a(Kt),G(Y(t)),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}}),pl=y({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(n(),d(a(Gt),G(Y(t)),{default:r(()=>[B(e.$slots,"default")]),_:3},16))}}),We=y({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(jt),O({class:a(U)("flex mt-2 w-full",t.class)},a(i)),{default:r(()=>[B(s.$slots,"default")]),_:3},16,["class"]))}}),vl=y({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(Xt),O({class:a(U)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",t.class)},a(i)),{default:r(()=>[B(s.$slots,"default")]),_:3},16,["class"]))}}),ml=y({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(Jt),O({class:a(U)("relative flex w-full items-center justify-between pt-1",t.class)},a(i)),{default:r(()=>[B(s.$slots,"default")]),_:3},16,["class"]))}}),gl=y({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(el),O({class:a(U)("text-sm font-medium",t.class)},a(i)),{default:r(({headingValue:c})=>[B(s.$slots,"default",{headingValue:c},()=>[R(b(c),1)])]),_:3},16,["class"]))}}),yl=y({__name:"RangeCalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(tl),O({class:a(U)(a(Se)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(i)),{default:r(()=>[B(s.$slots,"default",{},()=>[u(a(Ja),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),hl=y({__name:"RangeCalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...o}=t;return o}),i=se(e);return(s,o)=>(n(),d(a(sl),O({class:a(U)(a(Se)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(i)),{default:r(()=>[B(s.$slots,"default",{},()=>[u(a(Ya),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_l={key:0,class:"mr-2"},je=y({__name:"DateRangeFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean},preset:{}},setup(l){const t=l;return(e,i)=>"start"in t.value?(n(),d(a(ye),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:r(()=>[e.preset?(n(),_("span",_l,b(e.preset.label)+": ",1)):F("",!0),t.value.end?(n(),_(q,{key:1},[R(b(t.value.formatted.start)+" ",1),i[0]||(i[0]=L("span",{class:"mx-1.5"},"-",-1)),R(" "+b(t.value.formatted.end),1)],64)):(n(),_(q,{key:2},[R(b(t.value.formatted.start),1)],64))]),_:1})):F("",!0)}}),bl={"aria-hidden":"true"},Cl={key:1,class:"text-muted-foreground"},wl={class:"flex"},Dl={key:0,class:"flex flex-col shrink-0 p-3"},kl={class:"flex-1 min-w-0"},$l={class:"grid grid-cols-1 gap-4 p-3",key:"footer"},Rl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xl={class:"flex flex-col md:flex-row justify-end gap-3 pt-0"},Bl=y({__name:"DateRangeFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,s=z(),o=ta({start:"",end:""}),c=z(0),f=z(!1);ge(()=>e.value,()=>v());function v(){var D,$,H,M;s.value={start:(D=e.value)!=null&&D.start?_e(e.value.start):null,end:($=e.value)!=null&&$.end?_e(e.value.end):null},o.start=(H=s.value.start)==null?void 0:H.toString(),o.end=(M=s.value.end)==null?void 0:M.toString(),c.value++}function p(D){var $,H;return D.start===(($=e.value)==null?void 0:$.start)&&D.end===((H=e.value)==null?void 0:H.end)}function w(){v()}function T(D){f.value=!1,i("input",{start:D.start,end:D.end})}function h(){f.value=!1,i("input",s.value.start&&s.value.end?{start:s.value.start.toString(),end:s.value.end.toString()}:null)}function m(){var D,$;o.start=((D=s.value.start)==null?void 0:D.toString())??"",o.end=(($=s.value.end)==null?void 0:$.toString())??""}function C(){f.value=!1,i("input",null)}function x(){c.value++,s.value.start=o.start?_e(o.start):null,o.end||(o.end=o.start,s.value.end=s.value.start)}function I(){c.value++,s.value.end=o.end?_e(o.end):null,o.start||(o.start=o.end,s.value.start=s.value.end)}return(D,$)=>(n(),_("div",null,[D.inline?F("",!0):(n(),d(a(Fe),{key:0},{default:r(()=>[R(b(D.filter.label),1)]),_:1})),u(a(Ee),{open:f.value,"onUpdate:open":[$[4]||($[4]=H=>f.value=H),$[5]||($[5]=H=>H&&w())],modal:!D.inline},{default:r(()=>[u(a(qe),{"as-child":""},{default:r(()=>[D.inline?(n(),d(a(J),{key:0,class:"h-8 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",disabled:D.disabled,role:"combobox","aria-autocomplete":"none","aria-label":D.filter.label},{default:r(()=>[u(a(ze),{class:"h-4 w-4 opacity-50"}),L("span",bl,b(D.filter.label),1),e.value&&"start"in e.value?(n(),_(q,{key:0},[u(a(Ve),{orientation:"vertical",class:"h-4"}),u(je,O(e,{preset:e.filter.presets.find(H=>p(H))}),null,16,["preset"])],64)):F("",!0)]),_:1},8,["disabled","aria-label"])):(n(),d(a(J),{key:1,class:"mt-2 w-full text-left justify-between font-normal",variant:"outline",size:"sm",disabled:D.disabled,role:"combobox","aria-autocomplete":"none","aria-label":D.filter.label},{default:r(()=>[e.value&&"start"in e.value?(n(),d(je,O({key:0},e,{preset:e.filter.presets.find(H=>p(H))}),null,16,["preset"])):(n(),_("span",Cl,b(a(E)("sharp::form.multiselect.placeholder")),1)),u(a(ze),{class:"ml-2 h-4 w-4 stroke-[1.25]"})]),_:1},8,["disabled","aria-label"]))]),_:1}),u(a(He),{class:te(a(U)("w-auto p-0",D.inline?"":"w-(--reka-popover-trigger-width)"))},{default:r(()=>{var H;return[L("div",wl,[(H=D.filter.presets)!=null&&H.length?(n(),_("div",Dl,[(n(!0),_(q,null,ae(D.filter.presets,M=>(n(),d(a(J),{class:"text-left justify-start aria-current:bg-accent aria-current:text-accent-foreground","aria-current":p(M),size:"sm",variant:"ghost",onClick:de=>T(M)},{default:r(()=>[R(b(M.label),1)]),_:2},1032,["aria-current","onClick"]))),256))])):F("",!0),L("div",kl,[(n(),d(a(ol),{class:te(D.inline?"hidden md:block":"hidden"),modelValue:s.value,"onUpdate:modelValue":[$[0]||($[0]=M=>s.value=M),m],"number-of-months":2,locale:a(et)(),"week-starts-on":a(at)(e.filter.mondayFirst),"onUpdate:startValue":$[1]||($[1]=M=>s.value.start=M),key:c.value},null,8,["class","modelValue","locale","week-starts-on"])),L("div",$l,[L("div",Rl,[u(a(Ge),{class:"block",type:"date",modelValue:o.start,"onUpdate:modelValue":[$[2]||($[2]=M=>o.start=M),x],"aria-label":a(E)("sharp::form.daterange.start_placeholder")},null,8,["modelValue","aria-label"]),u(a(Ge),{class:"block",type:"date",modelValue:o.end,"onUpdate:modelValue":[$[3]||($[3]=M=>o.end=M),I],"aria-label":a(E)("sharp::form.daterange.end_placeholder")},null,8,["modelValue","aria-label"])]),L("div",xl,[s.value.end?(n(),d(a(J),{key:0,class:"max-md:h-8",variant:"outline",onClick:C},{default:r(()=>[R(b(a(E)("sharp::filters.select.reset")),1)]),_:1})):F("",!0),u(a(J),{class:"max-md:h-8",onClick:h},{default:r(()=>[R(b(a(E)("sharp::filters.daterange.confirm")),1)]),_:1})])])])])]}),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),Qe=y({__name:"SelectFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(n(),_("div",{class:te(["flex gap-1",{"flex-wrap":!t.inline}])},[Array.isArray(t.value)?(n(),_(q,{key:0},[t.value.length>2?(n(),d(a(ye),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:r(()=>[R(b(a(sa)("sharp::filters.select.label.selected",t.value.length,{count:t.value.length})),1)]),_:1})):(n(!0),_(q,{key:1},ae(t.filter.values.filter(i=>t.value.some(s=>i.id==s)),i=>(n(),d(a(ye),{key:i.id,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>[R(b(i.label),1)]),_:2},1024))),128))],64)):(n(),d(a(ye),{key:1,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>{var i;return[R(b((i=t.filter.values.find(s=>s.id==t.value))==null?void 0:i.label),1)]}),_:1}))],2))}}),Pl={"aria-hidden":"true"},fa=y({__name:"SelectButton",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>t.inline?(n(),d(a(J),{key:0,class:"relative text-left justify-start h-8 py-1.5 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:r(()=>[L("span",Pl,b(t.filter.label),1),B(t.$slots,"default"),u(a(xe),{class:"-mr-0.5 w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"])):(n(),d(a(J),{key:1,class:"mt-2 h-auto min-h-9 w-full text-left justify-start font-normal py-1.5 gap-2",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:r(()=>[B(t.$slots,"default"),u(a(xe),{class:"ml-auto w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"]))}}),Sl={key:1,class:"text-muted-foreground"},Fl={class:"max-w-80 line-clamp-2"},ql={key:0,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},Vl=y({__name:"SelectFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,s=z(!1),o=k(()=>Array.isArray(e.value)?e.value.length:e.value!=null);function c(v){return Array.isArray(e.value)?!!e.value.find(p=>v.id==p):e.value==v.id}function f(v){if(e.filter.multiple){const p=e.filter.values.filter(w=>{var h;const T=(h=e.value)==null?void 0:h.find(m=>w.id==m);return w.id===v.id?!T:T}).map(w=>w.id);i("input",p)}else s.value=!1,i("input",e.value==v.id?null:v.id)}return(v,p)=>(n(),_("div",null,[v.inline?F("",!0):(n(),d(a(Fe),{key:0},{default:r(()=>[R(b(v.filter.label),1)]),_:1})),u(a(Ee),{open:s.value,"onUpdate:open":p[1]||(p[1]=w=>s.value=w),modal:!v.inline},{default:r(()=>[u(a(qe),{"as-child":""},{default:r(()=>[u(fa,G(Y(e)),{default:r(()=>[v.inline?(n(),_(q,{key:0},[o.value?(n(),_(q,{key:0},[u(a(Ve),{orientation:"vertical",class:"h-4"}),u(Qe,G(Y(e)),null,16)],64)):F("",!0)],64)):(n(),_(q,{key:1},[o.value?(n(),d(Qe,G(O({key:0},e)),null,16)):(n(),_("span",Sl,b(a(E)("sharp::form.multiselect.placeholder")),1))],64))]),_:1},16)]),_:1}),u(a(He),{class:te(a(U)("p-0 w-auto min-w-[150px]",v.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:r(()=>[u(a(na),{multiple:e.filter.multiple,"highlight-on-hover":""},{default:r(()=>[v.filter.searchable?(n(),d(a(ra),{key:0,placeholder:a(E)("sharp::form.multiselect.placeholder")},null,8,["placeholder"])):F("",!0),u(a(ia),{class:"scroll-pb-12"},{default:r(()=>[u(a(oa),null,{default:r(()=>[R(b(a(E)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),u(a(Be),null,{default:r(()=>[(n(!0),_(q,null,ae(v.filter.values,w=>(n(),d(a(Pe),{key:w.id,class:"pr-6",value:w,"aria-selected":c(w),onSelect:T=>f(w)},{default:r(()=>[v.filter.multiple?(n(),d(a(la),{key:0,class:te({"opacity-50":!c(w)}),"model-value":c(w)},null,8,["class","model-value"])):F("",!0),v.filter.multiple?F("",!0):(n(),d(a(da),{key:1,class:te(a(U)("h-4 w-4",c(w)?"opacity-100":"opacity-0"))},null,8,["class"])),L("div",Fl,b(w.label),1)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1}),e.valuated?(n(),_("div",ql,[u(a(ua)),u(a(Be),null,{default:r(()=>[u(a(Pe),{value:{label:a(E)("sharp::filters.select.reset")},class:"justify-center text-center font-medium",onSelect:p[0]||(p[0]=w=>{i("input",null),s.value=!1})},{default:r(()=>[R(b(a(E)("sharp::filters.select.reset")),1)]),_:1},8,["value"])]),_:1})])):F("",!0)]),_:1})]),_:1},8,["multiple"])]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),Xe=y({__name:"AutocompleteRemoteFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(n(),_("div",{class:te(["flex gap-1",{"flex-wrap":!t.inline}])},[u(a(ye),{variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>[R(b(t.value.label),1)]),_:1})],2))}}),Hl={key:1,class:"text-muted-foreground"},El={key:0,class:"py-6 px-4 text-center text-sm"},Ol=["innerHTML"],Nl={key:2,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},Al={class:"p-1"},Ml=y({__name:"AutocompleteRemoteFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,s=z(!1),o=z(""),{results:c,loading:f,search:v}=tt(({query:m,signal:C,onSuccess:x,onError:I})=>lt.post(st("code16.sharp.api.filters.autocomplete.index",{entityKey:e.entityKey,filterKey:e.filter.key,query:m}),{},{signal:C}).then(x,I).then(D=>D.data.data),{debounceDelay:e.filter.debounceDelay,minLength:e.filter.searchMinChars});function p(m){var C;return Array.isArray(e.value)?!!e.value.find(x=>m.id==x.id):((C=e.value)==null?void 0:C.id)==m.id}function w(m){var C;s.value=!1,i("input",((C=e.value)==null?void 0:C.id)==m.id?null:m)}function T(m){!m.length&&!o.value||(o.value=m,v(m))}function h(){!o.value&&e.filter.searchMinChars===0&&v("",!0)}return(m,C)=>(n(),_("div",null,[m.inline?F("",!0):(n(),d(a(Fe),{key:0},{default:r(()=>[R(b(m.filter.label),1)]),_:1})),u(a(Ee),{open:s.value,"onUpdate:open":[C[1]||(C[1]=x=>s.value=x),C[2]||(C[2]=x=>x?h():null)],modal:!m.inline},{default:r(()=>[u(a(qe),{"as-child":""},{default:r(()=>[u(fa,G(Y(e)),{default:r(()=>[m.inline?(n(),_(q,{key:0},[e.value?(n(),_(q,{key:0},[u(a(Ve),{orientation:"vertical",class:"h-4"}),u(Xe,G(Y(e)),null,16)],64)):F("",!0)],64)):(n(),_(q,{key:1},[e.value?(n(),d(Xe,G(O({key:0},e)),null,16)):(n(),_("span",Hl,b(a(E)("sharp::form.autocomplete.placeholder")),1))],64))]),_:1},16)]),_:1}),u(a(He),{class:te(a(U)("p-0 w-auto min-w-[200px]",m.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:r(()=>[u(a(na),{"highlight-on-hover":""},{default:r(()=>[u(a(ra),{class:"field-sizing-content","model-value":o.value,placeholder:e.filter.searchMinChars>1?a(sa)("sharp::form.autocomplete.query_too_short",e.filter.searchMinChars,{min_chars:e.filter.searchMinChars}):a(E)("sharp::form.autocomplete.placeholder"),"onUpdate:modelValue":T},null,8,["model-value","placeholder"]),u(a(ia),{class:"scroll-pb-12"},{default:r(()=>[a(f)?(n(),_("div",El,b(a(E)("sharp::form.autocomplete.loading")),1)):(n(),_(q,{key:1},[u(a(oa),null,{default:r(()=>[R(b(a(E)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),a(c).length?(n(),d(a(Be),{key:0},{default:r(()=>[(n(!0),_(q,null,ae(a(c),x=>(n(),d(a(Pe),{key:x.id,class:"pr-6",value:x,"aria-selected":p(x),onSelect:I=>w(x)},{default:r(()=>[u(a(da),{class:te(a(U)("h-4 w-4",p(x)?"opacity-100":"opacity-0"))},null,8,["class"]),L("div",{class:"max-w-80 line-clamp-2",innerHTML:x.label},null,8,Ol)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1})):F("",!0)],64)),m.valuated?(n(),_("div",Nl,[a(c).length||a(f)?(n(),d(a(ua),{key:0})):F("",!0),L("div",Al,[u(a(J),{class:"w-full h-8",variant:"ghost",onClick:C[0]||(C[0]=x=>{i("input",null),s.value=!1})},{default:r(()=>[R(b(a(E)("sharp::filters.select.reset")),1)]),_:1})])])):F("",!0)]),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),Ql=y({__name:"Filter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){const t=l,e={autocompleteRemote:Ml,check:rl,daterange:Bl,select:Vl};return(i,s)=>(n(),d(ca(e[i.filter.type]),G(Y(t)),null,16))}}),Tl=["srcdoc"],Il=y({__name:"CommandViewPanel",props:{commands:{}},setup(l){return(t,e)=>{var i;return n(),d(a(ot),{open:((i=t.commands.state.currentCommandResponse)==null?void 0:i.action)==="view","onUpdate:open":e[0]||(e[0]=s=>!s&&t.$nextTick(()=>t.commands.finish()))},{default:r(()=>[u(a(it),{class:"w-[calc(100%-2.5rem)] sm:w-3/4 sm:max-w-none",side:"left"},{close:r(()=>[u(a(nt),{class:"absolute right-0 translate-x-full text-white top-0 p-2 md:p-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary","aria-label":a(E)("sharp::modals.close.aria_label")},{default:r(()=>[u(a(rt),{class:"size-6"})]),_:1},8,["aria-label"])]),default:r(()=>{var s;return[((s=t.commands.state.currentCommandResponse)==null?void 0:s.action)==="view"?(n(),_("iframe",{key:0,class:"absolute inset-0 size-full border-0",srcdoc:t.commands.state.currentCommandResponse.html,sandbox:"allow-forms allow-scripts allow-same-origin allow-popups allow-modals allow-downloads"},null,8,Tl)):F("",!0)]}),_:1})]),_:1},8,["open"])}}}),Ll=y({__name:"CommandFormModal",props:{commands:{}},setup(l){const t=l,e=z(),i=z(!1),s=z(0),o=dt("content");return Ye(()=>t.commands.state.currentCommandForm,"error",()=>{o.value.scrollToTop()}),ut(()=>{i.value=!!t.commands.state.currentCommandForm,s.value++}),(c,f)=>{const v=ct("SharpForm");return n(),d(a(_t),{open:i.value,"onUpdate:open":[f[4]||(f[4]=p=>i.value=p),f[5]||(f[5]=p=>!p&&c.$nextTick(()=>c.commands.finish()))]},{default:r(()=>[u(a(ht),{class:"sm:max-w-[558px] gap-8",onPointerDownOutside:f[3]||(f[3]=yt(()=>{},["prevent"])),ref_key:"content",ref:o},{default:r(()=>[c.commands.state.currentCommandForm?(n(),_(q,{key:0},[u(a(ft),null,{default:r(()=>[u(a(pt),null,{default:r(()=>[R(b(c.commands.state.currentCommandForm.config.title),1)]),_:1}),c.commands.state.currentCommandForm.config.description?(n(),d(a(vt),{key:0,as:"div",innerHTML:c.commands.state.currentCommandForm.config.description},null,8,["innerHTML"])):F("",!0)]),_:1}),L("div",null,[(n(),d(v,{"post-fn":p=>c.commands.postForm(p),form:c.commands.state.currentCommandForm,"show-error-alert":c.commands.state.currentCommandForm.hasErrors,"error-alert-message":c.commands.state.currentCommandForm.fieldError("error"),onLoading:f[0]||(f[0]=p=>c.commands.state.currentCommandFormLoading=p),key:`form-${s.value}`,modal:"",ref_key:"form",ref:e},null,8,["post-fn","form","show-error-alert","error-alert-message"]))]),u(a(mt),null,{default:r(()=>[u(a(gt),{"as-child":""},{default:r(()=>[u(a(J),{variant:"outline"},{default:r(()=>[R(b(a(E)("sharp::modals.cancel_button")),1)]),_:1})]),_:1}),c.commands.state.currentCommandForm.config.showSubmitAndReopenButton?(n(),d(a(J),{key:0,variant:"outline",disabled:c.commands.state.currentCommandFormLoading,onClick:f[1]||(f[1]=p=>e.value.submit({_shouldReopen:!0}))},{default:r(()=>[R(b(c.commands.state.currentCommandForm.config.submitAndReopenButtonLabel??a(E)("sharp::modals.command.submit_and_reopen_button")),1)]),_:1},8,["disabled"])):F("",!0),u(a(J),{disabled:c.commands.state.currentCommandFormLoading,onClick:f[2]||(f[2]=p=>e.value.submit())},{default:r(()=>[R(b(c.commands.state.currentCommandForm.config.buttonLabel??a(E)("sharp::modals.command.submit_button")),1)]),_:1},8,["disabled"])]),_:1})],64)):F("",!0)]),_:1},512)]),_:1},8,["open"])}}}),Xl=y({__name:"WithCommands",props:{commands:{}},setup(l){return(t,e)=>(n(),_(q,null,[B(t.$slots,"default"),u(Il,{commands:t.commands},null,8,["commands"]),u(Ll,{commands:t.commands},null,8,["commands"])],64))}}),Ul={key:0,class:"text-xs text-muted-foreground"},Zl=y({__name:"CommandDropdownItems",props:{commands:{},selecting:{type:Boolean}},emits:["select"],setup(l){const t=l;function e(s){return!t.selecting&&s.instanceSelection==="required"}const i=nl();return(s,o)=>{var c;return n(!0),_(q,null,ae((c=s.commands)==null?void 0:c.filter(f=>f.length>0),(f,v)=>(n(),_(q,null,[v>0?(n(),d(a(bt),{key:0,class:"first:hidden"})):F("",!0),u(a(Bt),{class:"max-w-sm"},{default:r(()=>[u(a(Ct),null,{default:r(()=>[(n(!0),_(q,null,ae(f,p=>(n(),d(a(wt),{key:p.key,"delay-duration":0},{default:r(()=>[(n(),d(ca(e(p)?a(Dt):"div"),{onTouchend:w=>e(p)&&a(kt)(a(E)("sharp::entity_list.commands.needs_selection_message"),{highlightElement:w.target}),as:"div"},{default:r(()=>[u(a($t),{onClick:w=>s.$emit("select",p),disabled:e(p)},{default:r(()=>[p.icon?(n(),d(Rt,{key:0,icon:p.icon,class:"size-4"},null,8,["icon"])):F("",!0),L("div",null,[R(b(p.label)+" ",1),p.description?(n(),_("div",Ul,b(p.description),1)):F("",!0)])]),_:2},1032,["onClick","disabled"])]),_:2},1064,["onTouchend"])),u(a(xt),{class:"max-w-sm",side:a(i).md?"left":"bottom"},{default:r(()=>[R(b(a(E)("sharp::entity_list.commands.needs_selection_message")),1)]),_:1},8,["side"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)],64))),256)}}}),Jl=y({__name:"DropdownChevronDown",setup(l){return(t,e)=>(n(),d(a(xe),{class:te(a(U)("size-4 opacity-50 ml-1.5 -mr-0.5",t.$attrs.class))},null,8,["class"]))}});export{zl as F,Xl as _,Jl as a,Zl as b,Gl as c,Ql as d,jl as p,Wl as s,nl as u};
