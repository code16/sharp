import{bf as ka,d as v,bW as Da,bh as Ba,p as Pa,aq as Ge,o as s,c as u,w as o,q as D,v as A,u as a,P as q,y as w,bX as $e,bY as J,bZ as xa,b_ as Ra,at as Sa,b$ as qe,bg as Fa,c0 as Ea,al as W,c1 as Ie,c2 as Ha,c3 as Va,c4 as Aa,au as ge,c5 as re,c6 as Qe,c7 as Oa,j as L,t as g,x as Na,c8 as Xe,c9 as Ia,ca as Ma,cb as Ta,cc as Ua,cd as La,b as k,ce as Ka,cf as _e,aw as Me,cg as Te,ay as j,az as X,ch as Ye,ci as za,aS as Je,cj as Wa,ck as ja,a as d,K as Ze,k as Q,cl as Ga,A as h,F as x,H as te,z as K,cm as se,cn as De,br as qa,bq as Qa,i as R,Y as ce,co as he,l as Be,cp as Pe,cq as Ue,cr as xe,_ as V,cs as Re,V as le,m as Le,ct as Se,bN as ea,cu as we,cv as aa,cw as ta,cx as la,cy as sa,cz as Ce,cA as ke,f as na,cB as oa,cC as Xa,aW as Ya,r as Ja,ax as ra,cD as Za,bv as et,cE as at,cF as tt,ak as lt,bn as st,aR as nt,aG as ot,aH as rt,cG as it,aI as dt,aJ as ut,n as ct,aF as ft,aE as pt,b7 as mt,bO as vt,bP as ht,bQ as gt,bd as yt,b8 as bt,bR as _t,b2 as $t}from"./sharp-CPDnuTsa.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ka("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),wt=v({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(l){const t=l,e=Da(),{forwardRef:r,currentElement:n}=Ba();return e.contentId||(e.contentId=Pa(void 0,"reka-dialog-content")),Ge(()=>{e.triggerElement.value=n.value}),(i,c)=>(s(),u(a(q),A(t,{ref:a(r),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":a(e).open.value||!1,"aria-controls":a(e).open.value?a(e).contentId:void 0,"data-state":a(e).open.value?"open":"closed",onClick:a(e).onOpenToggle}),{default:o(()=>[D(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}});function Ct(l){const t=w(()=>l.start.value?!!l.isDateDisabled(l.start.value):!1),e=w(()=>l.end.value?!!l.isDateDisabled(l.end.value):!1),r=w(()=>t.value||e.value?!1:!!(l.start.value&&l.end.value&&$e(l.end.value,l.start.value))),n=$=>l.start.value?J(l.start.value,$):!1,i=$=>l.end.value?J(l.end.value,$):!1,c=$=>l.start.value&&J(l.start.value,$)||l.end.value&&J(l.end.value,$)?!0:l.end.value&&l.start.value?Ra($,l.start.value,l.end.value):!1,m=$=>{var E;return!!((E=l.isDateHighlightable)!=null&&E.call(l,$))},f=w(()=>{if(l.start.value&&l.end.value||!l.start.value||!l.focusedValue.value)return null;const $=$e(l.start.value,l.focusedValue.value),E=$?l.start.value:l.focusedValue.value,b=$?l.focusedValue.value:l.start.value;return J(E,b)?{start:E,end:b}:xa(E,b,l.allowNonContiguousRanges.value?()=>!1:l.isDateUnavailable,l.isDateDisabled,l.isDateHighlightable)?{start:E,end:b}:null});return{isInvalid:r,isSelected:c,isDateHighlightable:m,highlightedRange:f,isSelectionStart:n,isSelectionEnd:i,isHighlightedStart:$=>!f.value||!f.value.start?!1:J(f.value.start,$),isHighlightedEnd:$=>!f.value||!f.value.end?!1:J(f.value.end,$)}}const kt={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},Dt={role:"heading","aria-level":"2"},[de,Bt]=Na("RangeCalendarRoot"),Pt=v({__name:"RangeCalendarRoot",props:{defaultPlaceholder:{},defaultValue:{default:()=>({start:void 0,end:void 0})},modelValue:{},placeholder:{default:void 0},allowNonContiguousRanges:{type:Boolean,default:!1},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},isDateHighlightable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,r=t,{disabled:n,readonly:i,initialFocus:c,pagedNavigation:m,weekStartsOn:f,weekdayFormat:p,fixedWeeks:_,numberOfMonths:$,preventDeselect:E,isDateUnavailable:b,isDateHighlightable:S,isDateDisabled:F,calendarLabel:Z,maxValue:C,minValue:B,dir:H,locale:N,nextPage:fe,prevPage:pe,allowNonContiguousRanges:ye}=Sa(e),{primitiveElement:I,currentElement:O}=qe(),oe=Fa(H),ie=Ea(N),Y=W(),me=W(),ee=W(!1),M=Ie(e,"modelValue",r,{defaultValue:e.defaultValue??{start:void 0,end:void 0},passive:e.modelValue===void 0}),ue=w(()=>Ha(M.value)?{start:void 0,end:void 0}:M.value),G=Va({defaultPlaceholder:e.placeholder,defaultValue:ue.value.start,locale:e.locale}),P=W(ue.value.start),z=W(ue.value.end),ne=Ie(e,"placeholder",r,{defaultValue:e.defaultPlaceholder??G.copy(),passive:e.placeholder===void 0});function ae(y){ne.value=y.copy()}const{fullCalendarLabel:be,headingValue:da,isDateDisabled:Fe,isDateUnavailable:Ee,isNextButtonDisabled:ua,isPrevButtonDisabled:ca,grid:He,weekdays:Ve,isOutsideVisibleView:fa,nextPage:pa,prevPage:ma,formatter:va}=Aa({locale:ie,placeholder:ne,weekStartsOn:f,fixedWeeks:_,numberOfMonths:$,minValue:B,maxValue:C,disabled:n,weekdayFormat:p,pagedNavigation:m,isDateDisabled:F.value,isDateUnavailable:b.value,calendarLabel:Z,nextPage:fe,prevPage:pe}),{isInvalid:Ae,isSelected:ha,isDateHighlightable:ga,highlightedRange:ya,isSelectionStart:ba,isSelectionEnd:_a,isHighlightedStart:$a,isHighlightedEnd:wa}=Ct({start:P,end:z,isDateDisabled:Fe,isDateUnavailable:Ee,isDateHighlightable:S.value,focusedValue:me,allowNonContiguousRanges:ye});ge(M,(y,T)=>{var U,Oe,ve,Ne;(!(T!=null&&T.start)&&(y!=null&&y.start)||!y||!y.start||P.value&&!re(y.start,P.value))&&(P.value=(Oe=(U=y==null?void 0:y.start)==null?void 0:U.copy)==null?void 0:Oe.call(U)),(!(T!=null&&T.end)&&y.end||!y||!y.end||z.value&&!re(y.end,z.value))&&(z.value=(Ne=(ve=y==null?void 0:y.end)==null?void 0:ve.copy)==null?void 0:Ne.call(ve))}),ge(P,y=>{y&&!re(y,ne.value)&&ae(y),r("update:startValue",y)}),ge([P,z],([y,T])=>{const U=ue.value;if(!(U&&U.start&&U.end&&y&&T&&re(U.start,y)&&re(U.end,T))&&(ee.value=!0,y&&T)){if(ee.value=!1,U.start&&U.end&&re(U.start,y)&&re(U.end,T))return;$e(T,y)?M.value={start:T.copy(),end:y.copy()}:M.value={start:y.copy(),end:T.copy()}}});const Ca=Xe();return Qe("keydown",y=>{var T,U;y.key===Ca.ESCAPE&&ee.value&&(P.value=(T=M.value.start)==null?void 0:T.copy(),z.value=(U=M.value.end)==null?void 0:U.copy())}),Bt({isDateUnavailable:Ee,isDateHighlightable:ga,startValue:P,endValue:z,formatter:va,modelValue:M,placeholder:ne,disabled:n,initialFocus:c,pagedNavigation:m,grid:He,weekDays:Ve,weekStartsOn:f,weekdayFormat:p,fixedWeeks:_,numberOfMonths:$,readonly:i,preventDeselect:E,fullCalendarLabel:be,headingValue:da,isInvalid:Ae,isDateDisabled:Fe,highlightedRange:ya,focusedValue:me,lastPressedDateValue:Y,isSelected:ha,isSelectionEnd:_a,isSelectionStart:ba,isNextButtonDisabled:ua,isPrevButtonDisabled:ca,isOutsideVisibleView:fa,nextPage:pa,prevPage:ma,parentElement:O,onPlaceholderChange:ae,locale:ie,dir:oe,isHighlightedStart:$a,isHighlightedEnd:wa}),Ge(()=>{c.value&&Oa(O.value)}),(y,T)=>(s(),u(a(q),{ref_key:"primitiveElement",ref:I,as:y.as,"as-child":y.asChild,role:"application","aria-label":a(be),"data-readonly":a(i)?"":void 0,"data-disabled":a(n)?"":void 0,"data-invalid":a(Ae)?"":void 0,dir:a(oe)},{default:o(()=>[L("div",kt,[L("div",Dt,g(a(be)),1)]),D(y.$slots,"default",{date:a(ne),grid:a(He),weekDays:a(Ve),weekStartsOn:a(f),locale:a(ie),fixedWeeks:a(_),modelValue:a(M)})]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),xt=v({__name:"RangeCalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(l){const t=de();return(e,r)=>{var n,i;return s(),u(a(q),{as:e.as,"as-child":e.asChild,role:"gridcell","aria-selected":a(t).isSelected(e.date)?!0:void 0,"aria-disabled":a(t).isDateDisabled(e.date)||((i=(n=a(t)).isDateUnavailable)==null?void 0:i.call(n,e.date)),"data-disabled":a(t).isDateDisabled(e.date)?"":void 0},{default:o(()=>[D(e.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),Rt=v({__name:"RangeCalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(l){const t=l,e=de(),r=Xe(),{primitiveElement:n,currentElement:i}=qe(),c=w(()=>e.formatter.custom(Ia(t.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),m=w(()=>e.isDateDisabled(t.day)),f=w(()=>{var I;return((I=e.isDateUnavailable)==null?void 0:I.call(e,t.day))??!1}),p=w(()=>e.isSelected(t.day)),_=w(()=>e.isSelectionStart(t.day)),$=w(()=>e.isSelectionEnd(t.day)),E=w(()=>e.isHighlightedStart(t.day)),b=w(()=>e.isHighlightedEnd(t.day)),S=w(()=>e.highlightedRange.value?Ma(t.day,e.highlightedRange.value.start,e.highlightedRange.value.end):!1),F=w(()=>Ta(t.day,Ua())),Z=w(()=>!La(t.day,t.month)),C=w(()=>e.isOutsideVisibleView(t.day)),B=w(()=>t.day.day.toLocaleString(e.locale.value)),H=w(()=>!e.disabled.value&&J(t.day,e.placeholder.value));function N(I,O){var oe;if(!e.readonly.value&&!(e.isDateDisabled(O)||(oe=e.isDateUnavailable)!=null&&oe.call(e,O))){if(e.lastPressedDateValue.value=O.copy(),e.startValue.value&&e.highlightedRange.value===null){if(J(O,e.startValue.value)&&!e.preventDeselect.value&&!e.endValue.value){e.startValue.value=void 0,e.onPlaceholderChange(O);return}else if(!e.endValue.value){I.preventDefault(),e.lastPressedDateValue.value&&J(e.lastPressedDateValue.value,O)&&(e.startValue.value=O.copy());return}}if(e.startValue.value&&e.endValue.value&&J(e.endValue.value,O)&&!e.preventDeselect.value){e.startValue.value=void 0,e.endValue.value=void 0,e.onPlaceholderChange(O);return}e.startValue.value?e.endValue.value?e.endValue.value&&e.startValue.value&&(e.endValue.value=void 0,e.startValue.value=O.copy()):e.endValue.value=O.copy():e.startValue.value=O.copy()}}function fe(I){N(I,t.day)}function pe(){var I;e.isDateDisabled(t.day)||(I=e.isDateUnavailable)!=null&&I.call(e,t.day)||(e.focusedValue.value=t.day.copy())}function ye(I){I.preventDefault(),I.stopPropagation();const O=e.parentElement.value,oe=7,ie=e.dir.value==="rtl"?-1:1;switch(I.code){case r.ARROW_RIGHT:Y(i.value,ie);break;case r.ARROW_LEFT:Y(i.value,-ie);break;case r.ARROW_UP:Y(i.value,-7);break;case r.ARROW_DOWN:Y(i.value,oe);break;case r.ENTER:case r.SPACE_CODE:N(I,t.day)}function Y(me,ee){const M=_e(O);if(!M.length)return;const G=M.indexOf(me)+ee;if(G>=0&&G<M.length){M[G].hasAttribute("data-disabled")&&Y(M[G],ee),M[G].focus();return}if(G<0){if(e.isPrevButtonDisabled())return;e.prevPage(),Me(()=>{const P=_e(O);if(!P.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const ae=Te(e.placeholder.value)-Math.abs(G);P[ae].hasAttribute("data-disabled")&&Y(P[ae],ee),P[ae].focus();return}const z=P.length-Math.abs(G);P[z].hasAttribute("data-disabled")&&Y(P[z],ee),P[z].focus()});return}if(G>=M.length){if(e.isNextButtonDisabled())return;e.nextPage(),Me(()=>{const P=_e(O);if(!P.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const ne=Te(e.placeholder.value.add({months:e.numberOfMonths.value-1})),ae=G-M.length+(P.length-ne);P[ae].hasAttribute("data-disabled")&&Y(P[ae],ee),P[ae].focus();return}const z=G-M.length;P[z].hasAttribute("data-disabled")&&Y(P[z],ee),P[z].focus()})}}}return(I,O)=>(s(),u(a(q),A({ref_key:"primitiveElement",ref:n},t,{role:"button","aria-label":c.value,"data-reka-calendar-cell-trigger":"","aria-selected":p.value&&!f.value?!0:void 0,"aria-disabled":m.value||f.value?!0:void 0,"data-highlighted":S.value&&!f.value?"":void 0,"data-selection-start":_.value?!0:void 0,"data-selection-end":$.value?!0:void 0,"data-highlighted-start":E.value?!0:void 0,"data-highlighted-end":b.value?!0:void 0,"data-selected":p.value&&!f.value?!0:void 0,"data-outside-visible-view":C.value?"":void 0,"data-value":I.day.toString(),"data-disabled":m.value?"":void 0,"data-unavailable":f.value?"":void 0,"data-today":F.value?"":void 0,"data-outside-view":Z.value?"":void 0,"data-focused":H.value?"":void 0,tabindex:H.value?0:Z.value||m.value?void 0:-1,onClick:fe,onFocusin:pe,onMouseenter:pe,onKeydown:Ka(ye,["up","down","left","right","enter","space"])}),{default:o(()=>[D(I.$slots,"default",{dayValue:B.value,disabled:m.value,today:F.value,selected:p.value,outsideView:Z.value,outsideVisibleView:C.value,unavailable:f.value,highlighted:S.value&&!f.value,highlightedStart:E.value,highlightedEnd:b.value,selectionStart:_.value,selectionEnd:$.value},()=>[k(g(B.value),1)])]),_:3},16,["aria-label","aria-selected","aria-disabled","data-highlighted","data-selection-start","data-selection-end","data-highlighted-start","data-highlighted-end","data-selected","data-outside-visible-view","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-focused","tabindex"]))}}),St=v({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(l){const t=l,e=de(),r=w(()=>e.disabled.value?!0:void 0),n=w(()=>e.readonly.value?!0:void 0);return(i,c)=>(s(),u(a(q),A(t,{tabindex:"-1",role:"grid","aria-readonly":n.value,"aria-disabled":r.value,"data-readonly":n.value&&"","data-disabled":r.value&&""}),{default:o(()=>[D(i.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Ft=v({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(l){const t=l;return(e,r)=>(s(),u(a(q),j(X(t)),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}}),Et=v({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(l){const t=l;return(e,r)=>(s(),u(a(q),A(t,{"aria-hidden":"true"}),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}}),Ht=v({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(l){const t=l;return(e,r)=>(s(),u(a(q),j(X(t)),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}}),Vt=v({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(l){const t=l;return(e,r)=>(s(),u(a(q),j(X(t)),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}}),At=v({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(l){const t=l;return(e,r)=>(s(),u(a(q),j(X(t)),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}}),Ot=v({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(l){const t=l,e=de();return(r,n)=>(s(),u(a(q),A(t,{"data-disabled":a(e).disabled.value?"":void 0}),{default:o(()=>[D(r.$slots,"default",{headingValue:a(e).headingValue.value},()=>[k(g(a(e).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),Nt=v({__name:"RangeCalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(l){const t=l,e=w(()=>r.disabled.value||r.isNextButtonDisabled(t.nextPage)),r=de();return(n,i)=>(s(),u(a(q),A(t,{"aria-label":"Next page",type:n.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:i[0]||(i[0]=c=>a(r).nextPage(t.nextPage))}),{default:o(()=>[D(n.$slots,"default",{disabled:e.value},()=>[i[1]||(i[1]=k(" Next page "))])]),_:3},16,["type","aria-disabled","data-disabled","disabled"]))}}),It=v({__name:"RangeCalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(l){const t=l,e=w(()=>r.disabled.value||r.isPrevButtonDisabled(t.prevPage)),r=de();return(n,i)=>(s(),u(a(q),A(t,{"aria-label":"Previous page",type:n.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:i[0]||(i[0]=c=>a(r).prevPage(t.prevPage))}),{default:o(()=>[D(n.$slots,"default",{disabled:e.value},()=>[i[1]||(i[1]=k(" Prev page "))])]),_:3},16,["type","aria-disabled","data-disabled","disabled"]))}}),Bl=v({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,r)=>(s(),u(a(wt),j(X(t)),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}});function Pl(l){return Ye.stringify(za(l),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,e)=>typeof t=="boolean"?String(Number(t)):e(t)})}function xl(l){return Ye.parse(l,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function Mt(){return Je(Wa(ja))}const Tt=v({__name:"CheckFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,r=t;return(n,i)=>(s(),u(a(Q),{as:"label",class:"flex items-center gap-2 relative h-8 border",variant:"outline","aria-disabled":n.disabled,size:"sm"},{default:o(()=>[d(a(Ze),{"model-value":e.value,disabled:n.disabled,"onUpdate:modelValue":i[0]||(i[0]=c=>r("input",c))},null,8,["model-value","disabled"]),k(" "+g(e.filter.label),1)]),_:1},8,["aria-disabled"]))}}),Ut={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},Lt=v({__name:"RangeCalendar",props:{defaultPlaceholder:{},defaultValue:{},modelValue:{},placeholder:{},allowNonContiguousRanges:{type:Boolean},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},isDateHighlightable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,r=t,n=w(()=>{const{class:c,...m}=e;return m}),i=Ga(n,r);return(c,m)=>(s(),u(a(Pt),A({class:a(K)("p-3",e.class)},a(i)),{default:o(({grid:f,weekDays:p})=>[d(a(Qt),null,{default:o(()=>[d(a(Jt)),d(a(Xt)),d(a(Yt))]),_:1}),L("div",Ut,[(s(!0),h(x,null,te(f,_=>(s(),u(a(Wt),{key:_.value.toString()},{default:o(()=>[d(a(Gt),null,{default:o(()=>[d(a(Ke),null,{default:o(()=>[(s(!0),h(x,null,te(p,$=>(s(),u(a(qt),{key:$},{default:o(()=>[k(g($),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),d(a(jt),null,{default:o(()=>[(s(!0),h(x,null,te(_.rows,($,E)=>(s(),u(a(Ke),{key:`weekDate-${E}`,class:"mt-2 w-full"},{default:o(()=>[(s(!0),h(x,null,te($,b=>(s(),u(a(Kt),{key:b.toString(),date:b},{default:o(()=>[d(a(zt),{day:b,month:_.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),Kt=v({__name:"RangeCalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(xt),A({class:a(K)("relative h-9 w-9 p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-month])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default")]),_:3},16,["class"]))}}),zt=v({__name:"RangeCalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(Rt),A({class:a(K)(a(De)({variant:"ghost"}),"h-9 w-9 p-0 font-normal data-selected:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-outside-month:pointer-events-none data-[outside-month]:text-muted-foreground data-outside-month:opacity-50 [&[data-outside-month][data-selected]]:bg-accent/50 [&[data-outside-month][data-selected]]:text-muted-foreground [&[data-outside-month][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-disabled:opacity-50","data-[unavailable]:text-destructive-foreground data-unavailable:line-through",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default")]),_:3},16,["class"]))}}),Wt=v({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(St),A({class:a(K)("w-full border-collapse space-y-1",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default")]),_:3},16,["class"]))}}),jt=v({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,r)=>(s(),u(a(Ft),j(X(t)),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}}),Gt=v({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,r)=>(s(),u(a(Et),j(X(t)),{default:o(()=>[D(e.$slots,"default")]),_:3},16))}}),Ke=v({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(Ht),A({class:a(K)("flex mt-2 w-full",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default")]),_:3},16,["class"]))}}),qt=v({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(Vt),A({class:a(K)("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default")]),_:3},16,["class"]))}}),Qt=v({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(At),A({class:a(K)("relative flex w-full items-center justify-between pt-1",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default")]),_:3},16,["class"]))}}),Xt=v({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(Ot),A({class:a(K)("text-sm font-medium",t.class)},a(r)),{default:o(({headingValue:c})=>[D(n.$slots,"default",{headingValue:c},()=>[k(g(c),1)])]),_:3},16,["class"]))}}),Yt=v({__name:"RangeCalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(Nt),A({class:a(K)(a(De)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default",{},()=>[d(a(qa),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Jt=v({__name:"RangeCalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=w(()=>{const{class:n,...i}=t;return i}),r=se(e);return(n,i)=>(s(),u(a(It),A({class:a(K)(a(De)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(r)),{default:o(()=>[D(n.$slots,"default",{},()=>[d(a(Qa),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Zt={key:0,class:"mr-2"},ze=v({__name:"DateRangeFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean},preset:{}},setup(l){const t=l;return(e,r)=>"start"in t.value?(s(),u(a(ce),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:o(()=>[e.preset?(s(),h("span",Zt,g(e.preset.label)+": ",1)):R("",!0),t.value.end?(s(),h(x,{key:1},[k(g(t.value.formatted.start)+" ",1),r[0]||(r[0]=L("span",{class:"mx-1.5"},"-",-1)),k(" "+g(t.value.formatted.end),1)],64)):(s(),h(x,{key:2},[k(g(t.value.formatted.start),1)],64))]),_:1})):R("",!0)}}),el={"aria-hidden":"true"},al={key:1,class:"text-muted-foreground"},tl={class:"flex"},ll={key:0,class:"flex flex-col shrink-0 p-3"},sl={class:"flex-1 min-w-0"},nl={class:"grid grid-cols-1 gap-4 p-3",key:"footer"},ol={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rl={class:"flex flex-col md:flex-row justify-end gap-3 pt-0"},il=v({__name:"DateRangeFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,r=t,n=W(),i=Je({start:"",end:""}),c=W(0),m=W(!1);ge(()=>e.value,()=>f());function f(){var C,B,H,N;n.value={start:(C=e.value)!=null&&C.start?he(e.value.start):null,end:(B=e.value)!=null&&B.end?he(e.value.end):null},i.start=(H=n.value.start)==null?void 0:H.toString(),i.end=(N=n.value.end)==null?void 0:N.toString(),c.value++}function p(C){var B,H;return C.start===((B=e.value)==null?void 0:B.start)&&C.end===((H=e.value)==null?void 0:H.end)}function _(){f()}function $(C){m.value=!1,r("input",{start:C.start,end:C.end})}function E(){m.value=!1,r("input",n.value.start&&n.value.end?{start:n.value.start.toString(),end:n.value.end.toString()}:null)}function b(){var C,B;i.start=((C=n.value.start)==null?void 0:C.toString())??"",i.end=((B=n.value.end)==null?void 0:B.toString())??""}function S(){m.value=!1,r("input",null)}function F(){c.value++,n.value.start=i.start?he(i.start):null,i.end||(i.end=i.start,n.value.end=n.value.start)}function Z(){c.value++,n.value.end=i.end?he(i.end):null,i.start||(i.start=i.end,n.value.start=n.value.end)}return(C,B)=>(s(),h("div",null,[C.inline?R("",!0):(s(),u(a(Be),{key:0},{default:o(()=>[k(g(C.filter.label),1)]),_:1})),d(a(Se),{open:m.value,"onUpdate:open":[B[4]||(B[4]=H=>m.value=H),B[5]||(B[5]=H=>H&&_())],modal:!C.inline},{default:o(()=>[d(a(Pe),{"as-child":""},{default:o(()=>[C.inline?(s(),u(a(Q),{key:0,class:"h-8 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",disabled:C.disabled,role:"combobox","aria-autocomplete":"none","aria-label":C.filter.label},{default:o(()=>[d(a(Ue),{class:"h-4 w-4 opacity-50"}),L("span",el,g(C.filter.label),1),e.value&&"start"in e.value?(s(),h(x,{key:0},[d(a(xe),{orientation:"vertical",class:"h-4"}),d(ze,A(e,{preset:e.filter.presets.find(H=>p(H))}),null,16,["preset"])],64)):R("",!0)]),_:1},8,["disabled","aria-label"])):(s(),u(a(Q),{key:1,class:"mt-2 w-full text-left justify-between font-normal",variant:"outline",size:"sm",disabled:C.disabled,role:"combobox","aria-autocomplete":"none","aria-label":C.filter.label},{default:o(()=>[e.value&&"start"in e.value?(s(),u(ze,A({key:0},e,{preset:e.filter.presets.find(H=>p(H))}),null,16,["preset"])):(s(),h("span",al,g(a(V)("sharp::form.multiselect.placeholder")),1)),d(a(Ue),{class:"ml-2 h-4 w-4 stroke-[1.25]"})]),_:1},8,["disabled","aria-label"]))]),_:1}),d(a(Re),{class:le(a(K)("w-auto p-0",C.inline?"":"w-(--reka-popover-trigger-width)"))},{default:o(()=>{var H;return[L("div",tl,[(H=C.filter.presets)!=null&&H.length?(s(),h("div",ll,[(s(!0),h(x,null,te(C.filter.presets,N=>(s(),u(a(Q),{class:"text-left justify-start aria-current:bg-accent aria-current:text-accent-foreground","aria-current":p(N),size:"sm",variant:"ghost",onClick:fe=>$(N)},{default:o(()=>[k(g(N.label),1)]),_:2},1032,["aria-current","onClick"]))),256))])):R("",!0),L("div",sl,[(s(),u(a(Lt),{class:le(C.inline?"hidden md:block":"hidden"),modelValue:n.value,"onUpdate:modelValue":[B[0]||(B[0]=N=>n.value=N),b],"number-of-months":2,locale:C.window.navigator.language,"week-starts-on":e.filter.mondayFirst?1:0,"onUpdate:startValue":B[1]||(B[1]=N=>n.value.start=N),key:c.value},null,8,["class","modelValue","locale","week-starts-on"])),L("div",nl,[L("div",ol,[d(a(Le),{class:"block",type:"date",modelValue:i.start,"onUpdate:modelValue":[B[2]||(B[2]=N=>i.start=N),F],"aria-label":a(V)("sharp::form.daterange.start_placeholder")},null,8,["modelValue","aria-label"]),d(a(Le),{class:"block",type:"date",modelValue:i.end,"onUpdate:modelValue":[B[3]||(B[3]=N=>i.end=N),Z],"aria-label":a(V)("sharp::form.daterange.end_placeholder")},null,8,["modelValue","aria-label"])]),L("div",rl,[n.value.end?(s(),u(a(Q),{key:0,class:"max-md:h-8",variant:"outline",onClick:S},{default:o(()=>[k(g(a(V)("sharp::filters.select.reset")),1)]),_:1})):R("",!0),d(a(Q),{class:"max-md:h-8",onClick:E},{default:o(()=>[k(g(a(V)("sharp::filters.daterange.confirm")),1)]),_:1})])])])])]}),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),We=v({__name:"SelectFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(s(),h("div",{class:le(["flex gap-1",{"flex-wrap":!t.inline}])},[Array.isArray(t.value)?(s(),h(x,{key:0},[t.value.length>2?(s(),u(a(ce),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:o(()=>[k(g(a(ea)("sharp::filters.select.label.selected",t.value.length,{count:t.value.length})),1)]),_:1})):(s(!0),h(x,{key:1},te(t.filter.values.filter(r=>t.value.some(n=>r.id==n)),r=>(s(),u(a(ce),{key:r.id,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:o(()=>[k(g(r.label),1)]),_:2},1024))),128))],64)):(s(),u(a(ce),{key:1,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:o(()=>{var r;return[k(g((r=t.filter.values.find(n=>n.id==t.value))==null?void 0:r.label),1)]}),_:1}))],2))}}),dl={"aria-hidden":"true"},ia=v({__name:"SelectButton",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>t.inline?(s(),u(a(Q),{key:0,class:"relative text-left justify-start h-8 py-1.5 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:o(()=>[L("span",dl,g(t.filter.label),1),D(t.$slots,"default"),d(a(we),{class:"-mr-0.5 w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"])):(s(),u(a(Q),{key:1,class:"mt-2 h-auto min-h-9 w-full text-left justify-start font-normal py-1.5 gap-2",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:o(()=>[D(t.$slots,"default"),d(a(we),{class:"ml-auto w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"]))}}),ul={key:1,class:"text-muted-foreground"},cl={class:"max-w-80 line-clamp-2"},fl={key:0,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},pl=v({__name:"SelectFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,r=t,n=W(!1),i=w(()=>Array.isArray(e.value)?e.value.length:e.value!=null);function c(f){return Array.isArray(e.value)?!!e.value.find(p=>f.id==p):e.value==f.id}function m(f){if(e.filter.multiple){const p=e.filter.values.filter(_=>{var E;const $=(E=e.value)==null?void 0:E.find(b=>_.id==b);return _.id===f.id?!$:$}).map(_=>_.id);r("input",p)}else n.value=!1,r("input",e.value==f.id?null:f.id)}return(f,p)=>(s(),h("div",null,[f.inline?R("",!0):(s(),u(a(Be),{key:0},{default:o(()=>[k(g(f.filter.label),1)]),_:1})),d(a(Se),{open:n.value,"onUpdate:open":p[1]||(p[1]=_=>n.value=_),modal:!f.inline},{default:o(()=>[d(a(Pe),{"as-child":""},{default:o(()=>[d(ia,j(X(e)),{default:o(()=>[f.inline?(s(),h(x,{key:0},[i.value?(s(),h(x,{key:0},[d(a(xe),{orientation:"vertical",class:"h-4"}),d(We,j(X(e)),null,16)],64)):R("",!0)],64)):(s(),h(x,{key:1},[i.value?(s(),u(We,j(A({key:0},e)),null,16)):(s(),h("span",ul,g(a(V)("sharp::form.multiselect.placeholder")),1))],64))]),_:1},16)]),_:1}),d(a(Re),{class:le(a(K)("p-0 w-auto min-w-[150px]",f.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:o(()=>[d(a(aa),{multiple:e.filter.multiple,"highlight-on-hover":""},{default:o(()=>[f.filter.searchable?(s(),u(a(ta),{key:0,placeholder:a(V)("sharp::form.multiselect.placeholder")},null,8,["placeholder"])):R("",!0),d(a(la),{class:"scroll-pb-12"},{default:o(()=>[d(a(sa),null,{default:o(()=>[k(g(a(V)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),d(a(Ce),null,{default:o(()=>[(s(!0),h(x,null,te(f.filter.values,_=>(s(),u(a(ke),{key:_.id,class:"pr-6",value:_,"aria-selected":c(_),onSelect:$=>m(_)},{default:o(()=>[f.filter.multiple?(s(),u(a(Ze),{key:0,class:le({"opacity-50":!c(_)}),"model-value":c(_)},null,8,["class","model-value"])):R("",!0),f.filter.multiple?R("",!0):(s(),u(a(na),{key:1,class:le(a(K)("h-4 w-4",c(_)?"opacity-100":"opacity-0"))},null,8,["class"])),L("div",cl,g(_.label),1)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1}),e.valuated?(s(),h("div",fl,[d(a(oa)),d(a(Ce),null,{default:o(()=>[d(a(ke),{value:{label:a(V)("sharp::filters.select.reset")},class:"justify-center text-center font-medium",onSelect:p[0]||(p[0]=_=>{r("input",null),n.value=!1})},{default:o(()=>[k(g(a(V)("sharp::filters.select.reset")),1)]),_:1},8,["value"])]),_:1})])):R("",!0)]),_:1})]),_:1},8,["multiple"])]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),je=v({__name:"AutocompleteRemoteFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(s(),h("div",{class:le(["flex gap-1",{"flex-wrap":!t.inline}])},[d(a(ce),{variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:o(()=>[k(g(t.value.label),1)]),_:1})],2))}}),ml={key:1,class:"text-muted-foreground"},vl={key:0,class:"py-6 px-4 text-center text-sm"},hl=["innerHTML"],gl={key:2,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},yl={class:"p-1"},bl=v({__name:"AutocompleteRemoteFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,r=t,n=W(!1),i=W(""),{results:c,loading:m,search:f}=Xa(({query:b,signal:S,onSuccess:F,onError:Z})=>Ya.post(Ja("code16.sharp.api.filters.autocomplete.index",{entityKey:e.entityKey,filterKey:e.filter.key,query:b}),{},{signal:S}).then(F,Z).then(C=>C.data.data),{debounceDelay:e.filter.debounceDelay,minLength:e.filter.searchMinChars});function p(b){var S;return Array.isArray(e.value)?!!e.value.find(F=>b.id==F.id):((S=e.value)==null?void 0:S.id)==b.id}function _(b){var S;n.value=!1,r("input",((S=e.value)==null?void 0:S.id)==b.id?null:b)}function $(b){!b.length&&!i.value||(i.value=b,f(b))}function E(){!i.value&&e.filter.searchMinChars===0&&f("",!0)}return(b,S)=>(s(),h("div",null,[b.inline?R("",!0):(s(),u(a(Be),{key:0},{default:o(()=>[k(g(b.filter.label),1)]),_:1})),d(a(Se),{open:n.value,"onUpdate:open":[S[1]||(S[1]=F=>n.value=F),S[2]||(S[2]=F=>F?E():null)],modal:!b.inline},{default:o(()=>[d(a(Pe),{"as-child":""},{default:o(()=>[d(ia,j(X(e)),{default:o(()=>[b.inline?(s(),h(x,{key:0},[e.value?(s(),h(x,{key:0},[d(a(xe),{orientation:"vertical",class:"h-4"}),d(je,j(X(e)),null,16)],64)):R("",!0)],64)):(s(),h(x,{key:1},[e.value?(s(),u(je,j(A({key:0},e)),null,16)):(s(),h("span",ml,g(a(V)("sharp::form.autocomplete.placeholder")),1))],64))]),_:1},16)]),_:1}),d(a(Re),{class:le(a(K)("p-0 w-auto min-w-[200px]",b.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:o(()=>[d(a(aa),{"highlight-on-hover":""},{default:o(()=>[d(a(ta),{class:"field-sizing-content","model-value":i.value,placeholder:e.filter.searchMinChars>1?a(ea)("sharp::form.autocomplete.query_too_short",e.filter.searchMinChars,{min_chars:e.filter.searchMinChars}):a(V)("sharp::form.autocomplete.placeholder"),"onUpdate:modelValue":$},null,8,["model-value","placeholder"]),d(a(la),{class:"scroll-pb-12"},{default:o(()=>[a(m)?(s(),h("div",vl,g(a(V)("sharp::form.autocomplete.loading")),1)):(s(),h(x,{key:1},[d(a(sa),null,{default:o(()=>[k(g(a(V)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),a(c).length?(s(),u(a(Ce),{key:0},{default:o(()=>[(s(!0),h(x,null,te(a(c),F=>(s(),u(a(ke),{key:F.id,class:"pr-6",value:F,"aria-selected":p(F),onSelect:Z=>_(F)},{default:o(()=>[d(a(na),{class:le(a(K)("h-4 w-4",p(F)?"opacity-100":"opacity-0"))},null,8,["class"]),L("div",{class:"max-w-80 line-clamp-2",innerHTML:F.label},null,8,hl)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1})):R("",!0)],64)),b.valuated?(s(),h("div",gl,[a(c).length||a(m)?(s(),u(a(oa),{key:0})):R("",!0),L("div",yl,[d(a(Q),{class:"w-full h-8",variant:"ghost",onClick:S[0]||(S[0]=F=>{r("input",null),n.value=!1})},{default:o(()=>[k(g(a(V)("sharp::filters.select.reset")),1)]),_:1})])])):R("",!0)]),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),Rl=v({__name:"Filter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){const t=l,e={autocompleteRemote:bl,check:Tt,daterange:il,select:pl};return(r,n)=>(s(),u(ra(e[r.filter.type]),j(X(t)),null,16))}}),_l=["srcdoc"],$l=v({__name:"CommandViewPanel",props:{commands:{}},setup(l){return(t,e)=>{var r;return s(),u(a(tt),{open:((r=t.commands.state.currentCommandResponse)==null?void 0:r.action)==="view","onUpdate:open":e[0]||(e[0]=n=>!n&&t.$nextTick(()=>t.commands.finish()))},{default:o(()=>[d(a(at),{class:"w-[calc(100%-2.5rem)] sm:w-3/4 sm:max-w-none",side:"left"},{close:o(()=>[d(a(Za),{class:"absolute right-0 translate-x-full text-white top-0 p-2 md:p-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary","aria-label":a(V)("sharp::modals.close.aria_label")},{default:o(()=>[d(a(et),{class:"size-6"})]),_:1},8,["aria-label"])]),default:o(()=>{var n;return[((n=t.commands.state.currentCommandResponse)==null?void 0:n.action)==="view"?(s(),h("iframe",{key:0,class:"absolute inset-0 size-full border-0",srcdoc:t.commands.state.currentCommandResponse.html,sandbox:"allow-forms allow-scripts allow-same-origin allow-popups allow-modals allow-downloads"},null,8,_l)):R("",!0)]}),_:1})]),_:1},8,["open"])}}}),wl=v({__name:"CommandFormModal",props:{commands:{}},setup(l){const t=l,e=W(),r=W(!1),n=W(0),i=lt("content");return Qe(()=>t.commands.state.currentCommandForm,"error",()=>{i.value.scrollToTop()}),st(()=>{r.value=!!t.commands.state.currentCommandForm,n.value++}),(c,m)=>{const f=nt("SharpForm");return s(),u(a(pt),{open:r.value,"onUpdate:open":[m[4]||(m[4]=p=>r.value=p),m[5]||(m[5]=p=>!p&&c.$nextTick(()=>c.commands.finish()))]},{default:o(()=>[d(a(ft),{class:"sm:max-w-[558px] gap-8",onPointerDownOutside:m[3]||(m[3]=ct(()=>{},["prevent"])),ref_key:"content",ref:i},{default:o(()=>[c.commands.state.currentCommandForm?(s(),h(x,{key:0},[d(a(ot),null,{default:o(()=>[d(a(rt),null,{default:o(()=>[k(g(c.commands.state.currentCommandForm.config.title),1)]),_:1}),c.commands.state.currentCommandForm.config.description?(s(),u(a(it),{key:0,as:"div",innerHTML:c.commands.state.currentCommandForm.config.description},null,8,["innerHTML"])):R("",!0)]),_:1}),L("div",null,[(s(),u(f,{"post-fn":p=>c.commands.postForm(p),form:c.commands.state.currentCommandForm,"show-error-alert":c.commands.state.currentCommandForm.hasErrors,"error-alert-message":c.commands.state.currentCommandForm.fieldError("error"),onLoading:m[0]||(m[0]=p=>c.commands.state.currentCommandFormLoading=p),key:`form-${n.value}`,modal:"",ref_key:"form",ref:e},null,8,["post-fn","form","show-error-alert","error-alert-message"]))]),d(a(dt),null,{default:o(()=>[d(a(ut),{"as-child":""},{default:o(()=>[d(a(Q),{variant:"outline"},{default:o(()=>[k(g(a(V)("sharp::modals.cancel_button")),1)]),_:1})]),_:1}),c.commands.state.currentCommandForm.config.showSubmitAndReopenButton?(s(),u(a(Q),{key:0,variant:"outline",disabled:c.commands.state.currentCommandFormLoading,onClick:m[1]||(m[1]=p=>e.value.submit({_shouldReopen:!0}))},{default:o(()=>[k(g(c.commands.state.currentCommandForm.config.submitAndReopenButtonLabel??a(V)("sharp::modals.command.submit_and_reopen_button")),1)]),_:1},8,["disabled"])):R("",!0),d(a(Q),{disabled:c.commands.state.currentCommandFormLoading,onClick:m[2]||(m[2]=p=>e.value.submit())},{default:o(()=>[k(g(c.commands.state.currentCommandForm.config.buttonLabel??a(V)("sharp::modals.command.submit_button")),1)]),_:1},8,["disabled"])]),_:1})],64)):R("",!0)]),_:1},512)]),_:1},8,["open"])}}}),Sl=v({__name:"WithCommands",props:{commands:{}},setup(l){return(t,e)=>(s(),h(x,null,[D(t.$slots,"default"),d($l,{commands:t.commands},null,8,["commands"]),d(wl,{commands:t.commands},null,8,["commands"])],64))}}),Cl={key:0,class:"text-xs text-muted-foreground"},Fl=v({__name:"CommandDropdownItems",props:{commands:{},selecting:{type:Boolean}},emits:["select"],setup(l){const t=l;function e(n){return!t.selecting&&n.instanceSelection==="required"}const r=Mt();return(n,i)=>{var c;return s(!0),h(x,null,te((c=n.commands)==null?void 0:c.filter(m=>m.length>0),(m,f)=>(s(),h(x,null,[f>0?(s(),u(a(mt),{key:0,class:"first:hidden"})):R("",!0),d(a($t),{class:"max-w-sm"},{default:o(()=>[d(a(vt),null,{default:o(()=>[(s(!0),h(x,null,te(m,p=>(s(),u(a(ht),{key:p.key,"delay-duration":0},{default:o(()=>[(s(),u(ra(e(p)?a(gt):"div"),{onTouchend:_=>e(p)&&a(yt)(a(V)("sharp::entity_list.commands.needs_selection_message"),{highlightElement:_.target}),as:"div"},{default:o(()=>[d(a(bt),{onClick:_=>n.$emit("select",p),disabled:e(p)},{default:o(()=>[L("div",null,[k(g(p.label)+" ",1),p.description?(s(),h("div",Cl,g(p.description),1)):R("",!0)])]),_:2},1032,["onClick","disabled"])]),_:2},1064,["onTouchend"])),d(a(_t),{class:"max-w-sm",side:a(r).md?"left":"bottom"},{default:o(()=>[k(g(a(V)("sharp::entity_list.commands.needs_selection_message")),1)]),_:1},8,["side"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)],64))),256)}}}),El=v({__name:"DropdownChevronDown",setup(l){return(t,e)=>(s(),u(a(we),{class:le(a(K)("size-4 opacity-50 ml-1.5 -mr-0.5",t.$attrs.class))},null,8,["class"]))}});export{Dl as F,Bl as _,El as a,Fl as b,Sl as c,Rl as d,xl as p,Pl as s,Mt as u};
