import{d as V,r as d,W as k,X as g,Y as C,Z as w,c as n,w as c,$,o as i,u as s,J as S,i as x,a as u,j as m,V as B,a0 as b}from"./sharp-ByW3i59E.js";import{p as f}from"./DropdownChevronDown.vue_vue_type_script_setup_true_lang-D2LJ1l6a.js";import{_ as D}from"./Title.vue_vue_type_script_setup_true_lang-l4Axm4jF.js";import{_ as F}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-DY5i5dm_.js";import{D as p,_ as K}from"./Dashboard-B9x6p95f.js";const N={class:"container @container mx-auto"},J=V({__name:"Dashboard",props:{dashboard:{},breadcrumb:{}},setup(h){const a=h,e=d().params.dashboardKey,o=k(new p(a.dashboard,e)),t=g(a.dashboard.config.filters,a.dashboard.filterValues),_=C("dashboard");w(()=>a.dashboard,()=>{o.value=new p(a.dashboard,e),t.update(a.dashboard.config.filters,a.dashboard.filterValues)});function y(r,l){b.post(d("code16.sharp.dashboard.filters.store",{dashboardKey:e}),{filterValues:t.nextValues(r,l),query:f(location.search)},{preserveState:!0,preserveScroll:!0})}function v(r){b.post(d("code16.sharp.dashboard.filters.store",{dashboardKey:e}),{filterValues:t.defaultValues(r),query:f(location.search)},{preserveState:!0,preserveScroll:!0})}return(r,l)=>(i(),n($,null,{breadcrumb:c(()=>[s(S)("sharp.display_breadcrumb")?(i(),n(F,{key:0,breadcrumb:r.breadcrumb},null,8,["breadcrumb"])):x("",!0)]),default:c(()=>[u(D,{"entity-key":s(e)},null,8,["entity-key"]),m("div",N,[m("div",{class:B(o.value.pageAlert&&!o.value.pageAlert.sectionKey?"pt-4":"pt-10")},[u(K,{"dashboard-key":s(e),dashboard:o.value,filters:s(t),commands:s(_),title:r.breadcrumb.items[0].label,onFilterChange:y,onFiltersReset:v},null,8,["dashboard-key","dashboard","filters","commands","title"])],2)])]),_:1}))}});export{J as default};
