import{b1 as Ba,d as g,bK as xa,b3 as Pa,p as Sa,aM as je,o as n,c as u,w as r,q as x,v as N,e as a,P as j,y as k,bL as $e,bM as G,bN as Fa,bO as we,bP as qa,x as Va,aJ as Ha,bQ as We,b2 as Ea,bR as Oa,W as U,bS as Ae,Z as me,bT as Na,bU as Ta,bV as ve,bW as Qe,bX as La,j as A,t as b,bY as Xe,bZ as Aa,b_ as Ma,b$ as Ua,c0 as Ka,c1 as ke,b as R,c2 as Ia,aP as za,a7 as I,a8 as Q,c3 as Ze,c4 as Ga,a as o,K as Je,k as W,c5 as ja,A as h,F as S,H as Z,z as M,c6 as ee,c7 as xe,bc as Wa,bb as Qa,i as F,aD as ye,a6 as Ye,c8 as _e,l as Pe,c9 as Se,ca as Me,cb as Fe,_ as H,cc as qe,V as J,cd as Xa,ce as Za,m as Ue,cf as Ve,bB as ea,cg as De,ch as aa,af as Ja,ci as ta,az as Ya,cj as la,ck as sa,cl as Re,cm as Be,C as na,cn as ra,co as et,ab as at,r as tt,aR as ia,cp as lt,bg as st,cq as nt,cr as rt,a3 as it,aK as dt,a4 as ot,aY as ut,aZ as ct,cs as ft,a_ as pt,a$ as vt,n as mt,aX as yt,b0 as gt,ct as _t,cu as ht,at as bt,bC as Ct,bD as wt,bE as $t,aA as kt,au as Dt,bG as Rt,bF as Bt,ao as xt}from"./sharp-BpAlEGAA.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ba("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var Pt=g({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=xa(),{forwardRef:i,currentElement:s}=Pa();return e.contentId||(e.contentId=Sa(void 0,"reka-dialog-content")),je(()=>{e.triggerElement.value=s.value}),(d,c)=>(n(),u(a(j),N(t,{ref:a(i),type:d.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":a(e).open.value||!1,"aria-controls":a(e).open.value?a(e).contentId:void 0,"data-state":a(e).open.value?"open":"closed",onClick:a(e).onOpenToggle}),{default:r(()=>[x(d.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),St=Pt;function Ft(l){const t=k(()=>l.start.value?!!l.isDateDisabled(l.start.value):!1),e=k(()=>l.end.value?!!l.isDateDisabled(l.end.value):!1),i=k(()=>t.value||e.value?!1:!!(l.start.value&&l.end.value&&$e(l.end.value,l.start.value))),s=_=>l.start.value?G(l.start.value,_):!1,d=_=>l.end.value?G(l.end.value,_):!1,c=_=>l.start.value&&G(l.start.value,_)||l.end.value&&G(l.end.value,_)?!0:l.end.value&&l.start.value?we(_,l.start.value,l.end.value):!1,f=_=>{var m;if(l.isDateDisabled(_))return!0;if((m=l.maximumDays)!=null&&m.value){if(l.start.value&&l.end.value){if(l.fixedDate.value){const C=qa(l.start.value,l.end.value).length;if(C<=l.maximumDays.value){const B=l.maximumDays.value-C-1,L=l.start.value.subtract({days:B}),w=l.end.value.add({days:B});return!we(_,L,w)}}return!1}if(l.start.value){const C=l.start.value.add({days:l.maximumDays.value}),B=l.start.value.subtract({days:l.maximumDays.value});return!we(_,B,C)}}return!l.start.value||l.end.value||G(l.start.value,_),!1},v=_=>{var m;return!!((m=l.isDateHighlightable)!=null&&m.call(l,_))},p=k(()=>{var L;if(l.start.value&&l.end.value&&!l.fixedDate.value||!l.start.value||!l.focusedValue.value)return null;const _=$e(l.start.value,l.focusedValue.value),m=_?l.start.value:l.focusedValue.value,C=_?l.focusedValue.value:l.start.value;if(G(m,C))return{start:m,end:C};if((L=l.maximumDays)!=null&&L.value&&!l.end.value){const w=_?m.add({days:l.maximumDays.value-1}):m.subtract({days:l.maximumDays.value});return{start:m,end:w}}return Fa(m,C,l.allowNonContiguousRanges.value?()=>!1:l.isDateUnavailable,f,l.isDateHighlightable)?{start:m,end:C}:null});return{isInvalid:i,isSelected:c,isDateHighlightable:v,highlightedRange:p,isSelectionStart:s,isSelectionEnd:d,isHighlightedStart:_=>!p.value||!p.value.start?!1:G(p.value.start,_),isHighlightedEnd:_=>!p.value||!p.value.end?!1:G(p.value.end,_),isDateDisabled:f}}const qt={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},Vt={role:"heading","aria-level":"2"},[re,Ht]=Va("RangeCalendarRoot");var Et=g({__name:"RangeCalendarRoot",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1,default:()=>({start:void 0,end:void 0})},modelValue:{type:[Object,null],required:!1},placeholder:{type:null,required:!1,default:void 0},allowNonContiguousRanges:{type:Boolean,required:!1,default:!1},pagedNavigation:{type:Boolean,required:!1,default:!1},preventDeselect:{type:Boolean,required:!1,default:!1},maximumDays:{type:Number,required:!1,default:void 0},weekStartsOn:{type:Number,required:!1,default:0},weekdayFormat:{type:String,required:!1,default:"narrow"},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1,default:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1,default:1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},initialFocus:{type:Boolean,required:!1,default:!1},isDateDisabled:{type:Function,required:!1,default:void 0},isDateUnavailable:{type:Function,required:!1,default:void 0},isDateHighlightable:{type:Function,required:!1,default:void 0},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},disableDaysOutsideCurrentView:{type:Boolean,required:!1,default:!1},fixedDate:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,i=t,{disabled:s,readonly:d,initialFocus:c,pagedNavigation:f,weekStartsOn:v,weekdayFormat:p,fixedWeeks:$,numberOfMonths:T,preventDeselect:_,isDateUnavailable:m,isDateHighlightable:C,isDateDisabled:B,calendarLabel:L,maxValue:w,minValue:D,dir:V,locale:O,nextPage:oe,prevPage:he,allowNonContiguousRanges:ue,disableDaysOutsideCurrentView:be,fixedDate:q,maximumDays:P}=Ha(e),{primitiveElement:le,currentElement:ce}=We(),Y=Ea(V),ie=Oa(O),de=U(),ae=U(),X=U(!1),K=Ae(e,"modelValue",i,{defaultValue:e.defaultValue??{start:void 0,end:void 0},passive:e.modelValue===void 0}),ge=U(K.value);me(ge,y=>{i("update:validModelValue",y)});const oa=Na({defaultPlaceholder:e.placeholder,defaultValue:K.value.start,locale:e.locale}),te=U(K.value.start),se=U(K.value.end),fe=Ae(e,"placeholder",i,{defaultValue:e.defaultPlaceholder??oa.copy(),passive:e.placeholder===void 0});function He(y){fe.value=y.copy()}const{fullCalendarLabel:Ce,headingValue:ua,isDateDisabled:ca,isDateUnavailable:Ee,isNextButtonDisabled:fa,isPrevButtonDisabled:pa,grid:Oe,weekdays:Ne,isOutsideVisibleView:va,nextPage:ma,prevPage:ya,formatter:ga}=Ta({locale:ie,placeholder:fe,weekStartsOn:v,fixedWeeks:$,numberOfMonths:T,minValue:D,maxValue:w,disabled:s,weekdayFormat:p,pagedNavigation:f,isDateDisabled:B.value,isDateUnavailable:m.value,calendarLabel:L,nextPage:oe,prevPage:he}),{isInvalid:Te,isSelected:_a,isDateHighlightable:ha,highlightedRange:ba,isSelectionStart:Ca,isSelectionEnd:wa,isHighlightedStart:$a,isHighlightedEnd:ka,isDateDisabled:Da}=Ft({start:te,end:se,isDateDisabled:ca,isDateUnavailable:Ee,isDateHighlightable:C.value,focusedValue:ae,allowNonContiguousRanges:ue,fixedDate:q,maximumDays:P});me(K,(y,E)=>{var z,pe,ne,Le;(!(E!=null&&E.start)&&(y!=null&&y.start)||!y||!y.start||te.value&&!ve(y.start,te.value))&&(te.value=(pe=(z=y==null?void 0:y.start)==null?void 0:z.copy)==null?void 0:pe.call(z)),(!(E!=null&&E.end)&&y.end||!y||!y.end||se.value&&!ve(y.end,se.value))&&(se.value=(Le=(ne=y==null?void 0:y.end)==null?void 0:ne.copy)==null?void 0:Le.call(ne))}),me(te,y=>{y&&!ve(y,fe.value)&&He(y),i("update:startValue",y)}),me([te,se],([y,E])=>{var pe,ne;const z=K.value;z&&z.start&&z.end&&y&&E&&ve(z.start,y)&&ve(z.end,E)||(X.value=!0,E&&y?($e(E,y)?K.value={start:E.copy(),end:y.copy()}:K.value={start:y.copy(),end:E.copy()},X.value=!1,ge.value={start:(pe=K.value.start)==null?void 0:pe.copy(),end:(ne=K.value.end)==null?void 0:ne.copy()}):y?K.value={start:y.copy(),end:void 0}:K.value={start:E==null?void 0:E.copy(),end:void 0})});const Ra=Xe();return Qe("keydown",y=>{var E,z;y.key===Ra.ESCAPE&&X.value&&(te.value=(E=ge.value.start)==null?void 0:E.copy(),se.value=(z=ge.value.end)==null?void 0:z.copy())}),Ht({isDateUnavailable:Ee,isDateHighlightable:ha,startValue:te,endValue:se,formatter:ga,modelValue:K,placeholder:fe,disabled:s,initialFocus:c,pagedNavigation:f,grid:Oe,weekDays:Ne,weekStartsOn:v,weekdayFormat:p,fixedWeeks:$,numberOfMonths:T,readonly:d,preventDeselect:_,fullCalendarLabel:Ce,headingValue:ua,isInvalid:Te,isDateDisabled:Da,allowNonContiguousRanges:ue,highlightedRange:ba,focusedValue:ae,lastPressedDateValue:de,isSelected:_a,isSelectionEnd:wa,isSelectionStart:Ca,isNextButtonDisabled:fa,isPrevButtonDisabled:pa,isOutsideVisibleView:va,nextPage:ma,prevPage:ya,parentElement:ce,onPlaceholderChange:He,locale:ie,dir:Y,isHighlightedStart:$a,isHighlightedEnd:ka,disableDaysOutsideCurrentView:be,fixedDate:q,maximumDays:P,minValue:D,maxValue:w}),je(()=>{c.value&&La(ce.value)}),(y,E)=>(n(),u(a(j),{ref_key:"primitiveElement",ref:le,as:y.as,"as-child":y.asChild,"aria-label":a(Ce),"data-readonly":a(d)?"":void 0,"data-disabled":a(s)?"":void 0,"data-invalid":a(Te)?"":void 0,dir:a(Y)},{default:r(()=>[A("div",qt,[A("div",Vt,b(a(Ce)),1)]),x(y.$slots,"default",{date:a(fe),grid:a(Oe),weekDays:a(Ne),weekStartsOn:a(v),locale:a(ie),fixedWeeks:a($),modelValue:a(K)})]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),Ot=Et,Nt=g({__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"td"}},setup(l){const t=re();return(e,i)=>{var s,d;return n(),u(a(j),{as:e.as,"as-child":e.asChild,role:"gridcell","aria-selected":a(t).isSelected(e.date)?!0:void 0,"aria-disabled":a(t).isDateDisabled(e.date)||((d=(s=a(t)).isDateUnavailable)==null?void 0:d.call(s,e.date))||a(t).disableDaysOutsideCurrentView.value,"data-disabled":a(t).isDateDisabled(e.date)||a(t).disableDaysOutsideCurrentView.value?"":void 0},{default:r(()=>[x(e.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),Tt=Nt,Lt=g({__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l,e=re(),i=Xe(),{primitiveElement:s,currentElement:d}=We(),c=k(()=>e.formatter.custom(Aa(t.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),f=k(()=>{var q;return((q=e.isDateUnavailable)==null?void 0:q.call(e,t.day))??!1}),v=k(()=>e.isSelected(t.day)),p=k(()=>e.isSelectionStart(t.day)),$=k(()=>e.isSelectionEnd(t.day)),T=k(()=>e.isHighlightedStart(t.day)),_=k(()=>e.isHighlightedEnd(t.day)),m=k(()=>e.highlightedRange.value?Ma(t.day,e.highlightedRange.value.start,e.highlightedRange.value.end):!1),C=k(()=>e.allowNonContiguousRanges.value),B=k(()=>Ua(t.day,Ka())),L=k(()=>!ke(t.day,t.month)),w=k(()=>e.isOutsideVisibleView(t.day)),D=k(()=>e.isDateDisabled(t.day)||e.disableDaysOutsideCurrentView.value&&L.value),V=k(()=>t.day.day.toLocaleString(e.locale.value)),O=k(()=>!e.disabled.value&&G(t.day,e.placeholder.value));function oe(q,P){var le;if(!e.readonly.value&&!(e.isDateDisabled(P)||(le=e.isDateUnavailable)!=null&&le.call(e,P))){if(e.lastPressedDateValue.value=P.copy(),e.startValue.value&&e.highlightedRange.value===null){if(G(P,e.startValue.value)&&!e.preventDeselect.value&&!e.endValue.value){e.startValue.value=void 0,e.onPlaceholderChange(P);return}else if(!e.endValue.value){q.preventDefault(),e.lastPressedDateValue.value&&G(e.lastPressedDateValue.value,P)&&(e.startValue.value=P.copy());return}}if(e.startValue.value&&e.endValue.value&&G(e.startValue.value,e.endValue.value)&&G(e.startValue.value,P)&&!e.preventDeselect.value){e.startValue.value=void 0,e.endValue.value=void 0,e.onPlaceholderChange(P);return}e.startValue.value?e.endValue.value?e.endValue.value&&e.startValue.value&&(e.fixedDate.value?e.fixedDate.value==="start"?P.compare(e.startValue.value)<0?e.startValue.value=P.copy():e.endValue.value=P.copy():e.fixedDate.value==="end"&&(P.compare(e.endValue.value)>0?e.endValue.value=P.copy():e.startValue.value=P.copy()):(e.endValue.value=void 0,e.startValue.value=P.copy())):e.endValue.value=P.copy():e.startValue.value=P.copy()}}function he(q){D.value||oe(q,t.day)}function ue(){var q;D.value||(q=e.isDateUnavailable)!=null&&q.call(e,t.day)||(e.focusedValue.value=t.day.copy())}function be(q){if(D.value)return;q.preventDefault(),q.stopPropagation();const P=e.parentElement.value,le=7,ce=e.dir.value==="rtl"?-1:1;switch(q.code){case i.ARROW_RIGHT:Y(t.day,ce);break;case i.ARROW_LEFT:Y(t.day,-ce);break;case i.ARROW_UP:Y(t.day,-le);break;case i.ARROW_DOWN:Y(t.day,le);break;case i.ENTER:case i.SPACE_CODE:oe(q,t.day)}function Y(ie,de){const ae=ie.add({days:de});if(e.minValue.value&&ae.compare(e.minValue.value)<0||e.maxValue.value&&ae.compare(e.maxValue.value)>0)return;const X=P.querySelector(`[data-value='${ae.toString()}']:not([data-outside-view])`);if(!X){if(de>0){if(e.isNextButtonDisabled())return;e.nextPage()}else{if(e.isPrevButtonDisabled())return;e.prevPage()}za(()=>{Y(ie,de)});return}if(X&&X.hasAttribute("data-disabled"))return Y(ae,de);e.onPlaceholderChange(ae),X==null||X.focus()}}return(q,P)=>(n(),u(a(j),{ref_key:"primitiveElement",ref:s,as:q.as,"as-child":q.asChild,role:"button","aria-label":c.value,"data-reka-calendar-cell-trigger":"","aria-selected":v.value&&(C.value||!f.value)?!0:void 0,"aria-disabled":D.value||f.value?!0:void 0,"data-highlighted":m.value&&(C.value||!f.value)?"":void 0,"data-selection-start":p.value?!0:void 0,"data-selection-end":$.value?!0:void 0,"data-highlighted-start":T.value?!0:void 0,"data-highlighted-end":_.value?!0:void 0,"data-selected":v.value&&(C.value||!f.value)?!0:void 0,"data-outside-visible-view":w.value?"":void 0,"data-value":q.day.toString(),"data-disabled":D.value?"":void 0,"data-unavailable":f.value?"":void 0,"data-today":B.value?"":void 0,"data-outside-view":L.value?"":void 0,"data-focused":O.value?"":void 0,tabindex:O.value?0:L.value||D.value?void 0:-1,onClick:he,onFocusin:ue,onMouseenter:ue,onKeydown:Ia(be,["up","down","left","right","enter","space"])},{default:r(()=>[x(q.$slots,"default",{dayValue:V.value,disabled:D.value,today:B.value,selected:v.value,outsideView:L.value,outsideVisibleView:w.value,unavailable:f.value,highlighted:m.value&&(C.value||!f.value),highlightedStart:T.value,highlightedEnd:_.value,selectionStart:p.value,selectionEnd:$.value},()=>[R(b(V.value),1)])]),_:3},8,["as","as-child","aria-label","aria-selected","aria-disabled","data-highlighted","data-selection-start","data-selection-end","data-highlighted-start","data-highlighted-end","data-selected","data-outside-visible-view","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-focused","tabindex"]))}}),At=Lt,Mt=g({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"table"}},setup(l){const t=l,e=re(),i=k(()=>e.disabled.value?!0:void 0),s=k(()=>e.readonly.value?!0:void 0);return(d,c)=>(n(),u(a(j),N(t,{tabindex:"-1",role:"grid","aria-readonly":s.value,"aria-disabled":i.value,"data-readonly":s.value&&"","data-disabled":i.value&&""}),{default:r(()=>[x(d.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Ut=Mt,Kt=g({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tbody"}},setup(l){const t=l;return(e,i)=>(n(),u(a(j),I(Q(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),It=Kt,zt=g({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"thead"}},setup(l){const t=l;return(e,i)=>(n(),u(a(j),N(t,{"aria-hidden":"true"}),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Gt=zt,jt=g({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tr"}},setup(l){const t=l;return(e,i)=>(n(),u(a(j),I(Q(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Wt=jt,Qt=g({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"th"}},setup(l){const t=l;return(e,i)=>(n(),u(a(j),I(Q(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Xt=Qt,Zt=g({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l;return(e,i)=>(n(),u(a(j),I(Q(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Jt=Zt,Yt=g({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l,e=re();return(i,s)=>(n(),u(a(j),N(t,{"data-disabled":a(e).disabled.value?"":void 0}),{default:r(()=>[x(i.$slots,"default",{headingValue:a(e).headingValue.value},()=>[R(b(a(e).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),el=Yt,al=g({__name:"RangeCalendarNext",props:{nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=k(()=>i.disabled.value||i.isNextButtonDisabled(t.nextPage)),i=re();return(s,d)=>(n(),u(a(j),{as:s.as,"as-child":s.asChild,"aria-label":"Next page",type:s.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:d[0]||(d[0]=c=>a(i).nextPage(t.nextPage))},{default:r(()=>[x(s.$slots,"default",{disabled:e.value},()=>[d[1]||(d[1]=R(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),tl=al,ll=g({__name:"RangeCalendarPrev",props:{prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=k(()=>i.disabled.value||i.isPrevButtonDisabled(t.prevPage)),i=re();return(s,d)=>(n(),u(a(j),{as:s.as,"as-child":s.asChild,"aria-label":"Previous page",type:s.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:d[0]||(d[0]=c=>a(i).prevPage(t.prevPage))},{default:r(()=>[x(s.$slots,"default",{disabled:e.value},()=>[d[1]||(d[1]=R(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),sl=ll;const Gl=g({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(n(),u(a(St),I(Q(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}});function jl(l){return Ze.stringify(Ga(l),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,e)=>typeof t=="boolean"?String(Number(t)):e(t)})}function Wl(l){return Ze.parse(l,{ignoreQueryPrefix:!0,strictNullHandling:!0})}const nl=g({__name:"CheckFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t;return(s,d)=>(n(),u(a(W),{as:"label",class:"flex items-center gap-2 relative h-8 border",variant:"outline","aria-disabled":s.disabled,size:"sm"},{default:r(()=>[o(a(Je),{"model-value":e.value,disabled:s.disabled,"onUpdate:modelValue":d[0]||(d[0]=c=>i("input",c))},null,8,["model-value","disabled"]),R(" "+b(e.filter.label),1)]),_:1},8,["aria-disabled"]))}}),rl={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},il=g({__name:"RangeCalendar",props:{defaultPlaceholder:{},defaultValue:{},modelValue:{},placeholder:{},allowNonContiguousRanges:{type:Boolean},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},maximumDays:{},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},isDateHighlightable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},disableDaysOutsideCurrentView:{type:Boolean},fixedDate:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,i=t,s=k(()=>{const{class:c,...f}=e;return f}),d=ja(s,i);return(c,f)=>(n(),u(a(Ot),N({class:a(M)("p-3",e.class)},a(d)),{default:r(({grid:v,weekDays:p})=>[o(a(vl),null,{default:r(()=>[o(a(gl)),o(a(ml)),o(a(yl))]),_:1}),A("div",rl,[(n(!0),h(S,null,Z(v,($,T)=>(n(),u(a(ul),{key:$.value.toString()},{default:r(()=>[o(a(fl),null,{default:r(()=>[o(a(Ke),null,{default:r(()=>[(n(!0),h(S,null,Z(p,_=>(n(),u(a(pl),{key:_},{default:r(()=>[R(b(_),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),o(a(cl),null,{default:r(()=>[(n(!0),h(S,null,Z($.rows,(_,m)=>(n(),u(a(Ke),{key:`weekDate-${m}`,class:"mt-2 w-full"},{default:r(()=>[(n(!0),h(S,null,Z(_,C=>(n(),u(a(dl),{key:C.toString(),date:C,month:$.value,"month-index":T},{default:r(()=>[o(a(ol),{day:C,month:$.value},null,8,["day","month"])]),_:2},1032,["date","month","month-index"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),dl=g({__name:"RangeCalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{},month:{},monthIndex:{}},setup(l){const t=l,e=k(()=>{const{class:f,...v}=t;return v}),i=ee(e),s=re(),d=k(()=>{var f,v;return ke(t.date,t.month.add({months:1}))&&((f=s.startValue.value)==null?void 0:f.set({day:0}).compare(t.month.set({day:0})))<=0&&((v=s.endValue.value)==null?void 0:v.set({day:0}).compare(t.month.set({day:0})))>0}),c=k(()=>{var f,v;return ke(t.date,t.month.subtract({months:1}))&&((f=s.startValue.value)==null?void 0:f.set({day:0}).compare(t.month.set({day:0})))<0&&((v=s.endValue.value)==null?void 0:v.set({day:0}).compare(t.month.set({day:0})))>=0});return(f,v)=>(n(),u(a(Tt),N({class:a(M)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected][data-selection-end]:not([data-outside-view]))]:rounded-r-md [&:has([data-selected][data-selection-start]:not([data-outside-view]))]:rounded-l-md",a(s).isSelected(t.date)?"bg-accent":"",d.value?"bg-accent last:bg-transparent last:bg-linear-to-r last:from-accent last:to-transparent":"",c.value?"bg-accent first:bg-transparent first:bg-linear-to-l first:from-accent first:to-transparent":"",t.class)},a(i)),{default:r(()=>[x(f.$slots,"default")]),_:3},16,["class"]))}}),ol=g({__name:"RangeCalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(At),N({class:a(M)(a(xe)({variant:"ghost"}),"size-8 p-0 font-normal data-[selected]:opacity-100 outline -outline-offset-1 outline-transparent hover:outline-primary","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:invisible data-[outside-view]:text-muted-foreground/50! data-outside-view:bg-transparent!","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",t.class)},a(i)),{default:r(()=>[x(s.$slots,"default")]),_:3},16,["class"]))}}),ul=g({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(Ut),N({class:a(M)("w-full border-collapse space-y-1",t.class)},a(i)),{default:r(()=>[x(s.$slots,"default")]),_:3},16,["class"]))}}),cl=g({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(n(),u(a(It),I(Q(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),fl=g({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(n(),u(a(Gt),I(Q(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Ke=g({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(Wt),N({class:a(M)("flex mt-2 w-full",t.class)},a(i)),{default:r(()=>[x(s.$slots,"default")]),_:3},16,["class"]))}}),pl=g({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(Xt),N({class:a(M)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",t.class)},a(i)),{default:r(()=>[x(s.$slots,"default")]),_:3},16,["class"]))}}),vl=g({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(Jt),N({class:a(M)("relative flex w-full items-center justify-between pt-1",t.class)},a(i)),{default:r(()=>[x(s.$slots,"default")]),_:3},16,["class"]))}}),ml=g({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(el),N({class:a(M)("text-sm font-medium",t.class)},a(i)),{default:r(({headingValue:c})=>[x(s.$slots,"default",{headingValue:c},()=>[R(b(c),1)])]),_:3},16,["class"]))}}),yl=g({__name:"RangeCalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(tl),N({class:a(M)(a(xe)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(i)),{default:r(()=>[x(s.$slots,"default",{},()=>[o(a(Wa),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),gl=g({__name:"RangeCalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=k(()=>{const{class:s,...d}=t;return d}),i=ee(e);return(s,d)=>(n(),u(a(sl),N({class:a(M)(a(xe)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(i)),{default:r(()=>[x(s.$slots,"default",{},()=>[o(a(Qa),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_l={key:0,class:"mr-2"},Ie=g({__name:"DateRangeFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean},preset:{}},setup(l){const t=l;return(e,i)=>"start"in t.value?(n(),u(a(ye),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:r(()=>[e.preset?(n(),h("span",_l,b(e.preset.label)+": ",1)):F("",!0),t.value.end?(n(),h(S,{key:1},[R(b(t.value.formatted.start)+" ",1),i[0]||(i[0]=A("span",{class:"mx-1.5"},"-",-1)),R(" "+b(t.value.formatted.end),1)],64)):(n(),h(S,{key:2},[R(b(t.value.formatted.start),1)],64))]),_:1})):F("",!0)}}),hl={"aria-hidden":"true"},bl={key:1,class:"text-muted-foreground"},Cl={class:"flex"},wl={key:0,class:"flex flex-col shrink-0 p-3"},$l={class:"flex-1 min-w-0"},kl={class:"grid grid-cols-1 gap-4 p-3",key:"footer"},Dl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Rl={class:"flex flex-col md:flex-row justify-end gap-3 pt-0"},Bl=g({__name:"DateRangeFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,s=U(),d=Ye({start:"",end:""}),c=U(0),f=U(!1);me(()=>e.value,()=>v());function v(){var w,D,V,O;s.value={start:(w=e.value)!=null&&w.start?_e(e.value.start):null,end:(D=e.value)!=null&&D.end?_e(e.value.end):null},d.start=(V=s.value.start)==null?void 0:V.toString(),d.end=(O=s.value.end)==null?void 0:O.toString(),c.value++}function p(w){var D,V;return w.start===((D=e.value)==null?void 0:D.start)&&w.end===((V=e.value)==null?void 0:V.end)}function $(){v()}function T(w){f.value=!1,i("input",{start:w.start,end:w.end})}function _(){f.value=!1,i("input",s.value.start&&s.value.end?{start:s.value.start.toString(),end:s.value.end.toString()}:null)}function m(){var w,D;d.start=((w=s.value.start)==null?void 0:w.toString())??"",d.end=((D=s.value.end)==null?void 0:D.toString())??""}function C(){f.value=!1,i("input",null)}function B(){c.value++,s.value.start=d.start?_e(d.start):null,d.end||(d.end=d.start,s.value.end=s.value.start)}function L(){c.value++,s.value.end=d.end?_e(d.end):null,d.start||(d.start=d.end,s.value.start=s.value.end)}return(w,D)=>(n(),h("div",null,[w.inline?F("",!0):(n(),u(a(Pe),{key:0},{default:r(()=>[R(b(w.filter.label),1)]),_:1})),o(a(Ve),{open:f.value,"onUpdate:open":[D[4]||(D[4]=V=>f.value=V),D[5]||(D[5]=V=>V&&$())],modal:!w.inline},{default:r(()=>[o(a(Se),{"as-child":""},{default:r(()=>[w.inline?(n(),u(a(W),{key:0,class:"h-8 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",disabled:w.disabled,role:"combobox","aria-autocomplete":"none","aria-label":w.filter.label},{default:r(()=>[o(a(Me),{class:"h-4 w-4 opacity-50"}),A("span",hl,b(w.filter.label),1),e.value&&"start"in e.value?(n(),h(S,{key:0},[o(a(Fe),{orientation:"vertical",class:"h-4"}),o(Ie,N(e,{preset:e.filter.presets.find(V=>p(V))}),null,16,["preset"])],64)):F("",!0)]),_:1},8,["disabled","aria-label"])):(n(),u(a(W),{key:1,class:"mt-2 w-full text-left justify-between font-normal",variant:"outline",size:"sm",disabled:w.disabled,role:"combobox","aria-autocomplete":"none","aria-label":w.filter.label},{default:r(()=>[e.value&&"start"in e.value?(n(),u(Ie,N({key:0},e,{preset:e.filter.presets.find(V=>p(V))}),null,16,["preset"])):(n(),h("span",bl,b(a(H)("sharp::form.multiselect.placeholder")),1)),o(a(Me),{class:"ml-2 h-4 w-4 stroke-[1.25]"})]),_:1},8,["disabled","aria-label"]))]),_:1}),o(a(qe),{class:J(a(M)("w-auto p-0",w.inline?"":"w-(--reka-popover-trigger-width)"))},{default:r(()=>{var V;return[A("div",Cl,[(V=w.filter.presets)!=null&&V.length?(n(),h("div",wl,[(n(!0),h(S,null,Z(w.filter.presets,O=>(n(),u(a(W),{class:"text-left justify-start aria-current:bg-accent aria-current:text-accent-foreground","aria-current":p(O),size:"sm",variant:"ghost",onClick:oe=>T(O)},{default:r(()=>[R(b(O.label),1)]),_:2},1032,["aria-current","onClick"]))),256))])):F("",!0),A("div",$l,[(n(),u(a(il),{class:J(w.inline?"hidden md:block":"hidden"),modelValue:s.value,"onUpdate:modelValue":[D[0]||(D[0]=O=>s.value=O),m],"number-of-months":2,locale:a(Xa)(),"week-starts-on":a(Za)(e.filter.mondayFirst),"onUpdate:startValue":D[1]||(D[1]=O=>s.value.start=O),key:c.value},null,8,["class","modelValue","locale","week-starts-on"])),A("div",kl,[A("div",Dl,[o(a(Ue),{class:"block",type:"date",modelValue:d.start,"onUpdate:modelValue":[D[2]||(D[2]=O=>d.start=O),B],"aria-label":a(H)("sharp::form.daterange.start_placeholder")},null,8,["modelValue","aria-label"]),o(a(Ue),{class:"block",type:"date",modelValue:d.end,"onUpdate:modelValue":[D[3]||(D[3]=O=>d.end=O),L],"aria-label":a(H)("sharp::form.daterange.end_placeholder")},null,8,["modelValue","aria-label"])]),A("div",Rl,[s.value.end?(n(),u(a(W),{key:0,class:"max-md:h-8",variant:"outline",onClick:C},{default:r(()=>[R(b(a(H)("sharp::filters.select.reset")),1)]),_:1})):F("",!0),o(a(W),{class:"max-md:h-8",onClick:_},{default:r(()=>[R(b(a(H)("sharp::filters.daterange.confirm")),1)]),_:1})])])])])]}),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),ze=g({__name:"SelectFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(n(),h("div",{class:J(["flex gap-1",{"flex-wrap":!t.inline}])},[Array.isArray(t.value)?(n(),h(S,{key:0},[t.value.length>2?(n(),u(a(ye),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:r(()=>[R(b(a(ea)("sharp::filters.select.label.selected",t.value.length,{count:t.value.length})),1)]),_:1})):(n(!0),h(S,{key:1},Z(t.filter.values.filter(i=>t.value.some(s=>i.id==s)),i=>(n(),u(a(ye),{key:i.id,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>[R(b(i.label),1)]),_:2},1024))),128))],64)):(n(),u(a(ye),{key:1,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>{var i;return[R(b((i=t.filter.values.find(s=>s.id==t.value))==null?void 0:i.label),1)]}),_:1}))],2))}}),xl={"aria-hidden":"true"},da=g({__name:"SelectButton",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>t.inline?(n(),u(a(W),{key:0,class:"relative text-left justify-start h-8 py-1.5 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:r(()=>[A("span",xl,b(t.filter.label),1),x(t.$slots,"default"),o(a(De),{class:"-mr-0.5 w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"])):(n(),u(a(W),{key:1,class:"mt-2 h-auto min-h-9 w-full text-left justify-start font-normal py-1.5 gap-2",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:r(()=>[x(t.$slots,"default"),o(a(De),{class:"ml-auto w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"]))}}),Pl={key:1,class:"text-muted-foreground"},Sl={class:"max-w-80 line-clamp-2"},Fl={key:0,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},ql=g({__name:"SelectFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,s=U(!1),d=k(()=>Array.isArray(e.value)?e.value.length:e.value!=null);function c(v){return Array.isArray(e.value)?!!e.value.find(p=>v.id==p):e.value==v.id}function f(v){if(e.filter.multiple){const p=e.filter.values.filter($=>{var _;const T=(_=e.value)==null?void 0:_.find(m=>$.id==m);return $.id===v.id?!T:T}).map($=>$.id);i("input",p)}else s.value=!1,i("input",e.value==v.id?null:v.id)}return(v,p)=>(n(),h("div",null,[v.inline?F("",!0):(n(),u(a(Pe),{key:0},{default:r(()=>[R(b(v.filter.label),1)]),_:1})),o(a(Ve),{open:s.value,"onUpdate:open":p[1]||(p[1]=$=>s.value=$),modal:!v.inline},{default:r(()=>[o(a(Se),{"as-child":""},{default:r(()=>[o(da,I(Q(e)),{default:r(()=>[v.inline?(n(),h(S,{key:0},[d.value?(n(),h(S,{key:0},[o(a(Fe),{orientation:"vertical",class:"h-4"}),o(ze,I(Q(e)),null,16)],64)):F("",!0)],64)):(n(),h(S,{key:1},[d.value?(n(),u(ze,I(N({key:0},e)),null,16)):(n(),h("span",Pl,b(a(H)("sharp::form.multiselect.placeholder")),1))],64))]),_:1},16)]),_:1}),o(a(qe),{class:J(a(M)("p-0 w-auto min-w-[150px]",v.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:r(()=>[o(a(aa),{multiple:e.filter.multiple,"highlight-on-hover":""},{default:r(()=>[Ja(o(a(ta),{placeholder:a(H)("sharp::form.multiselect.placeholder")},null,8,["placeholder"]),[[Ya,v.filter.searchable]]),o(a(la),{class:"scroll-pb-12"},{default:r(()=>[o(a(sa),null,{default:r(()=>[R(b(a(H)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),o(a(Re),null,{default:r(()=>[(n(!0),h(S,null,Z(v.filter.values,$=>(n(),u(a(Be),{key:$.id,class:"pr-6",value:$,"aria-selected":c($),onSelect:T=>f($)},{default:r(()=>[v.filter.multiple?(n(),u(a(Je),{key:0,class:J({"opacity-50":!c($)}),"model-value":c($)},null,8,["class","model-value"])):F("",!0),v.filter.multiple?F("",!0):(n(),u(a(na),{key:1,class:J(a(M)("h-4 w-4",c($)?"opacity-100":"opacity-0"))},null,8,["class"])),A("div",Sl,b($.label),1)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1}),e.valuated?(n(),h("div",Fl,[o(a(ra)),o(a(Re),null,{default:r(()=>[o(a(Be),{value:{label:a(H)("sharp::filters.select.reset")},class:"justify-center text-center font-medium",onSelect:p[0]||(p[0]=$=>{i("input",null),s.value=!1})},{default:r(()=>[R(b(a(H)("sharp::filters.select.reset")),1)]),_:1},8,["value"])]),_:1})])):F("",!0)]),_:1})]),_:1},8,["multiple"])]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),Ge=g({__name:"AutocompleteRemoteFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(n(),h("div",{class:J(["flex gap-1",{"flex-wrap":!t.inline}])},[o(a(ye),{variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>[R(b(t.value.label),1)]),_:1})],2))}}),Vl={key:1,class:"text-muted-foreground"},Hl={key:0,class:"py-6 px-4 text-center text-sm"},El=["innerHTML"],Ol={key:2,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},Nl={class:"p-1"},Tl=g({__name:"AutocompleteRemoteFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,s=U(!1),d=U(""),{results:c,loading:f,search:v}=et(({query:m,signal:C,onSuccess:B,onError:L})=>at.post(tt("code16.sharp.api.filters.autocomplete.index",{entityKey:e.entityKey,filterHandlerKey:e.filter.key,query:m}),{},{signal:C}).then(B,L).then(w=>w.data.data),{debounceDelay:e.filter.debounceDelay,minLength:e.filter.searchMinChars});function p(m){var C;return Array.isArray(e.value)?!!e.value.find(B=>m.id==B.id):((C=e.value)==null?void 0:C.id)==m.id}function $(m){var C;s.value=!1,i("input",((C=e.value)==null?void 0:C.id)==m.id?null:m)}function T(m){!m.length&&!d.value||(d.value=m,v(m))}function _(){!d.value&&e.filter.searchMinChars===0&&v("",!0)}return(m,C)=>(n(),h("div",null,[m.inline?F("",!0):(n(),u(a(Pe),{key:0},{default:r(()=>[R(b(m.filter.label),1)]),_:1})),o(a(Ve),{open:s.value,"onUpdate:open":[C[1]||(C[1]=B=>s.value=B),C[2]||(C[2]=B=>B?_():null)],modal:!m.inline},{default:r(()=>[o(a(Se),{"as-child":""},{default:r(()=>[o(da,I(Q(e)),{default:r(()=>[m.inline?(n(),h(S,{key:0},[e.value?(n(),h(S,{key:0},[o(a(Fe),{orientation:"vertical",class:"h-4"}),o(Ge,I(Q(e)),null,16)],64)):F("",!0)],64)):(n(),h(S,{key:1},[e.value?(n(),u(Ge,I(N({key:0},e)),null,16)):(n(),h("span",Vl,b(a(H)("sharp::form.autocomplete.placeholder")),1))],64))]),_:1},16)]),_:1}),o(a(qe),{class:J(a(M)("p-0 w-auto min-w-[200px]",m.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:r(()=>[o(a(aa),{"highlight-on-hover":""},{default:r(()=>[o(a(ta),{class:"field-sizing-content","model-value":d.value,placeholder:e.filter.searchMinChars>1?a(ea)("sharp::form.autocomplete.query_too_short",e.filter.searchMinChars,{min_chars:e.filter.searchMinChars}):a(H)("sharp::form.autocomplete.placeholder"),"onUpdate:modelValue":T},null,8,["model-value","placeholder"]),o(a(la),{class:"scroll-pb-12"},{default:r(()=>[a(f)?(n(),h("div",Hl,b(a(H)("sharp::form.autocomplete.loading")),1)):(n(),h(S,{key:1},[o(a(sa),null,{default:r(()=>[R(b(a(H)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),a(c).length?(n(),u(a(Re),{key:0},{default:r(()=>[(n(!0),h(S,null,Z(a(c),B=>(n(),u(a(Be),{key:B.id,class:"pr-6",value:B,"aria-selected":p(B),onSelect:L=>$(B)},{default:r(()=>[o(a(na),{class:J(a(M)("h-4 w-4",p(B)?"opacity-100":"opacity-0"))},null,8,["class"]),A("div",{class:"max-w-80 line-clamp-2",innerHTML:B.label},null,8,El)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1})):F("",!0)],64)),m.valuated?(n(),h("div",Ol,[a(c).length||a(f)?(n(),u(a(ra),{key:0})):F("",!0),A("div",Nl,[o(a(W),{class:"w-full h-8",variant:"ghost",onClick:C[0]||(C[0]=B=>{i("input",null),s.value=!1})},{default:r(()=>[R(b(a(H)("sharp::filters.select.reset")),1)]),_:1})])])):F("",!0)]),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),Ql=g({__name:"Filter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){const t=l,e={autocompleteRemote:Tl,check:nl,daterange:Bl,select:ql};return(i,s)=>(n(),u(ia(e[i.filter.type]),I(Q(t)),null,16))}}),Ll=["srcdoc"],Al=g({__name:"CommandViewPanel",props:{commands:{}},setup(l){return(t,e)=>{var i;return n(),u(a(rt),{open:((i=t.commands.state.currentCommandResponse)==null?void 0:i.action)==="view","onUpdate:open":e[0]||(e[0]=s=>!s&&t.$nextTick(()=>t.commands.finish()))},{default:r(()=>[o(a(nt),{class:"w-[calc(100%-2.5rem)] sm:w-3/4 sm:max-w-none",side:"left"},{close:r(()=>[o(a(lt),{class:"absolute right-0 translate-x-full text-white top-0 p-2 md:p-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary","aria-label":a(H)("sharp::modals.close.aria_label")},{default:r(()=>[o(a(st),{class:"size-6"})]),_:1},8,["aria-label"])]),default:r(()=>{var s;return[((s=t.commands.state.currentCommandResponse)==null?void 0:s.action)==="view"?(n(),h("iframe",{key:0,class:"absolute inset-0 size-full border-0",srcdoc:t.commands.state.currentCommandResponse.html,sandbox:"allow-forms allow-scripts allow-same-origin allow-popups allow-modals allow-downloads"},null,8,Ll)):F("",!0)]}),_:1})]),_:1},8,["open"])}}}),Ml=g({__name:"CommandFormModal",props:{commands:{}},setup(l){const t=l,e=U(),i=U(!1),s=U(0),d=it("content");return Qe(()=>t.commands.state.currentCommandForm,"error",()=>{d.value.scrollToTop()}),dt(()=>{i.value=!!t.commands.state.currentCommandForm,s.value++}),(c,f)=>{const v=ot("SharpForm");return n(),u(a(gt),{open:i.value,"onUpdate:open":[f[4]||(f[4]=p=>i.value=p),f[5]||(f[5]=p=>!p&&c.$nextTick(()=>c.commands.finish()))]},{default:r(()=>[o(a(yt),{class:"sm:max-w-[558px] gap-8",onPointerDownOutside:f[3]||(f[3]=mt(()=>{},["prevent"])),ref_key:"content",ref:d},{default:r(()=>[c.commands.state.currentCommandForm?(n(),h(S,{key:0},[o(a(ut),null,{default:r(()=>[o(a(ct),null,{default:r(()=>[R(b(c.commands.state.currentCommandForm.config.title),1)]),_:1}),c.commands.state.currentCommandForm.config.description?(n(),u(a(ft),{key:0,as:"div",innerHTML:c.commands.state.currentCommandForm.config.description},null,8,["innerHTML"])):F("",!0)]),_:1}),A("div",null,[(n(),u(v,{"post-fn":p=>c.commands.postForm(p),form:c.commands.state.currentCommandForm,"show-error-alert":c.commands.state.currentCommandForm.hasErrors,"error-alert-message":c.commands.state.currentCommandForm.fieldError("error"),onLoading:f[0]||(f[0]=p=>c.commands.state.currentCommandFormLoading=p),key:`form-${s.value}`,modal:"",ref_key:"form",ref:e},null,8,["post-fn","form","show-error-alert","error-alert-message"]))]),o(a(pt),null,{default:r(()=>[o(a(vt),{"as-child":""},{default:r(()=>[o(a(W),{variant:"outline"},{default:r(()=>[R(b(a(H)("sharp::modals.cancel_button")),1)]),_:1})]),_:1}),c.commands.state.currentCommandForm.config.showSubmitAndReopenButton?(n(),u(a(W),{key:0,variant:"outline",disabled:c.commands.state.currentCommandFormLoading,onClick:f[1]||(f[1]=p=>e.value.submit({_shouldReopen:!0}))},{default:r(()=>[R(b(c.commands.state.currentCommandForm.config.submitAndReopenButtonLabel??a(H)("sharp::modals.command.submit_and_reopen_button")),1)]),_:1},8,["disabled"])):F("",!0),o(a(W),{disabled:c.commands.state.currentCommandFormLoading,onClick:f[2]||(f[2]=p=>e.value.submit())},{default:r(()=>[R(b(c.commands.state.currentCommandForm.config.buttonLabel??a(H)("sharp::modals.command.submit_button")),1)]),_:1},8,["disabled"])]),_:1})],64)):F("",!0)]),_:1},512)]),_:1},8,["open"])}}}),Xl=g({__name:"WithCommands",props:{commands:{}},setup(l){return(t,e)=>(n(),h(S,null,[x(t.$slots,"default"),o(Al,{commands:t.commands},null,8,["commands"]),o(Ml,{commands:t.commands},null,8,["commands"])],64))}});function Ul(){return Ye(_t(ht))}const Kl={key:0,class:"text-xs text-muted-foreground"},Zl=g({__name:"CommandDropdownItems",props:{commands:{},selecting:{type:Boolean}},emits:["select"],setup(l){const t=l;function e(s){return!t.selecting&&s.instanceSelection==="required"}const i=Ul();return(s,d)=>{var c;return n(!0),h(S,null,Z((c=s.commands)==null?void 0:c.filter(f=>f.length>0),(f,v)=>(n(),h(S,null,[v>0?(n(),u(a(bt),{key:0,class:"first:hidden"})):F("",!0),o(a(xt),{class:"max-w-sm"},{default:r(()=>[o(a(Ct),null,{default:r(()=>[(n(!0),h(S,null,Z(f,p=>(n(),u(a(wt),{key:p.key,"delay-duration":0},{default:r(()=>[(n(),u(ia(e(p)?a($t):"div"),{onTouchend:$=>e(p)&&a(kt)(a(H)("sharp::entity_list.commands.needs_selection_message"),{highlightElement:$.target}),as:"div"},{default:r(()=>[o(a(Dt),{onClick:$=>s.$emit("select",p),disabled:e(p)},{default:r(()=>[p.icon?(n(),u(Rt,{key:0,icon:p.icon,class:"size-4"},null,8,["icon"])):F("",!0),A("div",null,[R(b(p.label)+" ",1),p.description?(n(),h("div",Kl,b(p.description),1)):F("",!0)])]),_:2},1032,["onClick","disabled"])]),_:2},1064,["onTouchend"])),o(a(Bt),{class:"max-w-sm",side:a(i).md?"left":"bottom"},{default:r(()=>[R(b(a(H)("sharp::entity_list.commands.needs_selection_message")),1)]),_:1},8,["side"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)],64))),256)}}}),Jl=g({__name:"DropdownChevronDown",setup(l){return(t,e)=>(n(),u(a(De),{class:J(a(M)("size-4 opacity-50 ml-1.5 -mr-0.5",t.$attrs.class))},null,8,["class"]))}});export{zl as F,Xl as _,Jl as a,Zl as b,Gl as c,Ql as d,Wl as p,jl as s,Ul as u};
