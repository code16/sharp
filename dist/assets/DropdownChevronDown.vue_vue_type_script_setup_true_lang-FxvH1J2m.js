import{aZ as Pa,d as g,bE as Sa,a$ as Fa,p as qa,a7 as Xe,o as s,c as o,w as r,q as x,v as O,u as a,P as W,y as $,bF as De,bG as J,bH as Va,bI as $e,bJ as Ha,aa as Ea,bK as Je,a_ as Oa,bL as Na,a0 as z,bM as Ie,ab as ge,bN as Aa,bO as Ma,bP as me,bQ as Ye,bR as Ta,j as L,t as _,x as Ia,bS as Ze,bT as La,bU as Ua,bV as Ka,bW as za,bX as Ga,b as R,bY as ja,bZ as ke,ad as Le,b_ as Ue,af as G,ag as Z,b$ as ea,c0 as Wa,az as aa,c1 as Qa,c2 as Xa,a as u,K as ta,k as Y,c3 as Ja,A as y,F as q,H as ae,z as U,c4 as se,c5 as Pe,b9 as Ya,b8 as Za,i as F,Y as ye,c6 as _e,l as Se,c7 as Fe,c8 as Ke,c9 as qe,_ as E,ca as Ve,V as te,m as ze,cb as He,bv as la,cc as Re,cd as sa,ce as na,cf as ra,cg as ia,ch as Be,ci as xe,f as da,cj as oa,ck as et,aD as at,r as tt,ae as ua,cl as lt,bd as st,cm as nt,cn as rt,$ as it,b5 as dt,ay as ot,an as ut,ao as ct,co as ft,ap as pt,aq as vt,n as mt,am as gt,al as yt,aR as ht,bw as _t,bx as bt,by as Ct,aX as wt,aS as $t,bA as kt,bz as Dt,aM as Rt}from"./sharp-D_gEO45k.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Pa("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var Bt=g({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=Sa(),{forwardRef:i,currentElement:n}=Fa();return e.contentId||(e.contentId=qa(void 0,"reka-dialog-content")),Xe(()=>{e.triggerElement.value=n.value}),(d,f)=>(s(),o(a(W),O(t,{ref:a(i),type:d.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":a(e).open.value||!1,"aria-controls":a(e).open.value?a(e).contentId:void 0,"data-state":a(e).open.value?"open":"closed",onClick:a(e).onOpenToggle}),{default:r(()=>[x(d.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),xt=Bt;function Pt(l){const t=$(()=>l.start.value?!!l.isDateDisabled(l.start.value):!1),e=$(()=>l.end.value?!!l.isDateDisabled(l.end.value):!1),i=$(()=>t.value||e.value?!1:!!(l.start.value&&l.end.value&&De(l.end.value,l.start.value))),n=C=>l.start.value?J(l.start.value,C):!1,d=C=>l.end.value?J(l.end.value,C):!1,f=C=>l.start.value&&J(l.start.value,C)||l.end.value&&J(l.end.value,C)?!0:l.end.value&&l.start.value?$e(C,l.start.value,l.end.value):!1,v=C=>{var p;if(l.isDateDisabled(C))return!0;if((p=l.maximumDays)!=null&&p.value){if(l.start.value&&l.end.value){if(l.fixedDate.value){const k=Ha(l.start.value,l.end.value).length;if(k<=l.maximumDays.value){const B=l.maximumDays.value-k-1,I=l.start.value.subtract({days:B}),b=l.end.value.add({days:B});return!$e(C,I,b)}}return!1}if(l.start.value){const k=l.start.value.add({days:l.maximumDays.value}),B=l.start.value.subtract({days:l.maximumDays.value});return!$e(C,B,k)}}return!l.start.value||l.end.value||J(l.start.value,C),!1},h=C=>{var p;return!!((p=l.isDateHighlightable)!=null&&p.call(l,C))},c=$(()=>{var I;if(l.start.value&&l.end.value&&!l.fixedDate.value||!l.start.value||!l.focusedValue.value)return null;const C=De(l.start.value,l.focusedValue.value),p=C?l.start.value:l.focusedValue.value,k=C?l.focusedValue.value:l.start.value;if(J(p,k))return{start:p,end:k};if((I=l.maximumDays)!=null&&I.value&&!l.end.value){const b=C?p.add({days:l.maximumDays.value}):p.subtract({days:l.maximumDays.value});return{start:p,end:b}}return Va(p,k,l.allowNonContiguousRanges.value?()=>!1:l.isDateUnavailable,v,l.isDateHighlightable)?{start:p,end:k}:null});return{isInvalid:i,isSelected:f,isDateHighlightable:h,highlightedRange:c,isSelectionStart:n,isSelectionEnd:d,isHighlightedStart:C=>!c.value||!c.value.start?!1:J(c.value.start,C),isHighlightedEnd:C=>!c.value||!c.value.end?!1:J(c.value.end,C),isDateDisabled:v}}const St={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},Ft={role:"heading","aria-level":"2"},[de,qt]=Ia("RangeCalendarRoot");var Vt=g({__name:"RangeCalendarRoot",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1,default:()=>({start:void 0,end:void 0})},modelValue:{type:[Object,null],required:!1},placeholder:{type:null,required:!1,default:void 0},allowNonContiguousRanges:{type:Boolean,required:!1,default:!1},pagedNavigation:{type:Boolean,required:!1,default:!1},preventDeselect:{type:Boolean,required:!1,default:!1},maximumDays:{type:Number,required:!1,default:void 0},weekStartsOn:{type:Number,required:!1,default:0},weekdayFormat:{type:String,required:!1,default:"narrow"},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1,default:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1,default:1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},initialFocus:{type:Boolean,required:!1,default:!1},isDateDisabled:{type:Function,required:!1,default:void 0},isDateUnavailable:{type:Function,required:!1,default:void 0},isDateHighlightable:{type:Function,required:!1,default:void 0},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},disableDaysOutsideCurrentView:{type:Boolean,required:!1,default:!1},fixedDate:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,i=t,{disabled:n,readonly:d,initialFocus:f,pagedNavigation:v,weekStartsOn:h,weekdayFormat:c,fixedWeeks:w,numberOfMonths:M,preventDeselect:C,isDateUnavailable:p,isDateHighlightable:k,isDateDisabled:B,calendarLabel:I,maxValue:b,minValue:D,dir:H,locale:T,nextPage:oe,prevPage:be,allowNonContiguousRanges:ue,disableDaysOutsideCurrentView:Ce,fixedDate:N,maximumDays:P}=Ea(e),{primitiveElement:re,currentElement:ce}=Je(),Q=Oa(H),fe=Na(T),ne=z(),X=z(),he=z(!1),S=Ie(e,"modelValue",i,{defaultValue:e.defaultValue??{start:void 0,end:void 0},passive:e.modelValue===void 0}),V=z(S.value);ge(V,m=>{i("update:validModelValue",m)});const le=Aa({defaultPlaceholder:e.placeholder,defaultValue:S.value.start,locale:e.locale}),ee=z(S.value.start),K=z(S.value.end),pe=Ie(e,"placeholder",i,{defaultValue:e.defaultPlaceholder??le.copy(),passive:e.placeholder===void 0});function Ee(m){pe.value=m.copy()}const{fullCalendarLabel:we,headingValue:fa,isDateDisabled:pa,isDateUnavailable:Oe,isNextButtonDisabled:va,isPrevButtonDisabled:ma,grid:Ne,weekdays:Ae,isOutsideVisibleView:ga,nextPage:ya,prevPage:ha,formatter:_a}=Ma({locale:fe,placeholder:pe,weekStartsOn:h,fixedWeeks:w,numberOfMonths:M,minValue:D,maxValue:b,disabled:n,weekdayFormat:c,pagedNavigation:v,isDateDisabled:B.value,isDateUnavailable:p.value,calendarLabel:I,nextPage:oe,prevPage:be}),{isInvalid:Me,isSelected:ba,isDateHighlightable:Ca,highlightedRange:wa,isSelectionStart:$a,isSelectionEnd:ka,isHighlightedStart:Da,isHighlightedEnd:Ra,isDateDisabled:Ba}=Pt({start:ee,end:K,isDateDisabled:pa,isDateUnavailable:Oe,isDateHighlightable:k.value,focusedValue:X,allowNonContiguousRanges:ue,fixedDate:N,maximumDays:P});ge(S,(m,A)=>{var j,ve,ie,Te;(!(A!=null&&A.start)&&(m!=null&&m.start)||!m||!m.start||ee.value&&!me(m.start,ee.value))&&(ee.value=(ve=(j=m==null?void 0:m.start)==null?void 0:j.copy)==null?void 0:ve.call(j)),(!(A!=null&&A.end)&&m.end||!m||!m.end||K.value&&!me(m.end,K.value))&&(K.value=(Te=(ie=m==null?void 0:m.end)==null?void 0:ie.copy)==null?void 0:Te.call(ie))}),ge(ee,m=>{m&&!me(m,pe.value)&&Ee(m),i("update:startValue",m)}),ge([ee,K],([m,A])=>{var ve,ie;const j=S.value;j&&j.start&&j.end&&m&&A&&me(j.start,m)&&me(j.end,A)||(he.value=!0,A&&m?(De(A,m)?S.value={start:A.copy(),end:m.copy()}:S.value={start:m.copy(),end:A.copy()},he.value=!1,V.value={start:(ve=S.value.start)==null?void 0:ve.copy(),end:(ie=S.value.end)==null?void 0:ie.copy()}):m?S.value={start:m.copy(),end:void 0}:S.value={start:A==null?void 0:A.copy(),end:void 0})});const xa=Ze();return Ye("keydown",m=>{var A,j;m.key===xa.ESCAPE&&he.value&&(ee.value=(A=V.value.start)==null?void 0:A.copy(),K.value=(j=V.value.end)==null?void 0:j.copy())}),qt({isDateUnavailable:Oe,isDateHighlightable:Ca,startValue:ee,endValue:K,formatter:_a,modelValue:S,placeholder:pe,disabled:n,initialFocus:f,pagedNavigation:v,grid:Ne,weekDays:Ae,weekStartsOn:h,weekdayFormat:c,fixedWeeks:w,numberOfMonths:M,readonly:d,preventDeselect:C,fullCalendarLabel:we,headingValue:fa,isInvalid:Me,isDateDisabled:Ba,allowNonContiguousRanges:ue,highlightedRange:wa,focusedValue:X,lastPressedDateValue:ne,isSelected:ba,isSelectionEnd:ka,isSelectionStart:$a,isNextButtonDisabled:va,isPrevButtonDisabled:ma,isOutsideVisibleView:ga,nextPage:ya,prevPage:ha,parentElement:ce,onPlaceholderChange:Ee,locale:fe,dir:Q,isHighlightedStart:Da,isHighlightedEnd:Ra,disableDaysOutsideCurrentView:Ce,fixedDate:N,maximumDays:P}),Xe(()=>{f.value&&Ta(ce.value)}),(m,A)=>(s(),o(a(W),{ref_key:"primitiveElement",ref:re,as:m.as,"as-child":m.asChild,role:"application","aria-label":a(we),"data-readonly":a(d)?"":void 0,"data-disabled":a(n)?"":void 0,"data-invalid":a(Me)?"":void 0,dir:a(Q)},{default:r(()=>[L("div",St,[L("div",Ft,_(a(we)),1)]),x(m.$slots,"default",{date:a(pe),grid:a(Ne),weekDays:a(Ae),weekStartsOn:a(h),locale:a(fe),fixedWeeks:a(w),modelValue:a(S)})]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),Ht=Vt,Et=g({__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"td"}},setup(l){const t=de();return(e,i)=>{var n,d;return s(),o(a(W),{as:e.as,"as-child":e.asChild,role:"gridcell","aria-selected":a(t).isSelected(e.date)?!0:void 0,"aria-disabled":a(t).isDateDisabled(e.date)||((d=(n=a(t)).isDateUnavailable)==null?void 0:d.call(n,e.date))||a(t).disableDaysOutsideCurrentView.value,"data-disabled":a(t).isDateDisabled(e.date)||a(t).disableDaysOutsideCurrentView.value?"":void 0},{default:r(()=>[x(e.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),Ot=Et,Nt=g({__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l,e=de(),i=Ze(),{primitiveElement:n,currentElement:d}=Je(),f=$(()=>e.formatter.custom(La(t.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),v=$(()=>{var N;return((N=e.isDateUnavailable)==null?void 0:N.call(e,t.day))??!1}),h=$(()=>e.isSelected(t.day)),c=$(()=>e.isSelectionStart(t.day)),w=$(()=>e.isSelectionEnd(t.day)),M=$(()=>e.isHighlightedStart(t.day)),C=$(()=>e.isHighlightedEnd(t.day)),p=$(()=>e.highlightedRange.value?Ua(t.day,e.highlightedRange.value.start,e.highlightedRange.value.end):!1),k=$(()=>e.allowNonContiguousRanges.value),B=$(()=>Ka(t.day,za())),I=$(()=>!Ga(t.day,t.month)),b=$(()=>e.isOutsideVisibleView(t.day)),D=$(()=>e.isDateDisabled(t.day)||e.disableDaysOutsideCurrentView.value&&I.value),H=$(()=>t.day.day.toLocaleString(e.locale.value)),T=$(()=>!e.disabled.value&&J(t.day,e.placeholder.value));function oe(N,P){var re;if(!e.readonly.value&&!(e.isDateDisabled(P)||(re=e.isDateUnavailable)!=null&&re.call(e,P))){if(e.lastPressedDateValue.value=P.copy(),e.startValue.value&&e.highlightedRange.value===null){if(J(P,e.startValue.value)&&!e.preventDeselect.value&&!e.endValue.value){e.startValue.value=void 0,e.onPlaceholderChange(P);return}else if(!e.endValue.value){N.preventDefault(),e.lastPressedDateValue.value&&J(e.lastPressedDateValue.value,P)&&(e.startValue.value=P.copy());return}}if(e.startValue.value&&e.endValue.value&&J(e.endValue.value,P)&&!e.preventDeselect.value){e.startValue.value=void 0,e.endValue.value=void 0,e.onPlaceholderChange(P);return}e.startValue.value?e.endValue.value?e.endValue.value&&e.startValue.value&&(e.fixedDate.value?e.fixedDate.value==="start"?P.compare(e.startValue.value)<0?e.startValue.value=P.copy():e.endValue.value=P.copy():e.fixedDate.value==="end"&&(P.compare(e.endValue.value)>0?e.endValue.value=P.copy():e.startValue.value=P.copy()):(e.endValue.value=void 0,e.startValue.value=P.copy())):e.endValue.value=P.copy():e.startValue.value=P.copy()}}function be(N){D.value||oe(N,t.day)}function ue(){var N;D.value||(N=e.isDateUnavailable)!=null&&N.call(e,t.day)||(e.focusedValue.value=t.day.copy())}function Ce(N){if(D.value)return;N.preventDefault(),N.stopPropagation();const P=e.parentElement.value,re=7,ce=e.dir.value==="rtl"?-1:1;switch(N.code){case i.ARROW_RIGHT:Q(d.value,ce);break;case i.ARROW_LEFT:Q(d.value,-ce);break;case i.ARROW_UP:Q(d.value,-re);break;case i.ARROW_DOWN:Q(d.value,re);break;case i.ENTER:case i.SPACE_CODE:oe(N,t.day)}function Q(fe,ne){const X=ke(P);if(!X.length)return;const S=X.indexOf(fe)+ne;if(S>=0&&S<X.length){X[S].hasAttribute("data-disabled")&&Q(X[S],ne),X[S].focus();return}if(S<0){if(e.isPrevButtonDisabled())return;e.prevPage(),Le(()=>{const V=ke(P);if(!V.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const K=Ue(e.placeholder.value)-Math.abs(S);V[K].hasAttribute("data-disabled")&&Q(V[K],ne),V[K].focus();return}const le=V.length-Math.abs(S);V[le].hasAttribute("data-disabled")&&Q(V[le],ne),V[le].focus()});return}if(S>=X.length){if(e.isNextButtonDisabled())return;e.nextPage(),Le(()=>{const V=ke(P);if(!V.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const ee=Ue(e.placeholder.value.add({months:e.numberOfMonths.value-1})),K=S-X.length+(V.length-ee);V[K].hasAttribute("data-disabled")&&Q(V[K],ne),V[K].focus();return}const le=S-X.length;V[le].hasAttribute("data-disabled")&&Q(V[le],ne),V[le].focus()})}}}return(N,P)=>(s(),o(a(W),O({ref_key:"primitiveElement",ref:n},t,{role:"button","aria-label":f.value,"data-reka-calendar-cell-trigger":"","aria-selected":h.value&&(k.value||!v.value)?!0:void 0,"aria-disabled":D.value||v.value?!0:void 0,"data-highlighted":p.value&&(k.value||!v.value)?"":void 0,"data-selection-start":c.value?!0:void 0,"data-selection-end":w.value?!0:void 0,"data-highlighted-start":M.value?!0:void 0,"data-highlighted-end":C.value?!0:void 0,"data-selected":h.value&&(k.value||!v.value)?!0:void 0,"data-outside-visible-view":b.value?"":void 0,"data-value":N.day.toString(),"data-disabled":D.value?"":void 0,"data-unavailable":v.value?"":void 0,"data-today":B.value?"":void 0,"data-outside-view":I.value?"":void 0,"data-focused":T.value?"":void 0,tabindex:T.value?0:I.value||D.value?void 0:-1,onClick:be,onFocusin:ue,onMouseenter:ue,onKeydown:ja(Ce,["up","down","left","right","enter","space"])}),{default:r(()=>[x(N.$slots,"default",{dayValue:H.value,disabled:D.value,today:B.value,selected:h.value,outsideView:I.value,outsideVisibleView:b.value,unavailable:v.value,highlighted:p.value&&(k.value||!v.value),highlightedStart:M.value,highlightedEnd:C.value,selectionStart:c.value,selectionEnd:w.value},()=>[R(_(H.value),1)])]),_:3},16,["aria-label","aria-selected","aria-disabled","data-highlighted","data-selection-start","data-selection-end","data-highlighted-start","data-highlighted-end","data-selected","data-outside-visible-view","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-focused","tabindex"]))}}),At=Nt,Mt=g({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"table"}},setup(l){const t=l,e=de(),i=$(()=>e.disabled.value?!0:void 0),n=$(()=>e.readonly.value?!0:void 0);return(d,f)=>(s(),o(a(W),O(t,{tabindex:"-1",role:"grid","aria-readonly":n.value,"aria-disabled":i.value,"data-readonly":n.value&&"","data-disabled":i.value&&""}),{default:r(()=>[x(d.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Tt=Mt,It=g({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tbody"}},setup(l){const t=l;return(e,i)=>(s(),o(a(W),G(Z(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Lt=It,Ut=g({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"thead"}},setup(l){const t=l;return(e,i)=>(s(),o(a(W),O(t,{"aria-hidden":"true"}),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Kt=Ut,zt=g({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tr"}},setup(l){const t=l;return(e,i)=>(s(),o(a(W),G(Z(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Gt=zt,jt=g({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"th"}},setup(l){const t=l;return(e,i)=>(s(),o(a(W),G(Z(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Wt=jt,Qt=g({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l;return(e,i)=>(s(),o(a(W),G(Z(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Xt=Qt,Jt=g({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const t=l,e=de();return(i,n)=>(s(),o(a(W),O(t,{"data-disabled":a(e).disabled.value?"":void 0}),{default:r(()=>[x(i.$slots,"default",{headingValue:a(e).headingValue.value},()=>[R(_(a(e).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),Yt=Jt,Zt=g({__name:"RangeCalendarNext",props:{nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=$(()=>i.disabled.value||i.isNextButtonDisabled(t.nextPage)),i=de();return(n,d)=>(s(),o(a(W),O(t,{"aria-label":"Next page",type:n.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:d[0]||(d[0]=f=>a(i).nextPage(t.nextPage))}),{default:r(()=>[x(n.$slots,"default",{disabled:e.value},()=>[d[1]||(d[1]=R(" Next page "))])]),_:3},16,["type","aria-disabled","data-disabled","disabled"]))}}),el=Zt,al=g({__name:"RangeCalendarPrev",props:{prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,e=$(()=>i.disabled.value||i.isPrevButtonDisabled(t.prevPage)),i=de();return(n,d)=>(s(),o(a(W),O(t,{"aria-label":"Previous page",type:n.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:d[0]||(d[0]=f=>a(i).prevPage(t.prevPage))}),{default:r(()=>[x(n.$slots,"default",{disabled:e.value},()=>[d[1]||(d[1]=R(" Prev page "))])]),_:3},16,["type","aria-disabled","data-disabled","disabled"]))}}),tl=al;const Kl=g({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(s(),o(a(xt),G(Z(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}});function zl(l){return ea.stringify(Wa(l),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,e)=>typeof t=="boolean"?String(Number(t)):e(t)})}function Gl(l){return ea.parse(l,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function ll(){return aa(Qa(Xa))}const sl=g({__name:"CheckFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t;return(n,d)=>(s(),o(a(Y),{as:"label",class:"flex items-center gap-2 relative h-8 border",variant:"outline","aria-disabled":n.disabled,size:"sm"},{default:r(()=>[u(a(ta),{"model-value":e.value,disabled:n.disabled,"onUpdate:modelValue":d[0]||(d[0]=f=>i("input",f))},null,8,["model-value","disabled"]),R(" "+_(e.filter.label),1)]),_:1},8,["aria-disabled"]))}}),nl={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},rl=g({__name:"RangeCalendar",props:{defaultPlaceholder:{},defaultValue:{},modelValue:{},placeholder:{},allowNonContiguousRanges:{type:Boolean},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},maximumDays:{},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},isDateHighlightable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},disableDaysOutsideCurrentView:{type:Boolean},fixedDate:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(l,{emit:t}){const e=l,i=t,n=$(()=>{const{class:f,...v}=e;return v}),d=Ja(n,i);return(f,v)=>(s(),o(a(Ht),O({class:a(U)("p-3",e.class)},a(d)),{default:r(({grid:h,weekDays:c})=>[u(a(pl),null,{default:r(()=>[u(a(gl)),u(a(vl)),u(a(ml))]),_:1}),L("div",nl,[(s(!0),y(q,null,ae(h,w=>(s(),o(a(ol),{key:w.value.toString()},{default:r(()=>[u(a(cl),null,{default:r(()=>[u(a(Ge),null,{default:r(()=>[(s(!0),y(q,null,ae(c,M=>(s(),o(a(fl),{key:M},{default:r(()=>[R(_(M),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),u(a(ul),null,{default:r(()=>[(s(!0),y(q,null,ae(w.rows,(M,C)=>(s(),o(a(Ge),{key:`weekDate-${C}`,class:"mt-2 w-full"},{default:r(()=>[(s(!0),y(q,null,ae(M,p=>(s(),o(a(il),{key:p.toString(),date:p},{default:r(()=>[u(a(dl),{day:p,month:w.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),il=g({__name:"RangeCalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(Ot),O({class:a(U)("relative h-9 w-9 p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-month])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default")]),_:3},16,["class"]))}}),dl=g({__name:"RangeCalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(At),O({class:a(U)(a(Pe)({variant:"ghost"}),"h-9 w-9 p-0 font-normal data-selected:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-outside-month:pointer-events-none data-[outside-month]:text-muted-foreground data-outside-month:opacity-50 [&[data-outside-month][data-selected]]:bg-accent/50 [&[data-outside-month][data-selected]]:text-muted-foreground [&[data-outside-month][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-disabled:opacity-50","data-[unavailable]:text-destructive-foreground data-unavailable:line-through",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default")]),_:3},16,["class"]))}}),ol=g({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(Tt),O({class:a(U)("w-full border-collapse space-y-1",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default")]),_:3},16,["class"]))}}),ul=g({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(s(),o(a(Lt),G(Z(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),cl=g({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(e,i)=>(s(),o(a(Kt),G(Z(t)),{default:r(()=>[x(e.$slots,"default")]),_:3},16))}}),Ge=g({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(Gt),O({class:a(U)("flex mt-2 w-full",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default")]),_:3},16,["class"]))}}),fl=g({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(Wt),O({class:a(U)("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default")]),_:3},16,["class"]))}}),pl=g({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(Xt),O({class:a(U)("relative flex w-full items-center justify-between pt-1",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default")]),_:3},16,["class"]))}}),vl=g({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(Yt),O({class:a(U)("text-sm font-medium",t.class)},a(i)),{default:r(({headingValue:f})=>[x(n.$slots,"default",{headingValue:f},()=>[R(_(f),1)])]),_:3},16,["class"]))}}),ml=g({__name:"RangeCalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(el),O({class:a(U)(a(Pe)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default",{},()=>[u(a(Ya),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),gl=g({__name:"RangeCalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,e=$(()=>{const{class:n,...d}=t;return d}),i=se(e);return(n,d)=>(s(),o(a(tl),O({class:a(U)(a(Pe)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},a(i)),{default:r(()=>[x(n.$slots,"default",{},()=>[u(a(Za),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),yl={key:0,class:"mr-2"},je=g({__name:"DateRangeFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean},preset:{}},setup(l){const t=l;return(e,i)=>"start"in t.value?(s(),o(a(ye),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:r(()=>[e.preset?(s(),y("span",yl,_(e.preset.label)+": ",1)):F("",!0),t.value.end?(s(),y(q,{key:1},[R(_(t.value.formatted.start)+" ",1),i[0]||(i[0]=L("span",{class:"mx-1.5"},"-",-1)),R(" "+_(t.value.formatted.end),1)],64)):(s(),y(q,{key:2},[R(_(t.value.formatted.start),1)],64))]),_:1})):F("",!0)}}),hl={"aria-hidden":"true"},_l={key:1,class:"text-muted-foreground"},bl={class:"flex"},Cl={key:0,class:"flex flex-col shrink-0 p-3"},wl={class:"flex-1 min-w-0"},$l={class:"grid grid-cols-1 gap-4 p-3",key:"footer"},kl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Dl={class:"flex flex-col md:flex-row justify-end gap-3 pt-0"},Rl=g({__name:"DateRangeFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,n=z(),d=aa({start:"",end:""}),f=z(0),v=z(!1);ge(()=>e.value,()=>h());function h(){var b,D,H,T;n.value={start:(b=e.value)!=null&&b.start?_e(e.value.start):null,end:(D=e.value)!=null&&D.end?_e(e.value.end):null},d.start=(H=n.value.start)==null?void 0:H.toString(),d.end=(T=n.value.end)==null?void 0:T.toString(),f.value++}function c(b){var D,H;return b.start===((D=e.value)==null?void 0:D.start)&&b.end===((H=e.value)==null?void 0:H.end)}function w(){h()}function M(b){v.value=!1,i("input",{start:b.start,end:b.end})}function C(){v.value=!1,i("input",n.value.start&&n.value.end?{start:n.value.start.toString(),end:n.value.end.toString()}:null)}function p(){var b,D;d.start=((b=n.value.start)==null?void 0:b.toString())??"",d.end=((D=n.value.end)==null?void 0:D.toString())??""}function k(){v.value=!1,i("input",null)}function B(){f.value++,n.value.start=d.start?_e(d.start):null,d.end||(d.end=d.start,n.value.end=n.value.start)}function I(){f.value++,n.value.end=d.end?_e(d.end):null,d.start||(d.start=d.end,n.value.start=n.value.end)}return(b,D)=>(s(),y("div",null,[b.inline?F("",!0):(s(),o(a(Se),{key:0},{default:r(()=>[R(_(b.filter.label),1)]),_:1})),u(a(He),{open:v.value,"onUpdate:open":[D[4]||(D[4]=H=>v.value=H),D[5]||(D[5]=H=>H&&w())],modal:!b.inline},{default:r(()=>[u(a(Fe),{"as-child":""},{default:r(()=>[b.inline?(s(),o(a(Y),{key:0,class:"h-8 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",disabled:b.disabled,role:"combobox","aria-autocomplete":"none","aria-label":b.filter.label},{default:r(()=>[u(a(Ke),{class:"h-4 w-4 opacity-50"}),L("span",hl,_(b.filter.label),1),e.value&&"start"in e.value?(s(),y(q,{key:0},[u(a(qe),{orientation:"vertical",class:"h-4"}),u(je,O(e,{preset:e.filter.presets.find(H=>c(H))}),null,16,["preset"])],64)):F("",!0)]),_:1},8,["disabled","aria-label"])):(s(),o(a(Y),{key:1,class:"mt-2 w-full text-left justify-between font-normal",variant:"outline",size:"sm",disabled:b.disabled,role:"combobox","aria-autocomplete":"none","aria-label":b.filter.label},{default:r(()=>[e.value&&"start"in e.value?(s(),o(je,O({key:0},e,{preset:e.filter.presets.find(H=>c(H))}),null,16,["preset"])):(s(),y("span",_l,_(a(E)("sharp::form.multiselect.placeholder")),1)),u(a(Ke),{class:"ml-2 h-4 w-4 stroke-[1.25]"})]),_:1},8,["disabled","aria-label"]))]),_:1}),u(a(Ve),{class:te(a(U)("w-auto p-0",b.inline?"":"w-(--reka-popover-trigger-width)"))},{default:r(()=>{var H;return[L("div",bl,[(H=b.filter.presets)!=null&&H.length?(s(),y("div",Cl,[(s(!0),y(q,null,ae(b.filter.presets,T=>(s(),o(a(Y),{class:"text-left justify-start aria-current:bg-accent aria-current:text-accent-foreground","aria-current":c(T),size:"sm",variant:"ghost",onClick:oe=>M(T)},{default:r(()=>[R(_(T.label),1)]),_:2},1032,["aria-current","onClick"]))),256))])):F("",!0),L("div",wl,[(s(),o(a(rl),{class:te(b.inline?"hidden md:block":"hidden"),modelValue:n.value,"onUpdate:modelValue":[D[0]||(D[0]=T=>n.value=T),p],"number-of-months":2,locale:b.window.navigator.language,"week-starts-on":e.filter.mondayFirst?1:0,"onUpdate:startValue":D[1]||(D[1]=T=>n.value.start=T),key:f.value},null,8,["class","modelValue","locale","week-starts-on"])),L("div",$l,[L("div",kl,[u(a(ze),{class:"block",type:"date",modelValue:d.start,"onUpdate:modelValue":[D[2]||(D[2]=T=>d.start=T),B],"aria-label":a(E)("sharp::form.daterange.start_placeholder")},null,8,["modelValue","aria-label"]),u(a(ze),{class:"block",type:"date",modelValue:d.end,"onUpdate:modelValue":[D[3]||(D[3]=T=>d.end=T),I],"aria-label":a(E)("sharp::form.daterange.end_placeholder")},null,8,["modelValue","aria-label"])]),L("div",Dl,[n.value.end?(s(),o(a(Y),{key:0,class:"max-md:h-8",variant:"outline",onClick:k},{default:r(()=>[R(_(a(E)("sharp::filters.select.reset")),1)]),_:1})):F("",!0),u(a(Y),{class:"max-md:h-8",onClick:C},{default:r(()=>[R(_(a(E)("sharp::filters.daterange.confirm")),1)]),_:1})])])])])]}),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),We=g({__name:"SelectFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(s(),y("div",{class:te(["flex gap-1",{"flex-wrap":!t.inline}])},[Array.isArray(t.value)?(s(),y(q,{key:0},[t.value.length>2?(s(),o(a(ye),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:r(()=>[R(_(a(la)("sharp::filters.select.label.selected",t.value.length,{count:t.value.length})),1)]),_:1})):(s(!0),y(q,{key:1},ae(t.filter.values.filter(i=>t.value.some(n=>i.id==n)),i=>(s(),o(a(ye),{key:i.id,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>[R(_(i.label),1)]),_:2},1024))),128))],64)):(s(),o(a(ye),{key:1,variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>{var i;return[R(_((i=t.filter.values.find(n=>n.id==t.value))==null?void 0:i.label),1)]}),_:1}))],2))}}),Bl={"aria-hidden":"true"},ca=g({__name:"SelectButton",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>t.inline?(s(),o(a(Y),{key:0,class:"relative text-left justify-start h-8 py-1.5 gap-2 transition-shadow data-[state=open]:shadow-md",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:r(()=>[L("span",Bl,_(t.filter.label),1),x(t.$slots,"default"),u(a(Re),{class:"-mr-0.5 w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"])):(s(),o(a(Y),{key:1,class:"mt-2 h-auto min-h-9 w-full text-left justify-start font-normal py-1.5 gap-2",variant:"outline",size:"sm",role:"combobox","aria-autocomplete":"none","aria-label":t.filter.label,disabled:t.disabled},{default:r(()=>[x(t.$slots,"default"),u(a(Re),{class:"ml-auto w-4 h-4 opacity-50 shrink-0"})]),_:3},8,["aria-label","disabled"]))}}),xl={key:1,class:"text-muted-foreground"},Pl={class:"max-w-80 line-clamp-2"},Sl={key:0,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},Fl=g({__name:"SelectFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,n=z(!1),d=$(()=>Array.isArray(e.value)?e.value.length:e.value!=null);function f(h){return Array.isArray(e.value)?!!e.value.find(c=>h.id==c):e.value==h.id}function v(h){if(e.filter.multiple){const c=e.filter.values.filter(w=>{var C;const M=(C=e.value)==null?void 0:C.find(p=>w.id==p);return w.id===h.id?!M:M}).map(w=>w.id);i("input",c)}else n.value=!1,i("input",e.value==h.id?null:h.id)}return(h,c)=>(s(),y("div",null,[h.inline?F("",!0):(s(),o(a(Se),{key:0},{default:r(()=>[R(_(h.filter.label),1)]),_:1})),u(a(He),{open:n.value,"onUpdate:open":c[1]||(c[1]=w=>n.value=w),modal:!h.inline},{default:r(()=>[u(a(Fe),{"as-child":""},{default:r(()=>[u(ca,G(Z(e)),{default:r(()=>[h.inline?(s(),y(q,{key:0},[d.value?(s(),y(q,{key:0},[u(a(qe),{orientation:"vertical",class:"h-4"}),u(We,G(Z(e)),null,16)],64)):F("",!0)],64)):(s(),y(q,{key:1},[d.value?(s(),o(We,G(O({key:0},e)),null,16)):(s(),y("span",xl,_(a(E)("sharp::form.multiselect.placeholder")),1))],64))]),_:1},16)]),_:1}),u(a(Ve),{class:te(a(U)("p-0 w-auto min-w-[150px]",h.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:r(()=>[u(a(sa),{multiple:e.filter.multiple,"highlight-on-hover":""},{default:r(()=>[h.filter.searchable?(s(),o(a(na),{key:0,placeholder:a(E)("sharp::form.multiselect.placeholder")},null,8,["placeholder"])):F("",!0),u(a(ra),{class:"scroll-pb-12"},{default:r(()=>[u(a(ia),null,{default:r(()=>[R(_(a(E)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),u(a(Be),null,{default:r(()=>[(s(!0),y(q,null,ae(h.filter.values,w=>(s(),o(a(xe),{key:w.id,class:"pr-6",value:w,"aria-selected":f(w),onSelect:M=>v(w)},{default:r(()=>[h.filter.multiple?(s(),o(a(ta),{key:0,class:te({"opacity-50":!f(w)}),"model-value":f(w)},null,8,["class","model-value"])):F("",!0),h.filter.multiple?F("",!0):(s(),o(a(da),{key:1,class:te(a(U)("h-4 w-4",f(w)?"opacity-100":"opacity-0"))},null,8,["class"])),L("div",Pl,_(w.label),1)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1}),e.valuated?(s(),y("div",Sl,[u(a(oa)),u(a(Be),null,{default:r(()=>[u(a(xe),{value:{label:a(E)("sharp::filters.select.reset")},class:"justify-center text-center font-medium",onSelect:c[0]||(c[0]=w=>{i("input",null),n.value=!1})},{default:r(()=>[R(_(a(E)("sharp::filters.select.reset")),1)]),_:1},8,["value"])]),_:1})])):F("",!0)]),_:1})]),_:1},8,["multiple"])]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),Qe=g({__name:"AutocompleteRemoteFilterValue",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){return(t,e)=>(s(),y("div",{class:te(["flex gap-1",{"flex-wrap":!t.inline}])},[u(a(ye),{variant:"secondary",class:"block rounded-sm px-1 font-normal max-w-52 truncate"},{default:r(()=>[R(_(t.value.label),1)]),_:1})],2))}}),ql={key:1,class:"text-muted-foreground"},Vl={key:0,class:"py-6 px-4 text-center text-sm"},Hl=["innerHTML"],El={key:2,class:"sticky -bottom-px border-b border-transparent rounded-b-md bg-popover"},Ol={class:"p-1"},Nl=g({__name:"AutocompleteRemoteFilter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},emits:["input"],setup(l,{emit:t}){const e=l,i=t,n=z(!1),d=z(""),{results:f,loading:v,search:h}=et(({query:p,signal:k,onSuccess:B,onError:I})=>at.post(tt("code16.sharp.api.filters.autocomplete.index",{entityKey:e.entityKey,filterKey:e.filter.key,query:p}),{},{signal:k}).then(B,I).then(b=>b.data.data),{debounceDelay:e.filter.debounceDelay,minLength:e.filter.searchMinChars});function c(p){var k;return Array.isArray(e.value)?!!e.value.find(B=>p.id==B.id):((k=e.value)==null?void 0:k.id)==p.id}function w(p){var k;n.value=!1,i("input",((k=e.value)==null?void 0:k.id)==p.id?null:p)}function M(p){!p.length&&!d.value||(d.value=p,h(p))}function C(){!d.value&&e.filter.searchMinChars===0&&h("",!0)}return(p,k)=>(s(),y("div",null,[p.inline?F("",!0):(s(),o(a(Se),{key:0},{default:r(()=>[R(_(p.filter.label),1)]),_:1})),u(a(He),{open:n.value,"onUpdate:open":[k[1]||(k[1]=B=>n.value=B),k[2]||(k[2]=B=>B?C():null)],modal:!p.inline},{default:r(()=>[u(a(Fe),{"as-child":""},{default:r(()=>[u(ca,G(Z(e)),{default:r(()=>[p.inline?(s(),y(q,{key:0},[e.value?(s(),y(q,{key:0},[u(a(qe),{orientation:"vertical",class:"h-4"}),u(Qe,G(Z(e)),null,16)],64)):F("",!0)],64)):(s(),y(q,{key:1},[e.value?(s(),o(Qe,G(O({key:0},e)),null,16)):(s(),y("span",ql,_(a(E)("sharp::form.autocomplete.placeholder")),1))],64))]),_:1},16)]),_:1}),u(a(Ve),{class:te(a(U)("p-0 w-auto min-w-[200px]",p.inline?"":"w-(--reka-popover-trigger-width)")),align:"start"},{default:r(()=>[u(a(sa),{"highlight-on-hover":""},{default:r(()=>[u(a(na),{class:"field-sizing-content","model-value":d.value,placeholder:e.filter.searchMinChars>1?a(la)("sharp::form.autocomplete.query_too_short",e.filter.searchMinChars,{min_chars:e.filter.searchMinChars}):a(E)("sharp::form.autocomplete.placeholder"),"onUpdate:modelValue":M},null,8,["model-value","placeholder"]),u(a(ra),{class:"scroll-pb-12"},{default:r(()=>[a(v)?(s(),y("div",Vl,_(a(E)("sharp::form.autocomplete.loading")),1)):(s(),y(q,{key:1},[u(a(ia),null,{default:r(()=>[R(_(a(E)("sharp::form.autocomplete.no_results_text")),1)]),_:1}),a(f).length?(s(),o(a(Be),{key:0},{default:r(()=>[(s(!0),y(q,null,ae(a(f),B=>(s(),o(a(xe),{key:B.id,class:"pr-6",value:B,"aria-selected":c(B),onSelect:I=>w(B)},{default:r(()=>[u(a(da),{class:te(a(U)("h-4 w-4",c(B)?"opacity-100":"opacity-0"))},null,8,["class"]),L("div",{class:"max-w-80 line-clamp-2",innerHTML:B.label},null,8,Hl)]),_:2},1032,["value","aria-selected","onSelect"]))),128))]),_:1})):F("",!0)],64)),p.valuated?(s(),y("div",El,[a(f).length||a(v)?(s(),o(a(oa),{key:0})):F("",!0),L("div",Ol,[u(a(Y),{class:"w-full h-8",variant:"ghost",onClick:k[0]||(k[0]=B=>{i("input",null),n.value=!1})},{default:r(()=>[R(_(a(E)("sharp::filters.select.reset")),1)]),_:1})])])):F("",!0)]),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["open","modal"])]))}}),jl=g({__name:"Filter",props:{filter:{},value:{},valuated:{type:Boolean},entityKey:{},disabled:{type:Boolean},inline:{type:Boolean}},setup(l){const t=l,e={autocompleteRemote:Nl,check:sl,daterange:Rl,select:Fl};return(i,n)=>(s(),o(ua(e[i.filter.type]),G(Z(t)),null,16))}}),Al=["srcdoc"],Ml=g({__name:"CommandViewPanel",props:{commands:{}},setup(l){return(t,e)=>{var i;return s(),o(a(rt),{open:((i=t.commands.state.currentCommandResponse)==null?void 0:i.action)==="view","onUpdate:open":e[0]||(e[0]=n=>!n&&t.$nextTick(()=>t.commands.finish()))},{default:r(()=>[u(a(nt),{class:"w-[calc(100%-2.5rem)] sm:w-3/4 sm:max-w-none",side:"left"},{close:r(()=>[u(a(lt),{class:"absolute right-0 translate-x-full text-white top-0 p-2 md:p-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary","aria-label":a(E)("sharp::modals.close.aria_label")},{default:r(()=>[u(a(st),{class:"size-6"})]),_:1},8,["aria-label"])]),default:r(()=>{var n;return[((n=t.commands.state.currentCommandResponse)==null?void 0:n.action)==="view"?(s(),y("iframe",{key:0,class:"absolute inset-0 size-full border-0",srcdoc:t.commands.state.currentCommandResponse.html,sandbox:"allow-forms allow-scripts allow-same-origin allow-popups allow-modals allow-downloads"},null,8,Al)):F("",!0)]}),_:1})]),_:1},8,["open"])}}}),Tl=g({__name:"CommandFormModal",props:{commands:{}},setup(l){const t=l,e=z(),i=z(!1),n=z(0),d=it("content");return Ye(()=>t.commands.state.currentCommandForm,"error",()=>{d.value.scrollToTop()}),dt(()=>{i.value=!!t.commands.state.currentCommandForm,n.value++}),(f,v)=>{const h=ot("SharpForm");return s(),o(a(yt),{open:i.value,"onUpdate:open":[v[4]||(v[4]=c=>i.value=c),v[5]||(v[5]=c=>!c&&f.$nextTick(()=>f.commands.finish()))]},{default:r(()=>[u(a(gt),{class:"sm:max-w-[558px] gap-8",onPointerDownOutside:v[3]||(v[3]=mt(()=>{},["prevent"])),ref_key:"content",ref:d},{default:r(()=>[f.commands.state.currentCommandForm?(s(),y(q,{key:0},[u(a(ut),null,{default:r(()=>[u(a(ct),null,{default:r(()=>[R(_(f.commands.state.currentCommandForm.config.title),1)]),_:1}),f.commands.state.currentCommandForm.config.description?(s(),o(a(ft),{key:0,as:"div",innerHTML:f.commands.state.currentCommandForm.config.description},null,8,["innerHTML"])):F("",!0)]),_:1}),L("div",null,[(s(),o(h,{"post-fn":c=>f.commands.postForm(c),form:f.commands.state.currentCommandForm,"show-error-alert":f.commands.state.currentCommandForm.hasErrors,"error-alert-message":f.commands.state.currentCommandForm.fieldError("error"),onLoading:v[0]||(v[0]=c=>f.commands.state.currentCommandFormLoading=c),key:`form-${n.value}`,modal:"",ref_key:"form",ref:e},null,8,["post-fn","form","show-error-alert","error-alert-message"]))]),u(a(pt),null,{default:r(()=>[u(a(vt),{"as-child":""},{default:r(()=>[u(a(Y),{variant:"outline"},{default:r(()=>[R(_(a(E)("sharp::modals.cancel_button")),1)]),_:1})]),_:1}),f.commands.state.currentCommandForm.config.showSubmitAndReopenButton?(s(),o(a(Y),{key:0,variant:"outline",disabled:f.commands.state.currentCommandFormLoading,onClick:v[1]||(v[1]=c=>e.value.submit({_shouldReopen:!0}))},{default:r(()=>[R(_(f.commands.state.currentCommandForm.config.submitAndReopenButtonLabel??a(E)("sharp::modals.command.submit_and_reopen_button")),1)]),_:1},8,["disabled"])):F("",!0),u(a(Y),{disabled:f.commands.state.currentCommandFormLoading,onClick:v[2]||(v[2]=c=>e.value.submit())},{default:r(()=>[R(_(f.commands.state.currentCommandForm.config.buttonLabel??a(E)("sharp::modals.command.submit_button")),1)]),_:1},8,["disabled"])]),_:1})],64)):F("",!0)]),_:1},512)]),_:1},8,["open"])}}}),Wl=g({__name:"WithCommands",props:{commands:{}},setup(l){return(t,e)=>(s(),y(q,null,[x(t.$slots,"default"),u(Ml,{commands:t.commands},null,8,["commands"]),u(Tl,{commands:t.commands},null,8,["commands"])],64))}}),Il={key:0,class:"text-xs text-muted-foreground"},Ql=g({__name:"CommandDropdownItems",props:{commands:{},selecting:{type:Boolean}},emits:["select"],setup(l){const t=l;function e(n){return!t.selecting&&n.instanceSelection==="required"}const i=ll();return(n,d)=>{var f;return s(!0),y(q,null,ae((f=n.commands)==null?void 0:f.filter(v=>v.length>0),(v,h)=>(s(),y(q,null,[h>0?(s(),o(a(ht),{key:0,class:"first:hidden"})):F("",!0),u(a(Rt),{class:"max-w-sm"},{default:r(()=>[u(a(_t),null,{default:r(()=>[(s(!0),y(q,null,ae(v,c=>(s(),o(a(bt),{key:c.key,"delay-duration":0},{default:r(()=>[(s(),o(ua(e(c)?a(Ct):"div"),{onTouchend:w=>e(c)&&a(wt)(a(E)("sharp::entity_list.commands.needs_selection_message"),{highlightElement:w.target}),as:"div"},{default:r(()=>[u(a($t),{onClick:w=>n.$emit("select",c),disabled:e(c)},{default:r(()=>[c.icon?(s(),o(kt,{key:0,icon:c.icon,class:"size-4"},null,8,["icon"])):F("",!0),L("div",null,[R(_(c.label)+" ",1),c.description?(s(),y("div",Il,_(c.description),1)):F("",!0)])]),_:2},1032,["onClick","disabled"])]),_:2},1064,["onTouchend"])),u(a(Dt),{class:"max-w-sm",side:a(i).md?"left":"bottom"},{default:r(()=>[R(_(a(E)("sharp::entity_list.commands.needs_selection_message")),1)]),_:1},8,["side"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)],64))),256)}}}),Xl=g({__name:"DropdownChevronDown",setup(l){return(t,e)=>(s(),o(a(Re),{class:te(a(U)("size-4 opacity-50 ml-1.5 -mr-0.5",t.$attrs.class))},null,8,["class"]))}});export{Ul as F,Kl as _,Xl as a,Ql as b,Wl as c,jl as d,Gl as p,zl as s,ll as u};
