import{aY as ze,d as R,W as I,aO as Ue,aZ as At,a_ as Q,o as i,c as v,w as o,q as T,e,av as se,P as ue,x as Oe,y as W,aH as ce,Z as G,v as Y,i as S,a$ as zt,aL as de,a as d,b0 as We,b1 as ht,b2 as Ie,b3 as It,b4 as xe,b5 as Bt,b6 as Rt,A as g,j as $,b as A,F as E,t as _,_ as k,k as O,b7 as qt,D as Pt,G as Tt,H as ne,B as Dt,b8 as Ht,V as D,I as Vt,z as J,b9 as Ft,ba as Ut,m as Ot,bb as Wt,bc as Kt,n as vt,bd as Mt,be as Xt,bf as Yt,bg as jt,a6 as yt,bh as Nt,aP as xt,bi as Gt,bj as re,bk as Qt,bl as Ge,bm as mt,bn as Pe,bo as Zt,bp as Jt,bq as ea,aD as Ve,br as ta,a3 as aa,bs as la,bt as na,ae as sa,ah as ra,bu as he,af as _e,az as we,aj as Se,ak as ke,al as Le,au as Ce,at as $e,aX as oa,aS as ia,aT as ua,aU as ca,aV as da,aW as Qe,S as pa,bv as Ze,bw as Je,bx as et,K as tt,by as at,T as fa,ag as ha,r as le,a0 as va,ab as Te,bz as ya,ac as ma,am as lt,aE as ba,ai as ga,a5 as _a,bA as wa,bB as Sa,ao as ka,ap as La,aq as Ca,ar as $a,as as Ea,aA as Aa,aB as za,bC as nt}from"./sharp-BQ_wZQE4.js";import{u as Ia,a as st,b as rt,c as Ba,F as Ra,_ as qa,d as ot}from"./DropdownChevronDown.vue_vue_type_script_setup_true_lang-8nhZ6o3g.js";import{_ as it}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bgkupnl3.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ze("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ze("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ze("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ze("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),[Z,Va]=Oe("ScrollAreaRoot");var Fa=R({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u,{expose:t}){const a=u,n=I(0),c=I(0),f=I(),s=I(),r=I(),p=I(),h=I(!1),L=I(!1),{type:V,dir:z,scrollHideDelay:C}=Ue(a),F=At(z);function X(){var w;(w=f.value)==null||w.scrollTo({top:0})}function j(){var w;(w=f.value)==null||w.scrollTo({top:0,left:0})}t({viewport:f,scrollTop:X,scrollTopLeft:j});const{forwardRef:m,currentElement:B}=Q();return Va({type:V,dir:F,scrollHideDelay:C,scrollArea:B,viewport:f,onViewportChange:w=>{f.value=w||void 0},content:s,onContentChange:w=>{s.value=w},scrollbarX:r,scrollbarXEnabled:h,scrollbarY:p,scrollbarYEnabled:L,onScrollbarXChange:w=>{r.value=w||void 0},onScrollbarYChange:w=>{p.value=w||void 0},onScrollbarXEnabledChange:w=>{h.value=w},onScrollbarYEnabledChange:w=>{L.value=w},onCornerWidthChange:w=>{n.value=w},onCornerHeightChange:w=>{c.value=w}}),(w,ee)=>(i(),v(e(ue),{ref:e(m),"as-child":a.asChild,as:w.as,dir:e(F),style:se({position:"relative","--reka-scroll-area-corner-width":`${n.value}px`,"--reka-scroll-area-corner-height":`${c.value}px`})},{default:o(()=>[T(w.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),Ua=Fa,Oa=R({__name:"ScrollAreaCornerImpl",setup(u){const t=Z(),a=I(0),n=I(0),c=W(()=>!!a.value&&!!n.value);function f(){var p;const r=((p=t.scrollbarX.value)==null?void 0:p.offsetHeight)||0;t.onCornerHeightChange(r),n.value=r}function s(){var p;const r=((p=t.scrollbarY.value)==null?void 0:p.offsetWidth)||0;t.onCornerWidthChange(r),a.value=r}return ce(t.scrollbarX.value,f),ce(t.scrollbarY.value,s),G(()=>t.scrollbarX.value,f),G(()=>t.scrollbarY.value,s),(r,p)=>{var h;return c.value?(i(),v(e(ue),Y({key:0,style:{width:`${a.value}px`,height:`${n.value}px`,position:"absolute",right:e(t).dir.value==="ltr"?0:void 0,left:e(t).dir.value==="rtl"?0:void 0,bottom:0}},(h=r.$parent)==null?void 0:h.$props),{default:o(()=>[T(r.$slots,"default")]),_:3},16,["style"])):S("v-if",!0)}}}),Wa=Oa,Ka=R({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const t=u,{forwardRef:a}=Q(),n=Z(),c=W(()=>!!n.scrollbarX.value&&!!n.scrollbarY.value),f=W(()=>n.type.value!=="scroll"&&c.value);return(s,r)=>f.value?(i(),v(Wa,Y({key:0},t,{ref:e(a)}),{default:o(()=>[T(s.$slots,"default")]),_:3},16)):S("v-if",!0)}}),Ma=Ka;function bt(u,t){return a=>{if(u[0]===u[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(u[1]-u[0]);return t[0]+n*(a-u[0])}}function Be(u){const t=gt(u.viewport,u.content),a=u.scrollbar.paddingStart+u.scrollbar.paddingEnd,n=(u.scrollbar.size-a)*t;return Math.max(n,18)}function gt(u,t){const a=u/t;return Number.isNaN(a)?0:a}function Xa(u,t=()=>{}){let a={left:u.scrollLeft,top:u.scrollTop},n=0;return function c(){const f={left:u.scrollLeft,top:u.scrollTop},s=a.left!==f.left,r=a.top!==f.top;(s||r)&&t(),a=f,n=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(n)}function ut(u,t,a="ltr"){const n=Be(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,f=t.scrollbar.size-c,s=t.content-t.viewport,r=f-n,p=a==="ltr"?[0,s]:[s*-1,0],h=zt(u,p[0],p[1]);return bt([0,s],[0,r])(h)}function Ee(u){return u?Number.parseInt(u,10):0}function Ya(u,t,a,n="ltr"){const c=Be(a),f=c/2,s=t||f,r=c-s,p=a.scrollbar.paddingStart+s,h=a.scrollbar.size-a.scrollbar.paddingEnd-r,L=a.content-a.viewport,V=n==="ltr"?[0,L]:[L*-1,0];return bt([p,h],V)(u)}function ct(u,t){return u>0&&u<t}var ja=R({__name:"ScrollAreaScrollbarX",setup(u){const t=Z(),a=qe(),{forwardRef:n,currentElement:c}=Q();de(()=>{c.value&&t.onScrollbarXChange(c.value)});const f=W(()=>a.sizes.value);return(s,r)=>(i(),v(wt,{ref:e(n),"is-horizontal":!0,"data-orientation":"horizontal",style:se({bottom:0,left:e(t).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:e(t).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":f.value?`${e(Be)(f.value)}px`:void 0}),onOnDragScroll:r[0]||(r[0]=p=>e(a).onDragScroll(p.x))},{default:o(()=>[T(s.$slots,"default")]),_:3},8,["style"]))}}),Na=ja,xa=R({__name:"ScrollAreaScrollbarY",setup(u){const t=Z(),a=qe(),{forwardRef:n,currentElement:c}=Q();de(()=>{c.value&&t.onScrollbarYChange(c.value)});const f=W(()=>a.sizes.value);return(s,r)=>(i(),v(wt,{ref:e(n),"is-horizontal":!1,"data-orientation":"vertical",style:se({top:0,right:e(t).dir.value==="ltr"?0:void 0,left:e(t).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":f.value?`${e(Be)(f.value)}px`:void 0}),onOnDragScroll:r[0]||(r[0]=p=>e(a).onDragScroll(p.y))},{default:o(()=>[T(s.$slots,"default")]),_:3},8,["style"]))}}),Ga=xa,Qa=R({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(u){const t=Z(),a=Re(),{forwardRef:n}=Q(),c=I(!1),f=ht(()=>{if(t.viewport.value){const s=t.viewport.value.offsetWidth<t.viewport.value.scrollWidth,r=t.viewport.value.offsetHeight<t.viewport.value.scrollHeight;c.value=a.isHorizontal.value?s:r}},10);return de(()=>f()),ce(t.viewport,f),ce(t.content,f),(s,r)=>(i(),v(e(We),{present:s.forceMount||c.value},{default:o(()=>[d(Ke,Y(s.$attrs,{ref:e(n),"data-state":c.value?"visible":"hidden"}),{default:o(()=>[T(s.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),_t=Qa,Za=R({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(u){const t=Z(),{forwardRef:a}=Q();let n;const c=I(!1);function f(){window.clearTimeout(n),c.value=!0}function s(){n=window.setTimeout(()=>{c.value=!1},t.scrollHideDelay.value)}return de(()=>{const r=t.scrollArea.value;r&&(r.addEventListener("pointerenter",f),r.addEventListener("pointerleave",s))}),Ie(()=>{const r=t.scrollArea.value;r&&(window.clearTimeout(n),r.removeEventListener("pointerenter",f),r.removeEventListener("pointerleave",s))}),(r,p)=>(i(),v(e(We),{present:r.forceMount||c.value},{default:o(()=>[d(_t,Y(r.$attrs,{ref:e(a),"data-state":c.value?"visible":"hidden"}),{default:o(()=>[T(r.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Ja=Za,el=R({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(u){const t=Z(),a=Re(),{forwardRef:n}=Q(),{state:c,dispatch:f}=It("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),s=W(()=>c.value!=="hidden");xe(p=>{if(c.value==="idle"){const h=window.setTimeout(()=>f("HIDE"),t.scrollHideDelay.value);p(()=>{window.clearTimeout(h)})}});const r=ht(()=>f("SCROLL_END"),100);return xe(p=>{const h=t.viewport.value,L=a.isHorizontal.value?"scrollLeft":"scrollTop";if(h){let V=h[L];const z=()=>{const C=h[L];V!==C&&(f("SCROLL"),r()),V=C};h.addEventListener("scroll",z),p(()=>{h.removeEventListener("scroll",z)})}}),(p,h)=>(i(),v(e(We),{present:p.forceMount||s.value},{default:o(()=>[d(Ke,Y(p.$attrs,{ref:e(n),"data-state":s.value?"visible":"hidden"}),{default:o(()=>[T(p.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),tl=el;const[Re,al]=Oe("ScrollAreaScrollbar");var ll=R({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(u){const t=u,{forwardRef:a}=Q(),n=Z(),c=W(()=>t.orientation==="horizontal");G(c,()=>{c.value?n.onScrollbarXEnabledChange(!0):n.onScrollbarYEnabledChange(!0)},{immediate:!0}),Ie(()=>{n.onScrollbarXEnabledChange(!1),n.onScrollbarYEnabledChange(!1)});const{orientation:f,forceMount:s,asChild:r,as:p}=Ue(t);return al({orientation:f,forceMount:s,isHorizontal:c,as:p,asChild:r}),(h,L)=>e(n).type.value==="hover"?(i(),v(Ja,Y({key:0},h.$attrs,{ref:e(a),"force-mount":e(s)}),{default:o(()=>[T(h.$slots,"default")]),_:3},16,["force-mount"])):e(n).type.value==="scroll"?(i(),v(tl,Y({key:1},h.$attrs,{ref:e(a),"force-mount":e(s)}),{default:o(()=>[T(h.$slots,"default")]),_:3},16,["force-mount"])):e(n).type.value==="auto"?(i(),v(_t,Y({key:2},h.$attrs,{ref:e(a),"force-mount":e(s)}),{default:o(()=>[T(h.$slots,"default")]),_:3},16,["force-mount"])):e(n).type.value==="always"?(i(),v(Ke,Y({key:3},h.$attrs,{ref:e(a),"data-state":"visible"}),{default:o(()=>[T(h.$slots,"default")]),_:3},16)):S("v-if",!0)}}),nl=ll;const[qe,sl]=Oe("ScrollAreaScrollbarVisible");var rl=R({__name:"ScrollAreaScrollbarVisible",setup(u){const t=Z(),a=Re(),{forwardRef:n}=Q(),c=I({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=W(()=>{const m=gt(c.value.viewport,c.value.content);return m>0&&m<1}),s=I(),r=I(0);function p(m,B){if(C.value){const w=t.viewport.value.scrollLeft+m.deltaY;t.viewport.value.scrollLeft=w,ct(w,B)&&m.preventDefault()}else{const w=t.viewport.value.scrollTop+m.deltaY;t.viewport.value.scrollTop=w,ct(w,B)&&m.preventDefault()}}function h(m,B){C.value?r.value=B.x:r.value=B.y}function L(m){r.value=0}function V(m){c.value=m}function z(m,B){return Ya(m,r.value,c.value,B)}const C=W(()=>a.isHorizontal.value);function F(m){C.value?t.viewport.value.scrollLeft=z(m,t.dir.value):t.viewport.value.scrollTop=z(m)}function X(){if(C.value){if(t.viewport.value&&s.value){const m=t.viewport.value.scrollLeft,B=ut(m,c.value,t.dir.value);s.value.style.transform=`translate3d(${B}px, 0, 0)`}}else if(t.viewport.value&&s.value){const m=t.viewport.value.scrollTop,B=ut(m,c.value);s.value.style.transform=`translate3d(0, ${B}px, 0)`}}function j(m){s.value=m}return sl({sizes:c,hasThumb:f,handleWheelScroll:p,handleThumbDown:h,handleThumbUp:L,handleSizeChange:V,onThumbPositionChange:X,onThumbChange:j,onDragScroll:F}),(m,B)=>C.value?(i(),v(Na,Y({key:0},m.$attrs,{ref:e(n)}),{default:o(()=>[T(m.$slots,"default")]),_:3},16)):(i(),v(Ga,Y({key:1},m.$attrs,{ref:e(n)}),{default:o(()=>[T(m.$slots,"default")]),_:3},16))}}),Ke=rl,ol=R({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(u,{emit:t}){const a=u,n=t,c=Z(),f=qe(),s=Re(),{forwardRef:r,currentElement:p}=Q(),h=I(""),L=I();function V(m){var B,w;if(L.value){const ee=m.clientX-((B=L.value)==null?void 0:B.left),te=m.clientY-((w=L.value)==null?void 0:w.top);n("onDragScroll",{x:ee,y:te})}}function z(m){m.button===0&&(m.target.setPointerCapture(m.pointerId),L.value=p.value.getBoundingClientRect(),h.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",c.viewport&&(c.viewport.value.style.scrollBehavior="auto"),V(m))}function C(m){V(m)}function F(m){const B=m.target;B.hasPointerCapture(m.pointerId)&&B.releasePointerCapture(m.pointerId),document.body.style.webkitUserSelect=h.value,c.viewport&&(c.viewport.value.style.scrollBehavior=""),L.value=void 0}function X(m){var te;const B=m.target,w=(te=p.value)==null?void 0:te.contains(B),ee=f.sizes.value.content-f.sizes.value.viewport;w&&f.handleWheelScroll(m,ee)}de(()=>{document.addEventListener("wheel",X,{passive:!1})}),Ie(()=>{document.removeEventListener("wheel",X)});function j(){var m,B,w,ee,te;p.value&&(a.isHorizontal?f.handleSizeChange({content:((m=c.viewport.value)==null?void 0:m.scrollWidth)??0,viewport:((B=c.viewport.value)==null?void 0:B.offsetWidth)??0,scrollbar:{size:p.value.clientWidth??0,paddingStart:Ee(getComputedStyle(p.value).paddingLeft),paddingEnd:Ee(getComputedStyle(p.value).paddingRight)}}):f.handleSizeChange({content:((w=c.viewport.value)==null?void 0:w.scrollHeight)??0,viewport:((ee=c.viewport.value)==null?void 0:ee.offsetHeight)??0,scrollbar:{size:((te=p.value)==null?void 0:te.clientHeight)??0,paddingStart:Ee(getComputedStyle(p.value).paddingLeft),paddingEnd:Ee(getComputedStyle(p.value).paddingRight)}}))}return ce(p,j),ce(c.content,j),(m,B)=>(i(),v(e(ue),{ref:e(r),style:{position:"absolute"},"data-scrollbarimpl":"",as:e(s).as.value,"as-child":e(s).asChild.value,onPointerdown:z,onPointermove:C,onPointerup:F},{default:o(()=>[T(m.$slots,"default")]),_:3},8,["as","as-child"]))}}),wt=ol,il=R({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const t=u,a=Z(),n=qe();function c(z){const F=z.target.getBoundingClientRect(),X=z.clientX-F.left,j=z.clientY-F.top;n.handleThumbDown(z,{x:X,y:j})}function f(z){n.handleThumbUp(z)}const{forwardRef:s,currentElement:r}=Q(),p=I(),h=W(()=>a.viewport.value);function L(){if(!p.value){const z=Xa(h.value,n.onThumbPositionChange);p.value=z,n.onThumbPositionChange()}}const V=W(()=>n.sizes.value);return Bt(V,()=>{n.onThumbChange(r.value),h.value&&(n.onThumbPositionChange(),h.value.addEventListener("scroll",L))}),Ie(()=>{var z;h.value.removeEventListener("scroll",L),(z=a.viewport.value)==null||z.removeEventListener("scroll",L)}),(z,C)=>(i(),v(e(ue),{ref:e(s),"data-state":e(n).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":t.asChild,as:z.as,onPointerdown:c,onPointerup:f},{default:o(()=>[T(z.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),ul=il,cl=R({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u,{expose:t}){const a=u,{nonce:n}=Ue(a),c=Rt(n),f=Z(),s=I();de(()=>{f.onViewportChange(s.value),f.onContentChange(p.value)}),t({viewportElement:s});const{forwardRef:r,currentElement:p}=Q();return(h,L)=>(i(),g(E,null,[$("div",Y({ref_key:"viewportElement",ref:s,"data-reka-scroll-area-viewport":"",style:{overflowX:e(f).scrollbarXEnabled.value?"scroll":"hidden",overflowY:e(f).scrollbarYEnabled.value?"scroll":"hidden"}},h.$attrs,{tabindex:0}),[d(e(ue),{ref:e(r),style:se({minWidth:e(f).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":a.asChild,as:h.as},{default:o(()=>[T(h.$slots,"default")]),_:3},8,["style","as-child","as"])],16),d(e(ue),{as:"style",nonce:e(c)},{default:o(()=>L[0]||(L[0]=[A(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),dl=cl;const pl={class:"flex justify-center w-full gap-x-6 lg:gap-x-8","aria-label":"Pagination"},fl={class:"flex gap-2"},hl={class:"sr-only"},vl={class:"sr-only"},yl={class:"flex min-w-[100px] gap-2 items-center justify-center text-sm font-medium"},ml=["href"],bl={class:"flex gap-2"},gl={class:"sr-only"},_l={class:"sr-only"},wl=R({__name:"EntityListPagination",props:{entityList:{},linksOpenable:{type:Boolean}},emits:["change"],setup(u,{emit:t}){const a=u,n=t;function c(s,r=!1){if(a.linksOpenable&&(s.metaKey||s.ctrlKey||s.shiftKey||s.altKey)){s.stopPropagation();return}const p=s.target.closest("a").href;p&&!r&&(n("change",new URL(p).searchParams.get("page")),s.preventDefault())}function f(s){const r=new URL(a.entityList.meta.first_page_url);return r.searchParams.set("page",String(s)),r.toString()}return(s,r)=>(i(),g("nav",pl,[$("div",fl,[d(e(O),{as:s.entityList.meta.prev_page_url?"a":"button",class:"hidden sm:flex",size:"icon",variant:"outline",href:s.entityList.meta.first_page_url,disabled:!s.entityList.meta.prev_page_url,onClick:c},{default:o(()=>[d(e(Da),{class:"h-4 w-4"}),$("span",hl,_(e(k)("sharp::entity_list.pagination.first")),1)]),_:1},8,["as","href","disabled"]),d(e(O),{as:s.entityList.meta.prev_page_url?"a":"button",size:"icon",variant:"outline",href:s.entityList.meta.prev_page_url,disabled:!s.entityList.meta.prev_page_url,onClick:c},{default:o(()=>[d(e(qt),{class:"h-4 w-4"}),$("span",vl,_(e(k)("sharp::entity_list.pagination.previous")),1)]),_:1},8,["as","href","disabled"])]),$("div",yl,[s.entityList.meta.last_page?(i(),g(E,{key:0},[$("span",null,_(e(k)("sharp::entity_list.pagination.current").split(":current_page")[0]),1),d(e(Dt),{"model-value":String(s.entityList.meta.current_page),"onUpdate:modelValue":r[1]||(r[1]=p=>s.$emit("change",p))},{default:o(()=>[d(e(Pt),{class:"w-10 justify-center [&_svg]:hidden","aria-label":e(k)("sharp::entity_list.pagination.select.aria_label")},{default:o(()=>[A(_(s.entityList.meta.current_page),1)]),_:1},8,["aria-label"]),d(e(Tt),{"align-offset":-22},{default:o(()=>[(i(!0),g(E,null,ne(s.entityList.meta.last_page,p=>(i(),v(e(Vt),{value:String(p)},{default:o(()=>[s.linksOpenable?(i(),g("a",{key:0,class:"absolute inset-0",href:f(p),onPointerup:r[0]||(r[0]=h=>c(h,!0))},null,40,ml)):S("",!0),A(" "+_(p),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["model-value"]),$("span",null,_(e(k)("sharp::entity_list.pagination.current",{last_page:s.entityList.meta.last_page}).split(":current_page")[1]),1)],64)):(i(),g(E,{key:1},[A(_(e(k)("sharp::entity_list.pagination.current_simple").replace(":current_page",s.entityList.meta.current_page+"")),1)],64))]),$("div",bl,[d(e(O),{as:s.entityList.meta.next_page_url?"a":"button",size:"icon",variant:"outline",href:s.entityList.meta.next_page_url,disabled:!s.entityList.meta.next_page_url,onClick:c},{default:o(()=>[$("span",gl,_(e(k)("sharp::entity_list.pagination.next")),1),d(e(Ht),{class:"h-4 w-4"})]),_:1},8,["as","href","disabled"]),d(e(O),{as:s.entityList.meta.next_page_url?"a":"button",class:D(["hidden sm:flex",s.entityList.meta.last_page_url?"":"invisible"]),size:"icon",variant:"outline",href:s.entityList.meta.last_page_url,disabled:!s.entityList.meta.next_page_url,onClick:c},{default:o(()=>[d(e(Ha),{class:"h-4 w-4"}),$("span",_l,_(e(k)("sharp::entity_list.pagination.last")),1)]),_:1},8,["as","class","href","disabled"])])]))}}),Fe=R({__name:"StateIcon",props:{stateValue:{}},setup(u){return(t,a)=>{var n;return i(),g("div",{class:"relative rounded-full",style:se([{"--color":((n=t.stateValue)==null?void 0:n.color)??"black"},{"--border":"oklch(from var(--color) .9 min(calc(c * .2), 0.03) h)"}])},a[0]||(a[0]=[$("div",{class:"h-1 w-1 rounded-full bg-(--color) outline outline-(--border)"},null,-1)]),4)}}}),Sl=R({__name:"Table",props:{class:{},noScroll:{type:Boolean}},setup(u){const t=u;return(a,n)=>(i(),g("div",{class:D(["relative",{"w-full overflow-auto":!a.noScroll}])},[$("table",{class:D(e(J)("w-full caption-bottom text-sm",t.class))},[T(a.$slots,"default")],2)],2))}}),kl=R({__name:"TableBody",props:{class:{}},setup(u){const t=u;return(a,n)=>(i(),g("tbody",{class:D(e(J)("[&_tr:last-child]:border-0",t.class))},[T(a.$slots,"default")],2))}}),ve=R({__name:"TableCell",props:{class:{}},setup(u){const t=u;return(a,n)=>(i(),g("td",{class:D(e(J)("px-3 py-4 align-middle first:pl-4 last:pr-4",t.class))},[T(a.$slots,"default")],2))}}),Ae=R({__name:"TableHead",props:{class:{}},setup(u){const t=u;return(a,n)=>(i(),g("th",{class:D(e(J)("h-12 px-3 text-left align-middle font-medium text-muted-foreground",t.class))},[T(a.$slots,"default")],2))}}),Ll=R({__name:"TableHeader",props:{class:{}},setup(u){const t=u;return(a,n)=>(i(),g("thead",{class:D(e(J)("[&_tr]:border-b",t.class))},[T(a.$slots,"default")],2))}}),dt=R({__name:"TableRow",props:{class:{}},setup(u){const t=u;return(a,n)=>(i(),g("tr",{class:D(e(J)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t.class))},[T(a.$slots,"default")],2))}}),pt=R({__name:"EntityListSearch",props:{entityList:{},expanded:{type:Boolean},inline:{type:Boolean},disabled:{type:Boolean}},emits:["submit","update:expanded"],setup(u,{emit:t}){var z;const a=u,n=t,c=I(),f=I(),{focused:s}=Ft(c),{pressed:r}=Ut({target:c}),p=I(((z=a.entityList.query)==null?void 0:z.search)??"");let h="";G(s,()=>{var C,F;s.value?(h&&(p.value=h,h=""),r.value?G(r,()=>{r.value||n("update:expanded",!0)},{once:!0}):n("update:expanded",!0)):r.value||(h=(C=a.entityList.query)!=null&&C.search?"":p.value,p.value=(F=a.entityList.query)==null?void 0:F.search,n("update:expanded",!1))}),G(()=>a.entityList,()=>{var C;p.value=((C=a.entityList.query)==null?void 0:C.search)??"",n("update:expanded",!1)});function L(){n("update:expanded",!1),n("submit",p.value)}function V(){a.expanded||n("update:expanded",!0)}return(C,F)=>{var X,j;return i(),g("form",{onSubmit:vt(L,["prevent"]),ref_key:"el",ref:c},[$("div",{class:D(["relative z-1",[C.inline?"h-8 w-[150px] @5xl/root-card:w-[200px]":""]])},[$("div",{class:D(["top-0 left-0 group flex gap-3",e(J)(C.inline?"absolute h-8":"flex-col",C.inline&&C.expanded?"-mr-[100px]":"")])},[$("div",{class:D(["relative",[C.inline?"":"w-full"]])},[d(e(Ot),{modelValue:p.value,"onUpdate:modelValue":F[0]||(F[0]=m=>p.value=m),class:D(e(J)("w-full pl-8 h-9",{"h-8 w-[150px] @5xl/root-card:w-[200px]":C.inline,"sm:w-[300px]!":C.inline&&C.expanded,"pr-8":(X=a.entityList.query)==null?void 0:X.search})),disabled:C.disabled,placeholder:e(k)("sharp::action_bar.list.search.placeholder"),"aria-label":e(k)("sharp::action_bar.list.search.placeholder"),type:"search",ref_key:"input",ref:f,onInput:V},null,8,["modelValue","class","disabled","placeholder","aria-label"]),d(e(Wt),{class:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),(j=a.entityList.query)!=null&&j.search?(i(),v(e(O),{key:0,type:"button",class:"absolute right-0 top-0 h-full",size:"sm",variant:"ghost","aria-label":e(k)("sharp::action_bar.list.search.clear.aria_label"),onClick:F[1]||(F[1]=m=>C.$emit("submit",null))},{default:o(()=>[d(e(Kt),{class:"h-4 w-4 text-muted-foreground"})]),_:1},8,["aria-label"])):S("",!0)],2),d(e(O),{type:"submit",class:D(e(J)("h-8 hidden",C.expanded?"inline-flex":"")),size:"sm"},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.search.button")),1)]),_:1},8,["class"])],2)],2)],544)}}}),St=R({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(u){const t=u,a=W(()=>{const{class:n,...c}=t;return c});return(n,c)=>(i(),v(e(nl),Y(a.value,{class:e(J)("flex touch-none select-none transition-colors",n.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",n.orientation==="horizontal"&&"h-4 flex-col border-t border-t-transparent p-1",t.class)}),{default:o(()=>[d(e(ul),{class:"relative flex-1 rounded-full bg-muted-foreground/50 hover:bg-muted-foreground"},{default:o(()=>c[0]||(c[0]=[$("div",{class:"absolute -inset-1.5 -top-4"},null,-1)])),_:1})]),_:1},16,["class"]))}}),Cl=R({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{},touchType:{}},setup(u){const t=u,a=W(()=>{const{class:r,...p}=t;return p}),n=Mt("(hover: none)"),c=I(),{arrivedState:f,measure:s}=Xt(()=>{var r;return(r=c.value)==null?void 0:r.viewportElement});return G(jt(()=>{var r;return(r=c.value)==null?void 0:r.viewportElement}).width,Yt(()=>{s()},50,!0,!0)),G(()=>{var r;return(r=c.value)==null?void 0:r.viewportElement},()=>{var r;(r=c.value)!=null&&r.viewportElement&&(c.value.viewportElement.tabIndex=-1)}),(r,p)=>(i(),v(e(Ua),Y(a.value,{type:e(n)?t.touchType:t.type,class:e(J)("group/scroll-area relative overflow-hidden",t.class),"data-scroll-arrived-right":e(f).right?!0:null,"data-scrollbar-x-visible":!e(f).left||!e(f).right?!0:null}),{default:o(()=>[d(e(dl),{class:"h-full w-full rounded-[inherit]",ref_key:"viewport",ref:c},{default:o(()=>[T(r.$slots,"default")]),_:3},512),T(r.$slots,"scrollbar",{},()=>[d(St),d(e(Ma))])]),_:3},16,["type","class","data-scroll-arrived-right","data-scrollbar-x-visible"]))}}),$l=ea?window:void 0;function El(u){var t;const a=re(u);return(t=a==null?void 0:a.$el)!=null?t:a}function Al(...u){const t=[],a=()=>{t.forEach(r=>r()),t.length=0},n=(r,p,h,L)=>(r.addEventListener(p,h,L),()=>r.removeEventListener(p,h,L)),c=W(()=>{const r=Pe(re(u[0])).filter(p=>p!=null);return r.every(p=>typeof p!="string")?r:void 0}),f=Zt(()=>{var r,p;return[(p=(r=c.value)==null?void 0:r.map(h=>El(h)))!=null?p:[$l].filter(h=>h!=null),Pe(re(c.value?u[1]:u[0])),Pe(e(c.value?u[2]:u[1])),re(c.value?u[3]:u[2])]},([r,p,h,L])=>{if(a(),!(r!=null&&r.length)||!(p!=null&&p.length)||!(h!=null&&h.length))return;const V=Jt(L)?{...L}:L;t.push(...r.flatMap(z=>p.flatMap(C=>h.map(F=>n(z,C,F,V)))))},{flush:"post"}),s=()=>{f(),a()};return mt(a),s}const zl=R({name:"UseElementBounding",props:["box","as"],setup(u,{slots:t}){const a=I(),n=yt(Nt(a));return()=>{if(t.default)return xt(u.as||"div",{ref:a},t.default(n))}}});function De(u){return typeof Window<"u"&&u instanceof Window?u.document.documentElement:typeof Document<"u"&&u instanceof Document?u.documentElement:u}function kt(u){const t=window.getComputedStyle(u);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&u.clientWidth<u.scrollWidth||t.overflowY==="auto"&&u.clientHeight<u.scrollHeight)return!0;{const a=u.parentNode;return!a||a.tagName==="BODY"?!1:kt(a)}}function Il(u){const t=u||window.event,a=t.target;return kt(a)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const He=new WeakMap;function Bl(u,t=!1){const a=I(t);let n=null,c="";G(Qt(u),r=>{const p=De(re(r));if(p){const h=p;if(He.get(h)||He.set(h,h.style.overflow),h.style.overflow!=="hidden"&&(c=h.style.overflow),h.style.overflow==="hidden")return a.value=!0;if(a.value)return h.style.overflow="hidden"}},{immediate:!0});const f=()=>{const r=De(re(u));!r||a.value||(Ge&&(n=Al(r,"touchmove",p=>{Il(p)},{passive:!1})),r.style.overflow="hidden",a.value=!0)},s=()=>{const r=De(re(u));!r||!a.value||(Ge&&(n==null||n()),r.style.overflow=c,He.delete(r),a.value=!1)};return mt(s),W({get(){return a.value},set(r){r?f():s()}})}function Rl(){let u=!1;const t=I(!1);return(a,n)=>{if(t.value=n.value,u)return;u=!0;const c=Bl(a,n.value);G(t,f=>c.value=f)}}Rl();const ql=R({name:"UseWindowSize",props:["initialWidth","initialHeight"],setup(u,{slots:t}){const a=yt(Gt(u));return()=>{if(t.default)return t.default(a)}}}),Pl=R({__name:"StateBadge",props:{stateValue:{}},setup(u){return(t,a)=>{var n;return i(),v(e(Ve),{class:"text-(--foreground) border-(--border) bg-(--background) hover:bg-(--background) in-[button[aria-expanded=true]]:border-(--border-hover) in-[button:hover]:border-(--border-hover) hover:border-(--border-hover)",style:se([{"--foreground":"oklch(from var(--color) .35 min(c, 0.1) h)","--background":"oklch(from var(--color) max(l, .97) min(calc(c * .2), 0.03) h)","--border":"oklch(from var(--color) .9 min(calc(c * .2), 0.03) h)","--border-hover":"oklch(from var(--border) .7 min(calc(c * 5), 0.05) h)"},{"--color":((n=t.stateValue)==null?void 0:n.color)??"black"}])},{default:o(()=>[d(Fe,{class:"-ml-0.5 mr-1.5","state-value":t.stateValue},null,8,["state-value"]),T(t.$slots,"default")]),_:3},8,["style"])}}}),Tl={key:0,class:"fixed inset-0 z-11 bg-black/5"},Dl={key:0,class:"container px-4 lg:px-6"},Hl={class:"flex flex-wrap md:flex-nowrap gap-y-4 gap-x-2"},Vl={class:"flex items-baseline min-w-0"},Fl={key:0,class:"mb-4 flex flex-wrap items-center gap-2"},Ul={key:1,class:"contents"},Ol={class:"flex items-center @2xl/root-card:hidden"},Wl={class:"flex flex-col flex-wrap gap-4"},Kl={key:0},Ml={"data-row-action":"",role:"presentation"},Xl={class:"truncate"},Yl={key:0,class:"absolute -inset-2"},jl={key:1,class:"size-2.5 bg-primary rounded-full"},Nl=["innerHTML"],xl={class:"flex justify-center items-center size-10"},Gl={class:"truncate"},Ql={key:1,class:"pt-2 text-muted-foreground"},ft=50,Zl=50,an=R({__name:"EntityList",props:{entityKey:{},entityList:{},filters:{},commands:{},title:{},inline:{type:Boolean,default:!0},showCount:{type:Boolean,default:!0},showCreateButton:{type:Boolean,default:!0},showReorderButton:{type:Boolean,default:!0},showSearchField:{type:Boolean,default:!0},showEntityState:{type:Boolean,default:!0},collapsed:{type:Boolean},highlightedInstanceId:{}},emits:["update:query","filter-change","reset","reordering"],setup(u,{emit:t}){const a=u,n=I(),c=t,f=I(null),s=W(()=>!!f.value),r=W(()=>a.entityList.data.filter(l=>{var b;return(b=f.value)==null?void 0:b[a.entityList.instanceId(l)]}));function p(l){f.value={...f.value,...Object.fromEntries(a.entityList.data.map(b=>[a.entityList.instanceId(b),l]))}}function h(){f.value=Object.fromEntries(a.entityList.data.map(l=>[a.entityList.instanceId(l),!1]))}function L(l,b){c("filter-change",l,b)}const V=I(!1);function z(l){c("update:query",{...a.entityList.query,page:null,search:l})}function C(){c("reset")}function F(l){c("update:query",{...a.entityList.query,page:l})}function X(l){return a.entityList.currentSort===l.key?a.entityList.currentSortDir==="desc"?a.entityList.config.defaultSort===a.entityList.currentSort?"asc":null:"desc":"asc"}function j(l){const b=X(l);c("update:query",{...a.entityList.query,page:null,sort:b?l.key:null,dir:b||null})}function m(l,b){const{commands:K,entityKey:N}=a;Te.post(le("code16.sharp.api.list.state",{entityKey:N,instanceId:b}),{value:l}).then(M=>{K.handleCommandResponse(M.data)}).catch(M=>{var pe,fe;const ge=(pe=M.response)==null?void 0:pe.data;((fe=M.response)==null?void 0:fe.status)===422&&Aa(ge.message,{title:k("modals.state.422.title"),isError:!0})})}async function B(l,b){if(l.metaKey||l.ctrlKey||l.shiftKey)return;const{entityKey:K}=a;l.preventDefault(),a.entityList.config.quickCreationForm?await a.commands.send({hasForm:!0},{postCommand:le("code16.sharp.api.list.command.quick-creation-form.store",{entityKey:K,formEntityKey:b?b.entityKey:K}),getForm:le("code16.sharp.api.list.command.quick-creation-form.create",{entityKey:K,formEntityKey:b?b.entityKey:K}),query:a.entityList.query,entityKey:b?b.entityKey:K}):va.visit(b?b.formCreateUrl:a.entityList.config.formCreateUrl)}async function w(l,b){const{commands:K,entityKey:N}=a;l.confirmation&&n.value.querySelector("[data-reka-scroll-area-viewport]").scrollTo({left:0,behavior:"smooth"}),await K.send(l,{postCommand:le("code16.sharp.api.list.command.instance",{entityKey:N,instanceId:b,commandKey:l.key}),getForm:le("code16.sharp.api.list.command.instance.form",{entityKey:N,instanceId:b,commandKey:l.key}),query:a.entityList.query,entityKey:N,instanceId:b},{highlightElement:()=>{var M;return(M=n.value)==null?void 0:M.querySelector(`[data-instance-row="${b}"]`)}})}async function ee(l){const{commands:b,entityKey:K}=a;await b.send(l,{postCommand:le("code16.sharp.api.list.command.entity",{entityKey:K,commandKey:l.key}),getForm:le("code16.sharp.api.list.command.entity.form",{entityKey:K,commandKey:l.key}),query:{...a.entityList.query,ids:Object.entries(f.value??{}).filter(([N,M])=>M).map(([N,M])=>N)},entityKey:K,onSuccess(){f.value=null}})}async function te(l){const{entityKey:b,entityList:K,commands:N}=a;n.value.querySelector("[data-reka-scroll-area-viewport]").scrollTo({left:0,behavior:"smooth"}),await za(K.config.deleteConfirmationText,{highlightElement:()=>{var M;return(M=n.value)==null?void 0:M.querySelector(`[data-instance-row="${l}"]`)}})&&(await Te.delete(le("code16.sharp.api.list.delete",{entityKey:b,instanceId:l})),N.handleCommandResponse({action:"reload"}))}const ae=I(null),H=W(()=>!!ae.value),ye=I(),Me=ta(()=>H.value?ye.value.$el:null,W({get:()=>ae.value??[],set:l=>{ae.value=l}}),{animation:150}),me=I(ft),Xe=aa("tableBottom");G(la(Xe,{rootMargin:"0px 0px 500px"}),l=>{l&&me.value<a.entityList.data.length&&(me.value+=Zl)});const Ct=W(()=>ae.value??a.entityList.data.slice(0,me.value));G(H,()=>{H.value?Me.start():Me.stop(),c("reordering",H.value)});function Ye(){ae.value=[...a.entityList.data]}async function $t(){const{entityKey:l,commands:b}=a;await Te.post(le("code16.sharp.api.list.reorder",{entityKey:l}),{instances:ae.value.map(K=>a.entityList.instanceId(K))}),a.entityList.data.length<=ft?await b.handleCommandResponse({action:"reload"}):(a.entityList.data=[...ae.value],me.value=a.entityList.data.length),ae.value=null}const Et=Ia(),be=W(()=>a.entityList.fields.filter(l=>(Et.md||!l.hideOnXS)&&a.entityList.fieldShouldBeVisible(l,a.showEntityState)));return G([ye,()=>a.highlightedInstanceId],()=>{var l;if(ye.value&&a.highlightedInstanceId){const b=(l=n.value)==null?void 0:l.querySelector(`[data-instance-row="${a.highlightedInstanceId}"] a`);b&&b.focus()}}),(l,b)=>(i(),v(qa,{commands:l.commands},{default:o(()=>{var K;return[$("div",{ref_key:"el",ref:n},[d(na,{"enter-active-class":"transition","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[H.value?(i(),g("div",Tl)):S("",!0)]),_:1}),(K=l.entityList)!=null&&K.pageAlert?(i(),g("div",Dl,[d(sa,{class:"mb-4","page-alert":l.entityList.pageAlert},null,8,["page-alert"])])):S("",!0),d(ha,{class:D(H.value?"relative z-12":"")},{default:o(()=>{var N,M,ge,pe,fe,je,Ne;return[d(ra,{class:D(H.value||s.value?"sticky":"data-overflowing-viewport:sticky"),collapsed:l.collapsed||!l.entityList},{default:o(()=>{var q,y,oe,P,x;return[$("div",Hl,[$("div",Vl,[T(l.$slots,"card-header"),l.entityList&&a.showCount?(i(),v(e(it),{key:0,class:D(["hidden @2xl/root-card:block text-xs text-muted-foreground ml-4 mr-2 lg:ml-6 whitespace-nowrap",[l.inline?"lg:mr-9":"lg:mr-5"]])},{default:o(()=>{var U;return[(U=l.entityList.query)!=null&&U.search?(i(),g(E,{key:0},[A(_(e(he)("sharp::action_bar.list.search.title",l.entityList.count,{count:l.entityList.count,search:l.entityList.query.search})),1)],64)):(i(),g(E,{key:1},[A(_(e(he)("sharp::action_bar.list.items_count",l.entityList.count,{count:l.entityList.count})),1)],64))]}),_:1},8,["class"])):S("",!0)]),l.entityList?(i(),g(E,{key:0},[l.showReorderButton&&l.entityList.canReorder||l.entityList.canSelect||(q=l.entityList.dropdownEntityCommands(s.value))!=null&&q.flat().length||l.entityList.primaryCommand||l.showCreateButton&&l.entityList.authorizations.create?_e((i(),g("div",{key:0,class:D(["ml-auto self-start flex -my-1 justify-end pointer-events-auto gap-2",(l.inline,"")])},[l.showReorderButton&&l.entityList.canReorder&&!s.value?(i(),g(E,{key:0},[H.value?(i(),g(E,{key:0},[d(e(O),{class:"h-8",size:"sm",variant:"outline",onClick:b[0]||(b[0]=U=>ae.value=null)},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.reorder_button.cancel")),1)]),_:1}),d(e(O),{class:"h-8",size:"sm",onClick:$t},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.reorder_button.finish")),1)]),_:1})],64)):(i(),v(e(O),{key:1,class:D(["h-8",(y=l.entityList.dropdownEntityCommands(s.value))!=null&&y.flat().length?"max-sm:hidden":""]),size:"sm",variant:"outline",onClick:Ye},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.reorder_button")),1)]),_:1},8,["class"]))],64)):S("",!0),l.entityList.canSelect&&!H.value?(i(),g(E,{key:1},[s.value?(i(),v(e(O),{key:0,class:"h-8",size:"sm",variant:"outline",onClick:b[1]||(b[1]=U=>f.value=null)},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.reorder_button.cancel")),1)]),_:1})):(i(),v(e(O),{key:1,class:D(["h-8",(oe=l.entityList.dropdownEntityCommands(s.value))!=null&&oe.flat().length?"max-sm:hidden":""]),size:"sm",variant:"outline",onClick:h},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.select_button")),1)]),_:1},8,["class"]))],64)):S("",!0),(P=l.entityList.dropdownEntityCommands(s.value))!=null&&P.flat().length&&!H.value?(i(),v(e(Se),{key:2},{default:o(()=>[d(e(ke),{"as-child":""},{default:o(()=>[d(e(O),{class:"h-8",variant:s.value?"default":"outline",size:"sm",disabled:H.value},{default:o(()=>[s.value?(i(),g(E,{key:0},[A(_(e(he)("sharp::entity_list.commands.entity.label.selected",Object.values(f.value).filter(Boolean).length,{count:Object.values(f.value).filter(Boolean).length})),1)],64)):(i(),g(E,{key:1},[A(_(e(k)("sharp::entity_list.commands.entity.label")),1)],64)),d(st)]),_:1},8,["variant","disabled"])]),_:1}),d(e(Le),null,{default:o(()=>[l.showReorderButton&&l.entityList.canReorder&&!s.value?(i(),g(E,{key:0},[d(e(Ce),{class:"sm:hidden",onClick:Ye},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.reorder_button")),1)]),_:1}),d(e($e),{class:"sm:hidden"})],64)):S("",!0),l.entityList.canSelect&&!s.value?(i(),g(E,{key:1},[d(e(Ce),{class:"sm:hidden",onClick:h},{default:o(()=>[A(_(e(k)("sharp::action_bar.list.select_button")),1)]),_:1}),d(e($e),{class:"sm:hidden"})],64)):S("",!0),d(rt,{commands:l.entityList.dropdownEntityCommands(s.value),selecting:s.value,onSelect:ee},null,8,["commands","selecting"])]),_:1})]),_:1})):S("",!0),l.entityList.primaryCommand&&!H.value&&!s.value?(i(),v(e(O),{key:3,class:"h-8",size:"sm",onClick:b[2]||(b[2]=U=>ee(l.entityList.primaryCommand))},{default:o(()=>[A(_(l.entityList.primaryCommand.label),1)]),_:1})):S("",!0),l.showCreateButton&&l.entityList.authorizations.create&&!H.value&&!s.value?(i(),g(E,{key:4},[(x=l.entityList.entities)!=null&&x.length?(i(),v(e(Se),{key:0},{default:o(()=>[d(e(ke),{"as-child":""},{default:o(()=>[d(e(O),{class:"h-8",size:"sm"},{default:o(()=>[A(_(a.entityList.config.createButtonLabel||e(k)("sharp::action_bar.list.forms_dropdown"))+" ",1),d(st,{class:"opacity-75"})]),_:1})]),_:1}),d(e(Le),null,{default:o(()=>[(i(!0),g(E,null,ne(l.entityList.entities,U=>(i(),v(e(Ce),{as:"a",href:U.formCreateUrl,onClick:ie=>B(ie,U)},{default:o(()=>[U.icon?(i(),v(ya,{key:0,class:"size-4",icon:U.icon},null,8,["icon"])):S("",!0),A(" "+_(U.label),1)]),_:2},1032,["href","onClick"]))),256))]),_:1})]),_:1})):(i(),v(e(O),{key:1,as:"a",class:"h-8 gap-1",size:"sm",disabled:H.value||s.value,href:l.entityList.config.formCreateUrl,onClick:B},{default:o(()=>[A(_(a.entityList.config.createButtonLabel||e(k)("sharp::action_bar.list.create_button")),1)]),_:1},8,["disabled","href"]))],64)):S("",!0)],2)),[[we,!l.collapsed]]):S("",!0)],64)):S("",!0)])]}),_:3},8,["class","collapsed"]),l.entityList&&(l.showSearchField&&l.entityList.config.searchable||(N=l.entityList.visibleFilters)!=null&&N.length)?_e((i(),g("div",Fl,[l.showSearchField&&l.entityList.config.searchable?(i(),g("div",{key:0,class:D(["self-center pointer-events-auto",{"hidden @2xl/root-card:block":(M=l.entityList.visibleFilters)==null?void 0:M.length}])},[d(pt,{inline:"",expanded:V.value,"onUpdate:expanded":b[3]||(b[3]=q=>V.value=q),"entity-list":l.entityList,disabled:H.value||s.value,onSubmit:z},null,8,["expanded","entity-list","disabled"])],2)):S("",!0),(ge=l.entityList.visibleFilters)!=null&&ge.length?(i(),g("div",Ul,[$("div",Ol,[d(e(oa),null,{default:o(()=>[d(e(Ba),{"as-child":""},{default:o(()=>[d(e(O),{class:"h-8 gap-1",variant:"outline",disabled:H.value||s.value,size:"sm"},{default:o(()=>[d(e(Ra),{class:"h-3.5 w-3.5"}),$("span",null,_(e(k)("sharp::filters.popover_button")),1)]),_:1},8,["disabled"])]),_:1}),d(e(ia),{onOpenAutoFocus:b[5]||(b[5]=vt(()=>{},["prevent"]))},{default:o(()=>[d(e(ua),null,{default:o(()=>[d(e(ca),null,{default:o(()=>[A(_(e(k)("sharp::filters.popover_button"))+" : "+_(l.title),1)]),_:1})]),_:1}),$("div",Wl,[l.showSearchField&&l.entityList.config.searchable?(i(),v(pt,{key:0,expanded:V.value,"onUpdate:expanded":b[4]||(b[4]=q=>V.value=q),"entity-list":l.entityList,onSubmit:z},null,8,["expanded","entity-list"])):S("",!0),(i(!0),g(E,null,ne(l.entityList.visibleFilters,q=>(i(),v(ot,{key:q.key,filter:q,value:l.filters.currentValues[q.key],disabled:H.value,valuated:l.filters.isValuated([q]),"entity-key":l.entityKey,onInput:y=>L(q,y)},null,8,["filter","value","disabled","valuated","entity-key","onInput"]))),128))]),d(e(da),{class:"flex-row gap-2 mt-2"},{default:o(()=>[d(e(Qe),{"as-child":""},{default:o(()=>{var q;return[d(e(O),{class:"flex-1",variant:"secondary",disabled:!l.filters.isValuated(l.entityList.visibleFilters)&&!((q=l.entityList.query)!=null&&q.search),onClick:C},{default:o(()=>[A(_(e(k)("sharp::filters.reset_all")),1)]),_:1},8,["disabled"])]}),_:1}),d(e(Qe),{"as-child":""},{default:o(()=>[d(e(O),{class:"flex-1"},{default:o(()=>[A(_(e(k)("sharp::filters.dialog.submit")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l.filters.isValuated(l.filters.rootFilters)?(i(),v(e(Ve),{key:0,class:"ml-2"},{default:o(()=>[A(_(l.filters.valuatedCount(l.filters.rootFilters)),1)]),_:1})):S("",!0),l.entityList?(i(),v(e(it),{key:1,class:D(["text-xs text-muted-foreground ml-4 mr-2 lg:ml-6 whitespace-nowrap",[l.inline?"lg:mr-9":"lg:mr-5"]])},{default:o(()=>{var q;return[(q=l.entityList.query)!=null&&q.search?(i(),g(E,{key:0},[A(_(e(he)("sharp::action_bar.list.search.title",l.entityList.count,{count:l.entityList.count,search:l.entityList.query.search})),1)],64)):(i(),g(E,{key:1},[A(_(e(he)("sharp::action_bar.list.items_count",l.entityList.count,{count:l.entityList.count})),1)],64))]}),_:1},8,["class"])):S("",!0)]),$("div",{class:D(["hidden @2xl/root-card:contents",{"*:opacity-0 *:pointer-events-none":V.value}])},[(i(!0),g(E,null,ne(l.entityList.visibleFilters,q=>(i(),v(ot,{key:q.key,filter:q,value:l.filters.currentValues[q.key],disabled:H.value||s.value,valuated:l.filters.isValuated([q]),"entity-key":l.entityKey,inline:"",onInput:y=>L(q,y)},null,8,["filter","value","disabled","valuated","entity-key","onInput"]))),128)),l.filters.isValuated(l.entityList.visibleFilters)||(pe=l.entityList.query)!=null&&pe.search?(i(),v(e(O),{key:0,class:"h-8 underline underline-offset-4 -ml-2",variant:"ghost",size:"sm",onClick:C},{default:o(()=>[A(_(e(k)("sharp::filters.reset_all")),1)]),_:1})):S("",!0)],2)])):S("",!0)],512)),[[we,!l.collapsed]]):S("",!0),l.entityList?(i(),g(E,{key:1},[_e(d(e(pa),{class:D(((fe=l.entityList.data)==null?void 0:fe.length)>0?"pb-2 px-0!":"")},{default:o(()=>{var q;return[((q=l.entityList.data)==null?void 0:q.length)>0?(i(),v(e(Cl),{key:0,class:"w-full data-scrollbar-x-visible:pb-4",type:"auto","touch-type":"scroll"},{scrollbar:o(()=>[d(e(ql),null,{default:o(({height:y})=>[d(e(zl),{class:"absolute inset-0 pointer-events-none"},{default:o(({bottom:oe})=>[d(e(St),{class:"z-20 [@media(hover:hover)]:bg-background pointer-events-auto will-change-transform",orientation:"horizontal",style:se({transform:`translate3d(0, ${Math.max(0,oe-y)*-1}px, 0)`})},null,8,["style"])]),_:2},1024)]),_:1})]),default:o(()=>[d(e(Sl),{"no-scroll":"",class:"w-max min-w-full max-w-[768px] md:max-w-[1024px] @3xl:w-full @3xl:max-w-none"},{default:o(()=>[d(e(Ll),{class:D(be.value.some(y=>y.label)?"":"collapse [&_tr]:border-0"),role:"rowgroup"},{default:o(()=>[d(e(dt),{class:"hover:bg-transparent lg:*:first:pl-6 lg:*:last:pr-6"},{default:o(()=>[s.value?(i(),v(e(Ae),{key:0,scope:"col",class:"w-2","aria-label":"Select..."},{default:o(()=>[d(e(Ze),null,{default:o(()=>[d(e(Je),{"delay-duration":0},{default:o(()=>[d(e(et),{"as-child":""},{default:o(()=>[d(e(tt),{class:"block","model-value":r.value.length===l.entityList.data.length?!0:r.value.length>0?"indeterminate":!1,"onUpdate:modelValue":p,"aria-label":e(k)("sharp::entity_list.select_all_in_page_checkbox.tooltip.select")},null,8,["model-value","aria-label"])]),_:1}),d(e(at),{side:"top","side-offset":10},{default:o(()=>[r.value.length===l.entityList.data.length?(i(),g(E,{key:0},[A(_(e(k)("sharp::entity_list.select_all_in_page_checkbox.tooltip.unselect")),1)],64)):(i(),g(E,{key:1},[A(_(e(k)("sharp::entity_list.select_all_in_page_checkbox.tooltip.select")),1)],64))]),_:1})]),_:1})]),_:1})]),_:1})):S("",!0),(i(!0),g(E,null,ne(be.value,(y,oe)=>(i(),v(e(Ae),{key:y.key,class:"max-w-[70cqw] md:w-(--width,auto)",scope:"col",style:se({"--width":y.width==="fill"?100/be.value.length+"%":y.width?y.width:y.type==="state"||y.type==="badge"?0:null})},{default:o(()=>[y.sortable?(i(),v(e(O),{key:0,variant:"ghost",size:"sm",class:"-ml-3 h-8 gap-2 data-[state=open]:bg-accent",onClick:P=>j(y),"aria-label":X(y)==="asc"?e(k)("sharp::entity_list.sort_asc",{field_label:y.label}):X(y)==="desc"?e(k)("sharp::entity_list.sort_desc",{field_label:y.label}):e(k)("sharp::entity_list.sort_default")},{default:o(()=>[y.label?(i(),g("span",Kl,_(y.label),1)):S("",!0),l.entityList.currentSort===y.key?(i(),g(E,{key:1},[l.entityList.currentSortDir==="desc"?(i(),v(e(Pa),{key:0,class:"size-3.5"})):l.entityList.currentSortDir==="asc"?(i(),v(e(Ta),{key:1,class:"size-3.5"})):S("",!0)],64)):(i(),v(e(ma),{key:2,class:"size-3.5"}))]),_:2},1032,["onClick","aria-label"])):(i(),g(E,{key:1},[A(_(y.label),1)],64))]),_:2},1032,["style"]))),128)),!H.value&&!s.value&&l.entityList.data.some(y=>l.entityList.instanceHasActions(y,l.showEntityState))?(i(),v(e(Ae),{key:1,scope:"col",class:"w-2"},{default:o(()=>b[6]||(b[6]=[$("span",{class:"sr-only"},"Edit",-1)])),_:1})):S("",!0),H.value?(i(),v(e(Ae),{key:2,scope:"col"},{default:o(()=>b[7]||(b[7]=[$("span",{class:"sr-only"},"Select...",-1)])),_:1})):S("",!0)]),_:1})]),_:1},8,["class"]),d(e(kl),{class:"group",role:"rowgroup","data-reordering":H.value?!0:null,"data-selecting":s.value?!0:null,ref_key:"sortableTableBody",ref:ye},{default:o(()=>[(i(!0),g(E,null,ne(Ct.value,(y,oe)=>(i(),v(e(dt),{key:l.entityList.instanceId(y),class:"group/row relative hover:bg-transparent has-[[data-row-action]:hover]:bg-muted/50 has-[[aria-expanded=true]]:bg-muted/50 group-data-reordering:cursor-move group-data-[reordering]:hover:bg-muted/50 group-[:has(.sortable-chosen)]:bg-background [&.sortable-chosen]:transition-none lg:*:first:pl-6 lg:*:last:pr-6","data-instance-row":l.entityList.instanceId(y),"data-highlighted":a.highlightedInstanceId&&a.highlightedInstanceId==l.entityList.instanceId(y)?!0:null},{default:o(()=>[s.value&&f.value?(i(),v(e(ve),{key:0},{default:o(()=>[$("label",Ml,[b[8]||(b[8]=$("span",{class:"absolute inset-0 z-20"},null,-1)),d(e(tt),{class:"block relative z-20","model-value":f.value[l.entityList.instanceId(y)],"aria-label":e(k)("sharp::entity_list.select_checkbox.aria_label"),"onUpdate:modelValue":P=>f.value[l.entityList.instanceId(y)]=P},null,8,["model-value","aria-label","onUpdate:modelValue"])])]),_:2},1024)):S("",!0),(i(!0),g(E,null,ne(be.value,(P,x)=>(i(),v(e(ve),{key:P.key,class:"max-w-[70cqw]"},{default:o(()=>[P.type==="state"?(i(),v(e(Se),{key:0},{default:o(()=>[d(e(ke),{"as-child":""},{default:o(()=>{var U;return[d(e(O),{class:"relative z-10 disabled:opacity-100 -mx-3 hover:bg-transparent aria-expanded:bg-transparent",variant:"ghost",size:"sm",disabled:!l.entityList.instanceCanUpdateState(y)||H.value||s.value,"aria-label":e(k)("sharp::entity_list.state_dropdown.aria_label",{current_state_label:(U=l.entityList.instanceStateValue(y))==null?void 0:U.label})},{default:o(()=>[d(Pl,{"state-value":l.entityList.instanceStateValue(y)},{default:o(()=>{var ie;return[A(_((ie=l.entityList.instanceStateValue(y))==null?void 0:ie.label),1)]}),_:2},1032,["state-value"])]),_:2},1032,["disabled","aria-label"])]}),_:2},1024),d(e(Le),{align:"start","align-offset":-16},{default:o(()=>[(i(!0),g(E,null,ne(l.entityList.config.state.values,U=>(i(),v(e(lt),{key:U.value,"model-value":U.value==l.entityList.instanceState(y),"onUpdate:modelValue":ie=>ie&&m(U.value,l.entityList.instanceId(y))},{default:o(()=>[d(Fe,{class:"mr-2","state-value":U},null,8,["state-value"]),$("span",Xl,_(U.label),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),128))]),_:2},1024)]),_:2},1024)):P.type==="badge"?(i(),g(E,{key:1},[l.entityList.instanceHasBadge(y,P)?(i(),v(e(Ze),{key:0},{default:o(()=>[d(e(Je),{disabled:!P.tooltip||H.value||s.value,"delay-duration":0},{default:o(()=>[d(e(et),{"as-child":""},{default:o(()=>[$("div",{class:D(P.tooltip?"relative z-2":"")},[P.tooltip?(i(),g("div",Yl)):S("",!0),y[P.key]===!0?(i(),g("div",jl)):(i(),v(e(Ve),{key:2,class:"px-1.5 justify-center min-w-5.5"},{default:o(()=>[A(_(y[P.key]),1)]),_:2},1024))],2)]),_:2},1024),d(e(at),{"side-offset":10},{default:o(()=>[$("div",{innerHTML:P.tooltip},null,8,Nl)]),_:2},1024)]),_:2},1032,["disabled"])]),_:2},1024)):S("",!0)],64)):(i(),g(E,{key:2},[P.html&&typeof y[P.key]=="string"?(i(),v(ba,{key:0,class:D(["break-words [&_a]:relative [&_a]:z-10",{"[&_a]:pointer-events-none":s.value||H.value}]),html:P.sanitize?e(ga)(y[P.key]):y[P.key]},null,8,["class","html"])):(i(),g(E,{key:1},[A(_(y[P.key]),1)],64))],64)),x===0&&y._meta.url&&!s.value&&!H.value?(i(),v(e(_a),{key:3,class:"absolute inset-0 ring-ring ring-inset focus-visible:outline-none focus-visible:ring-2 focus:group-data-highlighted/row:ring-2","data-row-action":"",href:y._meta.url},null,8,["href"])):S("",!0)]),_:2},1024))),128)),d(e(ve),{class:"w-0 pr-6 @5xl:pl-4 hidden group-data-reordering:table-cell"},{default:o(()=>[$("div",xl,[d(e(wa),{class:"w-4 h-4 opacity-50"})])]),_:1}),l.entityList.instanceHasActions(y,l.showEntityState)?(i(),v(e(ve),{key:1,class:"sticky bg-background pl-1 -right-3 z-10 group-data-[scroll-arrived-right=true]/scroll-area:bg-transparent group-data-reordering:hidden group-data-selecting:hidden @5xl:pl-4 @5xl:bg-transparent"},{default:o(()=>[b[9]||(b[9]=$("div",{class:"absolute inset-0 -left-2 overflow-hidden","aria-hidden":"true"},null,-1)),b[10]||(b[10]=$("div",{class:"absolute inset-0 -left-4 overflow-hidden pointer-events-none","aria-hidden":"true"},[$("div",{class:"absolute inset-0 left-4 shadow-l-xl dark:border-l shadow-border transition-opacity group-data-[scroll-arrived-right=true]/scroll-area:opacity-0 @5xl:opacity-0","aria-hidden":"true"})],-1)),d(e(Se),null,{default:o(()=>[d(e(ke),{"as-child":""},{default:o(()=>[d(e(O),{class:"[@media(hover:hover)]:pointer-events-auto relative","aria-label":e(k)("sharp::entity_list.commands.instance.label"),variant:"ghost",size:"icon"},{default:o(()=>[d(e(Sa),{class:"w-4 h-4"})]),_:1},8,["aria-label"])]),_:1}),d(e(Le),{side:"bottom",align:"center"},{default:o(()=>{var P;return[l.entityList.config.state&&l.showEntityState&&l.entityList.instanceCanUpdateState(y)?(i(),g(E,{key:0},[d(e(ka),null,{default:o(()=>[d(e(La),null,{default:o(()=>[d(e(Ca),null,{default:o(()=>[A(_(e(k)("sharp::modals.entity_state.edit.title")),1)]),_:1}),d(e($a),null,{default:o(()=>[d(e(Ea),null,{default:o(()=>[(i(!0),g(E,null,ne(l.entityList.config.state.values,x=>(i(),v(e(lt),{key:x.value,"model-value":x.value==l.entityList.instanceState(y),"onUpdate:modelValue":U=>U&&m(x.value,l.entityList.instanceId(y))},{default:o(()=>[d(Fe,{class:"mr-2","state-value":x},null,8,["state-value"]),$("span",Gl,_(x.label),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),d(e($e),{class:"last:hidden"})],64)):S("",!0),d(rt,{commands:l.entityList.instanceCommands(y),onSelect:x=>w(x,l.entityList.instanceId(y))},null,8,["commands","onSelect"]),!l.entityList.config.deleteHidden&&l.entityList.instanceCanDelete(y)?(i(),g(E,{key:1},[(P=l.entityList.instanceCommands(y))!=null&&P.flat().length?(i(),v(e($e),{key:0,class:"first:hidden"})):S("",!0),d(e(Ce),{class:"text-destructive",onClick:x=>te(l.entityList.instanceId(y))},{default:o(()=>[A(_(e(k)("sharp::action_bar.form.delete_button")),1)]),_:2},1032,["onClick"])],64)):S("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)):l.entityList.data.some(P=>l.entityList.instanceHasActions(P,l.showEntityState))?(i(),v(e(ve),{key:2,class:"w-2"})):S("",!0)]),_:2},1032,["data-instance-row","data-highlighted"]))),128))]),_:1},8,["data-reordering","data-selecting"])]),_:1}),$("div",{ref_key:"tableBottom",ref:Xe},null,512)]),_:1})):(i(),g("div",Ql,_(e(k)("sharp::entity_list.empty_text")),1))]}),_:1},8,["class"]),[[we,!l.collapsed]]),(je=l.entityList.meta)!=null&&je.prev_page_url||(Ne=l.entityList.meta)!=null&&Ne.next_page_url?_e((i(),v(e(fa),{key:0,class:"px-4 pt-4 lg:px-6"},{default:o(()=>[d(wl,{"entity-list":l.entityList,"links-openable":!l.inline,onChange:F},null,8,["entity-list","links-openable"])]),_:1},512)),[[we,!l.collapsed]]):S("",!0)],64)):S("",!0)]}),_:3},8,["class"])],512)]}),_:3},8,["commands"]))}});class Lt{constructor(t,a,n,c){Object.assign(this,t),this.entityKey=a,this.hiddenFilters=n,this.hiddenCommands=c}get count(){var t;return((t=this.meta)==null?void 0:t.total)??this.data.length}get currentSort(){var t;return((t=this.query)==null?void 0:t.sort)??this.config.defaultSort}get currentSortDir(){var t;return((t=this.query)==null?void 0:t.dir)??this.config.defaultSortDir}get visibleFilters(){var t,a;return this.hiddenFilters?(t=this.config.filters)==null?void 0:t._root.filter(n=>!(n.key in this.hiddenFilters)):(a=this.config.filters)==null?void 0:a._root}get visibleCommands(){var t,a,n,c;return{instance:(a=(t=this.config.commands)==null?void 0:t.instance)==null?void 0:a.map(f=>f.filter(s=>{var r,p;return!((p=(r=this.hiddenCommands)==null?void 0:r.instance)!=null&&p.includes(s.key))})),entity:(c=(n=this.config.commands)==null?void 0:n.entity)==null?void 0:c.map(f=>f.filter(s=>{var r,p;return!((p=(r=this.hiddenCommands)==null?void 0:r.entity)!=null&&p.includes(s.key))}))}}get allowedEntityCommands(){var t;return((t=this.visibleCommands.entity)==null?void 0:t.map(a=>a.filter(n=>n.authorization)))??[]}get primaryCommand(){return this.allowedEntityCommands.flat().find(t=>t.primary)}get canSelect(){return this.allowedEntityCommands.flat().some(t=>t.instanceSelection)}get canReorder(){return this.config.reorderable&&this.authorizations.reorder&&this.data.length>1}withRefreshedItems(t){return this.data=this.data.map(a=>t.find(n=>this.instanceId(n)===this.instanceId(a))??a),new Lt(this,this.entityKey,this.hiddenFilters,this.hiddenCommands)}dropdownEntityCommands(t){return this.allowedEntityCommands.map(a=>a.filter(n=>t?!!n.instanceSelection:!n.primary))}instanceId(t){return t[this.config.instanceIdAttribute]}instanceState(t){return this.config.state?t[this.config.state.attribute]:null}instanceStateValue(t){var a;return(a=this.config.state)==null?void 0:a.values.find(n=>n.value===this.instanceState(t))}instanceCanUpdateState(t){return Array.isArray(this.config.state.authorization)?this.config.state.authorization.includes(this.instanceId(t)):!!this.config.state.authorization}instanceCanDelete(t){return t._meta.authorizations.delete}instanceCommands(t){var a,n;return(n=(a=this.visibleCommands)==null?void 0:a.instance)==null?void 0:n.map(c=>c.filter(f=>Array.isArray(f.authorization)?f.authorization.includes(this.instanceId(t)):f.authorization))}instanceHasActions(t,a){var n;return((n=this.instanceCommands(t))==null?void 0:n.flat().length)>0||this.config.state&&a&&this.instanceCanUpdateState(t)||!this.config.deleteHidden&&this.instanceCanDelete(t)}instanceHasBadge(t,a){return t[a.key]===!0||typeof t[a.key]=="number"||typeof t[a.key]=="string"&&t[a.key].length>0}fieldShouldBeVisible(t,a){return t.type==="badge"?this.data.some(n=>this.instanceHasBadge(n,t)):t.type==="state"?this.config.state&&a:!0}}function ln(){var a,n;const u=(a=nt().props.query)==null?void 0:a.highlighted_entity_key,t=(n=nt().props.query)==null?void 0:n.highlighted_instance_id;return{highlightedEntityKey:u,highlightedInstanceId:t}}export{Lt as E,an as _,Pl as a,Fe as b,ln as u};
