import{d as v,r as d,W as k,X as C,Y as g,Z as w,c as n,w as c,$,o as i,u as s,J as S,i as x,a as u,j as m,V as B,a0 as b}from"./sharp-DKZgsroX.js";import{p as f}from"./DropdownChevronDown.vue_vue_type_script_setup_true_lang-CmkC0cDD.js";import{_ as D}from"./Title.vue_vue_type_script_setup_true_lang-mcYnE4nb.js";import{_ as F}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-Cj3Ity3c.js";import{D as h,_ as N}from"./Dashboard-VfoAZeZa.js";const q={class:"container @container mx-auto"},J=v({__name:"Dashboard",props:{dashboard:{},breadcrumb:{}},setup(p){const a=p,e=d().params.dashboardKey,t=k(new h(a.dashboard,e)),o=C(a.dashboard.config.filters,a.dashboard.filterValues),_=g("dashboard");w(()=>a.dashboard,()=>{t.value=new h(a.dashboard,e),o.update(a.dashboard.config.filters,a.dashboard.filterValues)});function y(r,l){b.post(d("code16.sharp.dashboard.filters.store",{dashboardKey:e}),{filterValues:o.nextValues(r,l),query:f(location.search)},{preserveState:!0,preserveScroll:!0})}function V(r){b.post(d("code16.sharp.dashboard.filters.store",{dashboardKey:e}),{filterValues:o.defaultValues(r),query:f(location.search)},{preserveState:!0,preserveScroll:!0})}return(r,l)=>(i(),n($,null,{breadcrumb:c(()=>[s(S)("sharp.display_breadcrumb")?(i(),n(F,{key:0,breadcrumb:r.breadcrumb},null,8,["breadcrumb"])):x("",!0)]),default:c(()=>[u(D,{"entity-key":s(e)},null,8,["entity-key"]),m("div",q,[m("div",{class:B(t.value.pageAlert?"pt-4":"pt-10")},[u(N,{"dashboard-key":s(e),dashboard:t.value,filters:s(o),commands:s(_),title:r.breadcrumb.items[0].label,onFilterChange:y,onFiltersReset:V},null,8,["dashboard-key","dashboard","filters","commands","title"])],2)])]),_:1}))}});export{J as default};
