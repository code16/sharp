import{bf as Ie,d as T,ak as R,as as Oe,bg as _t,bh as x,o as i,c as v,w as r,q as D,u as e,aN as oe,P as ue,x as Fe,bi as wt,ap as de,A as g,j as z,a as f,v as Y,b as E,F as $,bj as Lt,aQ as Re,an as ce,y as K,bk as Ve,bl as rt,bm as kt,bn as je,at as J,i as k,bo as St,t as _,_ as L,k as F,bp as Ct,D as $t,G as Et,H as ne,B as zt,bq as It,V as B,I as Rt,z as Z,br as Pt,bs as At,m as Tt,bt as Bt,bu as Dt,n as it,bv as qt,bw as Ut,bx as Ht,by as Ot,aS as ut,bz as Ft,au as Vt,bA as Kt,bB as le,bC as Wt,bD as Ye,bE as ct,bF as Be,bG as Mt,bH as Xt,bI as jt,bJ as Yt,bK as Nt,aC as Gt,a$ as Qt,bL as he,aZ as _e,bc as we,aJ as Le,aK as ke,aL as Se,b8 as Ce,b7 as $e,r as j,aT as ve,aD as Jt,aE as Zt,aF as xt,aG as ea,aH as ta,aI as Ne,Y as Ge,S as aa,bM as na,bN as sa,bO as la,K as Qe,bP as oa,T as ra,a_ as ia,aM as ua,aW as De,aX as ca,b0 as Je,Z as da,X as fa,bQ as pa,bR as ha,b2 as va,b3 as ma,b4 as ya,b5 as ba,b6 as ga,bd as _a,be as wa,bS as La,bT as Ze}from"./sharp-BjiO_Q2w.js";import{u as ka,a as xe,b as et,_ as Sa,F as Ca,c as $a,d as tt}from"./DropdownChevronDown.vue_vue_type_script_setup_true_lang-BPcrTlbW.js";import{_ as at}from"./CardDescription.vue_vue_type_script_setup_true_lang-gPAmv_eq.js";/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Ie("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ie("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ie("ChevronsLeftIcon",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Ie("ChevronsRightIcon",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),[ee,Pa]=Fe("ScrollAreaRoot"),Aa=T({__name:"ScrollAreaRoot",props:{type:{default:"hover"},dir:{},scrollHideDelay:{default:600},asChild:{type:Boolean},as:{}},setup(u,{expose:t}){const a=u,s=R(0),c=R(0),p=R(),o=R(),l=R(),d=R(),h=R(!1),S=R(!1),{type:U,dir:I,scrollHideDelay:C}=Oe(a),V=_t(I);function X(){var w;(w=p.value)==null||w.scrollTo({top:0})}function N(){var w;(w=p.value)==null||w.scrollTo({top:0,left:0})}t({viewport:p,scrollTop:X,scrollTopLeft:N});const{forwardRef:m,currentElement:P}=x();return Pa({type:U,dir:V,scrollHideDelay:C,scrollArea:P,viewport:p,onViewportChange:w=>{p.value=w||void 0},content:o,onContentChange:w=>{o.value=w},scrollbarX:l,scrollbarXEnabled:h,scrollbarY:d,scrollbarYEnabled:S,onScrollbarXChange:w=>{l.value=w||void 0},onScrollbarYChange:w=>{d.value=w||void 0},onScrollbarXEnabledChange:w=>{h.value=w},onScrollbarYEnabledChange:w=>{S.value=w},onCornerWidthChange:w=>{s.value=w},onCornerHeightChange:w=>{c.value=w}}),(w,te)=>(i(),v(e(ue),{ref:e(m),"as-child":a.asChild,as:w.as,dir:e(V),style:oe({position:"relative","--reka-scroll-area-corner-width":`${s.value}px`,"--reka-scroll-area-corner-height":`${c.value}px`})},{default:r(()=>[D(w.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),Ta=T({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(u,{expose:t}){const a=u,{nonce:s}=Oe(a),c=wt(s),p=ee(),o=R();de(()=>{p.onViewportChange(o.value),p.onContentChange(d.value)}),t({viewportElement:o});const{forwardRef:l,currentElement:d}=x();return(h,S)=>(i(),g($,null,[z("div",Y({ref_key:"viewportElement",ref:o,"data-reka-scroll-area-viewport":"",style:{overflowX:e(p).scrollbarXEnabled.value?"scroll":"hidden",overflowY:e(p).scrollbarYEnabled.value?"scroll":"hidden"}},h.$attrs,{tabindex:0}),[f(e(ue),{ref:e(l),style:oe({minWidth:e(p).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":a.asChild,as:h.as},{default:r(()=>[D(h.$slots,"default")]),_:3},8,["style","as-child","as"])],16),f(e(ue),{as:"style",nonce:e(c)},{default:r(()=>S[0]||(S[0]=[E(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1},8,["nonce"])],64))}});function dt(u,t){return a=>{if(u[0]===u[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(u[1]-u[0]);return t[0]+s*(a-u[0])}}function Pe(u){const t=ft(u.viewport,u.content),a=u.scrollbar.paddingStart+u.scrollbar.paddingEnd,s=(u.scrollbar.size-a)*t;return Math.max(s,18)}function ft(u,t){const a=u/t;return Number.isNaN(a)?0:a}function Ba(u,t=()=>{}){let a={left:u.scrollLeft,top:u.scrollTop},s=0;return function c(){const p={left:u.scrollLeft,top:u.scrollTop},o=a.left!==p.left,l=a.top!==p.top;(o||l)&&t(),a=p,s=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(s)}function nt(u,t,a="ltr"){const s=Pe(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,p=t.scrollbar.size-c,o=t.content-t.viewport,l=p-s,d=a==="ltr"?[0,o]:[o*-1,0],h=Lt(u,d[0],d[1]);return dt([0,o],[0,l])(h)}function Ee(u){return u?Number.parseInt(u,10):0}function Da(u,t,a,s="ltr"){const c=Pe(a),p=c/2,o=t||p,l=c-o,d=a.scrollbar.paddingStart+o,h=a.scrollbar.size-a.scrollbar.paddingEnd-l,S=a.content-a.viewport,U=s==="ltr"?[0,S]:[S*-1,0];return dt([d,h],U)(u)}function st(u,t){return u>0&&u<t}const pt=T({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(u,{emit:t}){const a=u,s=t,c=ee(),p=Ae(),o=Te(),{forwardRef:l,currentElement:d}=x(),h=R(""),S=R();function U(m){var P,w;if(S.value){const te=m.clientX-((P=S.value)==null?void 0:P.left),ae=m.clientY-((w=S.value)==null?void 0:w.top);s("onDragScroll",{x:te,y:ae})}}function I(m){m.button===0&&(m.target.setPointerCapture(m.pointerId),S.value=d.value.getBoundingClientRect(),h.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",c.viewport&&(c.viewport.value.style.scrollBehavior="auto"),U(m))}function C(m){U(m)}function V(m){const P=m.target;P.hasPointerCapture(m.pointerId)&&P.releasePointerCapture(m.pointerId),document.body.style.webkitUserSelect=h.value,c.viewport&&(c.viewport.value.style.scrollBehavior=""),S.value=void 0}function X(m){var ae;const P=m.target,w=(ae=d.value)==null?void 0:ae.contains(P),te=p.sizes.value.content-p.sizes.value.viewport;w&&p.handleWheelScroll(m,te)}de(()=>{document.addEventListener("wheel",X,{passive:!1})}),Re(()=>{document.removeEventListener("wheel",X)});function N(){var m,P,w,te,ae;d.value&&(a.isHorizontal?p.handleSizeChange({content:((m=c.viewport.value)==null?void 0:m.scrollWidth)??0,viewport:((P=c.viewport.value)==null?void 0:P.offsetWidth)??0,scrollbar:{size:d.value.clientWidth??0,paddingStart:Ee(getComputedStyle(d.value).paddingLeft),paddingEnd:Ee(getComputedStyle(d.value).paddingRight)}}):p.handleSizeChange({content:((w=c.viewport.value)==null?void 0:w.scrollHeight)??0,viewport:((te=c.viewport.value)==null?void 0:te.offsetHeight)??0,scrollbar:{size:((ae=d.value)==null?void 0:ae.clientHeight)??0,paddingStart:Ee(getComputedStyle(d.value).paddingLeft),paddingEnd:Ee(getComputedStyle(d.value).paddingRight)}}))}return ce(d,N),ce(c.content,N),(m,P)=>(i(),v(e(ue),{ref:e(l),style:{position:"absolute"},"data-scrollbarimpl":"",as:e(o).as.value,"as-child":e(o).asChild.value,onPointerdown:I,onPointermove:C,onPointerup:V},{default:r(()=>[D(m.$slots,"default")]),_:3},8,["as","as-child"]))}}),qa=T({__name:"ScrollAreaScrollbarX",setup(u){const t=ee(),a=Ae(),{forwardRef:s,currentElement:c}=x();de(()=>{c.value&&t.onScrollbarXChange(c.value)});const p=K(()=>a.sizes.value);return(o,l)=>(i(),v(pt,{ref:e(s),"is-horizontal":!0,"data-orientation":"horizontal",style:oe({bottom:0,left:e(t).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:e(t).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":p.value?`${e(Pe)(p.value)}px`:void 0}),onOnDragScroll:l[0]||(l[0]=d=>e(a).onDragScroll(d.x))},{default:r(()=>[D(o.$slots,"default")]),_:3},8,["style"]))}}),Ua=T({__name:"ScrollAreaScrollbarY",setup(u){const t=ee(),a=Ae(),{forwardRef:s,currentElement:c}=x();de(()=>{c.value&&t.onScrollbarYChange(c.value)});const p=K(()=>a.sizes.value);return(o,l)=>(i(),v(pt,{ref:e(s),"is-horizontal":!1,"data-orientation":"vertical",style:oe({top:0,right:e(t).dir.value==="ltr"?0:void 0,left:e(t).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":p.value?`${e(Pe)(p.value)}px`:void 0}),onOnDragScroll:l[0]||(l[0]=d=>e(a).onDragScroll(d.y))},{default:r(()=>[D(o.$slots,"default")]),_:3},8,["style"]))}}),[Ae,Ha]=Fe("ScrollAreaScrollbarVisible"),Ke=T({__name:"ScrollAreaScrollbarVisible",setup(u){const t=ee(),a=Te(),{forwardRef:s}=x(),c=R({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=K(()=>{const m=ft(c.value.viewport,c.value.content);return m>0&&m<1}),o=R(),l=R(0);function d(m,P){if(C.value){const w=t.viewport.value.scrollLeft+m.deltaY;t.viewport.value.scrollLeft=w,st(w,P)&&m.preventDefault()}else{const w=t.viewport.value.scrollTop+m.deltaY;t.viewport.value.scrollTop=w,st(w,P)&&m.preventDefault()}}function h(m,P){C.value?l.value=P.x:l.value=P.y}function S(m){l.value=0}function U(m){c.value=m}function I(m,P){return Da(m,l.value,c.value,P)}const C=K(()=>a.isHorizontal.value);function V(m){C.value?t.viewport.value.scrollLeft=I(m,t.dir.value):t.viewport.value.scrollTop=I(m)}function X(){if(C.value){if(t.viewport.value&&o.value){const m=t.viewport.value.scrollLeft,P=nt(m,c.value,t.dir.value);o.value.style.transform=`translate3d(${P}px, 0, 0)`}}else if(t.viewport.value&&o.value){const m=t.viewport.value.scrollTop,P=nt(m,c.value);o.value.style.transform=`translate3d(0, ${P}px, 0)`}}function N(m){o.value=m}return Ha({sizes:c,hasThumb:p,handleWheelScroll:d,handleThumbDown:h,handleThumbUp:S,handleSizeChange:U,onThumbPositionChange:X,onThumbChange:N,onDragScroll:V}),(m,P)=>C.value?(i(),v(qa,Y({key:0},m.$attrs,{ref:e(s)}),{default:r(()=>[D(m.$slots,"default")]),_:3},16)):(i(),v(Ua,Y({key:1},m.$attrs,{ref:e(s)}),{default:r(()=>[D(m.$slots,"default")]),_:3},16))}}),ht=T({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean}},setup(u){const t=ee(),a=Te(),{forwardRef:s}=x(),c=R(!1),p=rt(()=>{if(t.viewport.value){const o=t.viewport.value.offsetWidth<t.viewport.value.scrollWidth,l=t.viewport.value.offsetHeight<t.viewport.value.scrollHeight;c.value=a.isHorizontal.value?o:l}},10);return de(()=>p()),ce(t.viewport,p),ce(t.content,p),(o,l)=>(i(),v(e(Ve),{present:o.forceMount||c.value},{default:r(()=>[f(Ke,Y(o.$attrs,{ref:e(s),"data-state":c.value?"visible":"hidden"}),{default:r(()=>[D(o.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Oa=T({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean}},setup(u){const t=ee(),{forwardRef:a}=x();let s;const c=R(!1);function p(){window.clearTimeout(s),c.value=!0}function o(){s=window.setTimeout(()=>{c.value=!1},t.scrollHideDelay.value)}return de(()=>{const l=t.scrollArea.value;l&&(l.addEventListener("pointerenter",p),l.addEventListener("pointerleave",o))}),Re(()=>{const l=t.scrollArea.value;l&&(window.clearTimeout(s),l.removeEventListener("pointerenter",p),l.removeEventListener("pointerleave",o))}),(l,d)=>(i(),v(e(Ve),{present:l.forceMount||c.value},{default:r(()=>[f(ht,Y(l.$attrs,{ref:e(a),"data-state":c.value?"visible":"hidden"}),{default:r(()=>[D(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Fa=T({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean}},setup(u){const t=ee(),a=Te(),{forwardRef:s}=x(),{state:c,dispatch:p}=kt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});je(l=>{if(c.value==="idle"){const d=window.setTimeout(()=>p("HIDE"),t.scrollHideDelay.value);l(()=>{window.clearTimeout(d)})}});const o=rt(()=>p("SCROLL_END"),100);return je(l=>{const d=t.viewport.value,h=a.isHorizontal.value?"scrollLeft":"scrollTop";if(d){let S=d[h];const U=()=>{const I=d[h];S!==I&&(p("SCROLL"),o()),S=I};d.addEventListener("scroll",U),l(()=>{d.removeEventListener("scroll",U)})}}),(l,d)=>(i(),v(e(Ve),{present:l.forceMount||e(c)!=="hidden"},{default:r(()=>[f(Ke,Y(l.$attrs,{ref:e(s)}),{default:r(()=>[D(l.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),[Te,Va]=Fe("ScrollAreaScrollbar"),Ka=T({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},setup(u){const t=u,{forwardRef:a}=x(),s=ee(),c=K(()=>t.orientation==="horizontal");J(c,()=>{c.value?s.onScrollbarXEnabledChange(!0):s.onScrollbarYEnabledChange(!0)},{immediate:!0}),Re(()=>{s.onScrollbarXEnabledChange(!1),s.onScrollbarYEnabledChange(!1)});const{orientation:p,forceMount:o,asChild:l,as:d}=Oe(t);return Va({orientation:p,forceMount:o,isHorizontal:c,as:d,asChild:l}),(h,S)=>e(s).type.value==="hover"?(i(),v(Oa,Y({key:0},h.$attrs,{ref:e(a),"force-mount":e(o)}),{default:r(()=>[D(h.$slots,"default")]),_:3},16,["force-mount"])):e(s).type.value==="scroll"?(i(),v(Fa,Y({key:1},h.$attrs,{ref:e(a),"force-mount":e(o)}),{default:r(()=>[D(h.$slots,"default")]),_:3},16,["force-mount"])):e(s).type.value==="auto"?(i(),v(ht,Y({key:2},h.$attrs,{ref:e(a),"force-mount":e(o)}),{default:r(()=>[D(h.$slots,"default")]),_:3},16,["force-mount"])):e(s).type.value==="always"?(i(),v(Ke,Y({key:3},h.$attrs,{ref:e(a),"data-state":"visible"}),{default:r(()=>[D(h.$slots,"default")]),_:3},16)):k("",!0)}}),Wa=T({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean},as:{}},setup(u){const t=u,a=ee(),s=Ae();function c(I){const V=I.target.getBoundingClientRect(),X=I.clientX-V.left,N=I.clientY-V.top;s.handleThumbDown(I,{x:X,y:N})}function p(I){s.handleThumbUp(I)}const{forwardRef:o,currentElement:l}=x(),d=R(),h=K(()=>a.viewport.value);function S(){if(!d.value){const I=Ba(h.value,s.onThumbPositionChange);d.value=I,s.onThumbPositionChange()}}const U=K(()=>s.sizes.value);return St(U,()=>{s.onThumbChange(l.value),h.value&&(s.onThumbPositionChange(),h.value.addEventListener("scroll",S))}),Re(()=>{var I;h.value.removeEventListener("scroll",S),(I=a.viewport.value)==null||I.removeEventListener("scroll",S)}),(I,C)=>(i(),v(e(ue),{ref:e(o),"data-state":e(s).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":t.asChild,as:I.as,onPointerdown:c,onPointerup:p},{default:r(()=>[D(I.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),Ma=T({__name:"ScrollAreaCornerImpl",setup(u){const t=ee(),a=R(0),s=R(0),c=K(()=>!!a.value&&!!s.value);function p(){var d;const l=((d=t.scrollbarX.value)==null?void 0:d.offsetHeight)||0;t.onCornerHeightChange(l),s.value=l}function o(){var d;const l=((d=t.scrollbarY.value)==null?void 0:d.offsetWidth)||0;t.onCornerWidthChange(l),a.value=l}return ce(t.scrollbarX.value,p),ce(t.scrollbarY.value,o),J(()=>t.scrollbarX.value,p),J(()=>t.scrollbarY.value,o),(l,d)=>{var h;return c.value?(i(),v(e(ue),Y({key:0,style:{width:`${a.value}px`,height:`${s.value}px`,position:"absolute",right:e(t).dir.value==="ltr"?0:void 0,left:e(t).dir.value==="rtl"?0:void 0,bottom:0}},(h=l.$parent)==null?void 0:h.$props),{default:r(()=>[D(l.$slots,"default")]),_:3},16,["style"])):k("",!0)}}}),Xa=T({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean},as:{}},setup(u){const t=u,{forwardRef:a}=x(),s=ee(),c=K(()=>!!s.scrollbarX.value&&!!s.scrollbarY.value),p=K(()=>s.type.value!=="scroll"&&c.value);return(o,l)=>p.value?(i(),v(Ma,Y({key:0},t,{ref:e(a)}),{default:r(()=>[D(o.$slots,"default")]),_:3},16)):k("",!0)}}),ja={class:"flex justify-center w-full gap-x-6 lg:gap-x-8","aria-label":"Pagination"},Ya={class:"flex gap-2"},Na={class:"sr-only"},Ga={class:"sr-only"},Qa={class:"flex min-w-[100px] gap-2 items-center justify-center text-sm font-medium"},Ja=["href"],Za={class:"flex gap-2"},xa={class:"sr-only"},en={class:"sr-only"},tn=T({__name:"EntityListPagination",props:{entityList:{},linksOpenable:{type:Boolean}},emits:["change"],setup(u,{emit:t}){const a=u,s=t;function c(o,l=!1){if(a.linksOpenable&&(o.metaKey||o.ctrlKey||o.shiftKey||o.altKey)){o.stopPropagation();return}const d=o.target.closest("a").href;d&&!l&&(s("change",new URL(d).searchParams.get("page")),o.preventDefault())}function p(o){const l=new URL(a.entityList.meta.first_page_url);return l.searchParams.set("page",String(o)),l.toString()}return(o,l)=>(i(),g("nav",ja,[z("div",Ya,[f(e(F),{as:o.entityList.meta.prev_page_url?"a":"button",class:"hidden sm:flex",size:"icon",variant:"outline",href:o.entityList.meta.first_page_url,disabled:!o.entityList.meta.prev_page_url,onClick:c},{default:r(()=>[f(e(Ia),{class:"h-4 w-4"}),z("span",Na,_(e(L)("sharp::entity_list.pagination.first")),1)]),_:1},8,["as","href","disabled"]),f(e(F),{as:o.entityList.meta.prev_page_url?"a":"button",size:"icon",variant:"outline",href:o.entityList.meta.prev_page_url,disabled:!o.entityList.meta.prev_page_url,onClick:c},{default:r(()=>[f(e(Ct),{class:"h-4 w-4"}),z("span",Ga,_(e(L)("sharp::entity_list.pagination.previous")),1)]),_:1},8,["as","href","disabled"])]),z("div",Qa,[o.entityList.meta.last_page?(i(),g($,{key:0},[z("span",null,_(e(L)("sharp::entity_list.pagination.current").split(":current_page")[0]),1),f(e(zt),{"model-value":String(o.entityList.meta.current_page),"onUpdate:modelValue":l[1]||(l[1]=d=>o.$emit("change",d))},{default:r(()=>[f(e($t),{class:"w-10 justify-center [&_svg]:hidden","aria-label":e(L)("sharp::entity_list.pagination.select.aria_label")},{default:r(()=>[E(_(o.entityList.meta.current_page),1)]),_:1},8,["aria-label"]),f(e(Et),{"align-offset":-22},{default:r(()=>[(i(!0),g($,null,ne(o.entityList.meta.last_page,d=>(i(),v(e(Rt),{value:String(d)},{default:r(()=>[o.linksOpenable?(i(),g("a",{key:0,class:"absolute inset-0",href:p(d),onPointerup:l[0]||(l[0]=h=>c(h,!0))},null,40,Ja)):k("",!0),E(" "+_(d),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["model-value"]),z("span",null,_(e(L)("sharp::entity_list.pagination.current",{last_page:o.entityList.meta.last_page}).split(":current_page")[1]),1)],64)):(i(),g($,{key:1},[E(_(e(L)("sharp::entity_list.pagination.current_simple").replace(":current_page",o.entityList.meta.current_page+"")),1)],64))]),z("div",Za,[f(e(F),{as:o.entityList.meta.next_page_url?"a":"button",size:"icon",variant:"outline",href:o.entityList.meta.next_page_url,disabled:!o.entityList.meta.next_page_url,onClick:c},{default:r(()=>[z("span",xa,_(e(L)("sharp::entity_list.pagination.next")),1),f(e(It),{class:"h-4 w-4"})]),_:1},8,["as","href","disabled"]),f(e(F),{as:o.entityList.meta.next_page_url?"a":"button",class:B(["hidden sm:flex",o.entityList.meta.last_page_url?"":"invisible"]),size:"icon",variant:"outline",href:o.entityList.meta.last_page_url,disabled:!o.entityList.meta.next_page_url,onClick:c},{default:r(()=>[f(e(Ra),{class:"h-4 w-4"}),z("span",en,_(e(L)("sharp::entity_list.pagination.last")),1)]),_:1},8,["as","class","href","disabled"])])]))}}),qe=T({__name:"StateIcon",props:{stateValue:{}},setup(u){return(t,a)=>{var s;return i(),g("div",{class:"relative rounded-full",style:oe({"--color":((s=t.stateValue)==null?void 0:s.color)??"black"})},a[0]||(a[0]=[z("div",{class:"h-1.5 w-1.5 rounded-full bg-[var(--color)]"},null,-1)]),4)}}}),an=T({__name:"Table",props:{class:{},noScroll:{type:Boolean}},setup(u){const t=u;return(a,s)=>(i(),g("div",{class:B(["relative",{"w-full overflow-auto":!a.noScroll}])},[z("table",{class:B(e(Z)("w-full caption-bottom text-sm",t.class))},[D(a.$slots,"default")],2)],2))}}),nn=T({__name:"TableBody",props:{class:{}},setup(u){const t=u;return(a,s)=>(i(),g("tbody",{class:B(e(Z)("[&_tr:last-child]:border-0",t.class))},[D(a.$slots,"default")],2))}}),ie=T({__name:"TableCell",props:{class:{}},setup(u){const t=u;return(a,s)=>(i(),g("td",{class:B(e(Z)("px-3 py-4 align-middle first:pl-4 last:pr-4",t.class))},[D(a.$slots,"default")],2))}}),ze=T({__name:"TableHead",props:{class:{}},setup(u){const t=u;return(a,s)=>(i(),g("th",{class:B(e(Z)("h-12 px-3 text-left align-middle font-medium text-muted-foreground",t.class))},[D(a.$slots,"default")],2))}}),sn=T({__name:"TableHeader",props:{class:{}},setup(u){const t=u;return(a,s)=>(i(),g("thead",{class:B(e(Z)("[&_tr]:border-b",t.class))},[D(a.$slots,"default")],2))}}),lt=T({__name:"TableRow",props:{class:{}},setup(u){const t=u;return(a,s)=>(i(),g("tr",{class:B(e(Z)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t.class))},[D(a.$slots,"default")],2))}}),ot=T({__name:"EntityListSearch",props:{entityList:{},expanded:{type:Boolean},inline:{type:Boolean},disabled:{type:Boolean}},emits:["submit","update:expanded"],setup(u,{emit:t}){var I;const a=u,s=t,c=R(),p=R(),{focused:o}=Pt(c),{pressed:l}=At({target:c}),d=R(((I=a.entityList.query)==null?void 0:I.search)??"");let h="";J(o,()=>{var C,V;o.value?(h&&(d.value=h,h=""),l.value?J(l,()=>{l.value||s("update:expanded",!0)},{once:!0}):s("update:expanded",!0)):l.value||(h=(C=a.entityList.query)!=null&&C.search?"":d.value,d.value=(V=a.entityList.query)==null?void 0:V.search,s("update:expanded",!1))}),J(()=>a.entityList,()=>{var C;d.value=((C=a.entityList.query)==null?void 0:C.search)??"",s("update:expanded",!1)});function S(){s("update:expanded",!1),s("submit",d.value)}function U(){a.expanded||s("update:expanded",!0)}return(C,V)=>{var X,N;return i(),g("form",{onSubmit:it(S,["prevent"]),ref_key:"el",ref:c},[z("div",{class:B(["relative z-[1]",[C.inline?"h-8 w-[150px] @5xl/root-card:w-[200px]":""]])},[z("div",{class:B(["top-0 left-0 group flex gap-3",e(Z)(C.inline?"absolute h-8":"flex-col",C.inline&&C.expanded?"-mr-[100px]":"")])},[z("div",{class:B(["relative",[C.inline?"":"w-full"]])},[f(e(Tt),{modelValue:d.value,"onUpdate:modelValue":V[0]||(V[0]=m=>d.value=m),class:B(e(Z)("w-full pl-8 h-9",{"h-8 w-[150px] @5xl/root-card:w-[200px]":C.inline,"sm:!w-[300px]":C.inline&&C.expanded,"pr-8":(X=a.entityList.query)==null?void 0:X.search})),disabled:C.disabled,placeholder:e(L)("sharp::action_bar.list.search.placeholder"),"aria-label":e(L)("sharp::action_bar.list.search.placeholder"),type:"search",ref_key:"input",ref:p,onInput:U},null,8,["modelValue","class","disabled","placeholder","aria-label"]),f(e(Bt),{class:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),(N=a.entityList.query)!=null&&N.search?(i(),v(e(F),{key:0,type:"button",class:"absolute right-0 top-0 h-full",size:"sm",variant:"ghost","aria-label":e(L)("sharp::action_bar.list.search.clear.aria_label"),onClick:V[1]||(V[1]=m=>C.$emit("submit",null))},{default:r(()=>[f(e(Dt),{class:"h-4 w-4 text-muted-foreground"})]),_:1},8,["aria-label"])):k("",!0)],2),f(e(F),{type:"submit",class:B(e(Z)("h-8 hidden",C.expanded?"inline-flex":"")),size:"sm"},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.search.button")),1)]),_:1},8,["class"])],2)],2)],544)}}}),vt=T({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(u){const t=u,a=K(()=>{const{class:s,...c}=t;return c});return(s,c)=>(i(),v(e(Ka),Y(a.value,{class:e(Z)("flex touch-none select-none transition-colors",s.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",s.orientation==="horizontal"&&"h-4 flex-col border-t border-t-transparent p-1",t.class)}),{default:r(()=>[f(e(Wa),{class:"relative flex-1 rounded-full bg-muted-foreground/50 hover:bg-muted-foreground"},{default:r(()=>c[0]||(c[0]=[z("div",{class:"absolute -inset-1.5 -top-4"},null,-1)])),_:1})]),_:1},16,["class"]))}}),ln=T({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{},touchType:{}},setup(u){const t=u,a=K(()=>{const{class:l,...d}=t;return d}),s=qt("(hover: none)"),c=R(),{arrivedState:p,measure:o}=Ut(()=>{var l;return(l=c.value)==null?void 0:l.viewportElement});return J(Ot(()=>{var l;return(l=c.value)==null?void 0:l.viewportElement}).width,Ht(()=>{o()},50,!0,!0)),J(()=>{var l;return(l=c.value)==null?void 0:l.viewportElement},()=>{var l;(l=c.value)!=null&&l.viewportElement&&(c.value.viewportElement.tabIndex=-1)}),(l,d)=>(i(),v(e(Aa),Y(a.value,{type:e(s)?t.touchType:t.type,class:e(Z)("group/scroll-area relative overflow-hidden",t.class),"data-scroll-arrived-right":e(p).right?!0:null,"data-scrollbar-x-visible":!e(p).left||!e(p).right?!0:null}),{default:r(()=>[f(e(Ta),{class:"h-full w-full rounded-[inherit]",ref_key:"viewport",ref:c},{default:r(()=>[D(l.$slots,"default")]),_:3},512),D(l.$slots,"scrollbar",{},()=>[f(vt),f(e(Xa))])]),_:3},16,["type","class","data-scroll-arrived-right","data-scrollbar-x-visible"]))}}),on=jt?window:void 0;function rn(u){var t;const a=le(u);return(t=a==null?void 0:a.$el)!=null?t:a}function un(...u){const t=[],a=()=>{t.forEach(l=>l()),t.length=0},s=(l,d,h,S)=>(l.addEventListener(d,h,S),()=>l.removeEventListener(d,h,S)),c=K(()=>{const l=Be(le(u[0])).filter(d=>d!=null);return l.every(d=>typeof d!="string")?l:void 0}),p=Mt(()=>{var l,d;return[(d=(l=c.value)==null?void 0:l.map(h=>rn(h)))!=null?d:[on].filter(h=>h!=null),Be(le(c.value?u[1]:u[0])),Be(e(c.value?u[2]:u[1])),le(c.value?u[3]:u[2])]},([l,d,h,S])=>{if(a(),!(l!=null&&l.length)||!(d!=null&&d.length)||!(h!=null&&h.length))return;const U=Xt(S)?{...S}:S;t.push(...l.flatMap(I=>d.flatMap(C=>h.map(V=>s(I,C,V,U)))))},{flush:"post"}),o=()=>{p(),a()};return ct(a),o}const cn=T({name:"UseElementBounding",props:["box","as"],setup(u,{slots:t}){const a=R(),s=ut(Ft(a));return()=>{if(t.default)return Vt(u.as||"div",{ref:a},t.default(s))}}});function Ue(u){return typeof Window<"u"&&u instanceof Window?u.document.documentElement:typeof Document<"u"&&u instanceof Document?u.documentElement:u}function mt(u){const t=window.getComputedStyle(u);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&u.clientWidth<u.scrollWidth||t.overflowY==="auto"&&u.clientHeight<u.scrollHeight)return!0;{const a=u.parentNode;return!a||a.tagName==="BODY"?!1:mt(a)}}function dn(u){const t=u||window.event,a=t.target;return mt(a)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const He=new WeakMap;function fn(u,t=!1){const a=R(t);let s=null,c="";J(Wt(u),l=>{const d=Ue(le(l));if(d){const h=d;if(He.get(h)||He.set(h,h.style.overflow),h.style.overflow!=="hidden"&&(c=h.style.overflow),h.style.overflow==="hidden")return a.value=!0;if(a.value)return h.style.overflow="hidden"}},{immediate:!0});const p=()=>{const l=Ue(le(u));!l||a.value||(Ye&&(s=un(l,"touchmove",d=>{dn(d)},{passive:!1})),l.style.overflow="hidden",a.value=!0)},o=()=>{const l=Ue(le(u));!l||!a.value||(Ye&&(s==null||s()),l.style.overflow=c,He.delete(l),a.value=!1)};return ct(o),K({get(){return a.value},set(l){l?p():o()}})}function pn(){let u=!1;const t=R(!1);return(a,s)=>{if(t.value=s.value,u)return;u=!0;const c=fn(a,s.value);J(t,p=>c.value=p)}}pn();const hn=T({name:"UseWindowSize",props:["initialWidth","initialHeight"],setup(u,{slots:t}){const a=ut(Kt(u));return()=>{if(t.default)return t.default(a)}}}),vn={key:0,class:"fixed inset-0 z-[11] bg-black/5"},mn={key:0,class:"container px-4 lg:px-6"},yn={class:"flex flex-wrap md:flex-nowrap gap-y-4 gap-x-2"},bn={class:"flex items-baseline min-w-0"},gn={key:0,class:"mb-4 flex flex-wrap items-center gap-2"},_n={key:1,class:"contents"},wn={class:"flex items-center @2xl/root-card:hidden"},Ln={class:"flex flex-col flex-wrap gap-4"},kn={"data-row-action":"",role:"presentation"},Sn={class:"truncate"},Cn={class:"flex justify-center w-10"},$n={class:"truncate"},En={key:1,class:"text-muted-foreground"},Pn=T({__name:"EntityList",props:{entityKey:{},entityList:{},filters:{},commands:{},title:{},inline:{type:Boolean,default:!0},showCreateButton:{type:Boolean,default:!0},showReorderButton:{type:Boolean,default:!0},showSearchField:{type:Boolean,default:!0},showEntityState:{type:Boolean,default:!0},collapsed:{type:Boolean},highlightedInstanceId:{}},emits:["update:query","filter-change","reset","reordering"],setup(u,{emit:t}){const a=u,s=R(),c=t,p=R(null),o=K(()=>!!p.value),l=K(()=>a.entityList.data.filter(n=>{var y;return(y=p.value)==null?void 0:y[a.entityList.instanceId(n)]}));function d(n){p.value={...p.value,...Object.fromEntries(a.entityList.data.map(y=>[a.entityList.instanceId(y),n]))}}function h(){p.value=Object.fromEntries(a.entityList.data.map(n=>[a.entityList.instanceId(n),!1]))}function S(n,y){c("filter-change",n,y)}const U=R(!1);function I(n){c("update:query",{...a.entityList.query,search:n})}function C(){c("reset")}function V(n){c("update:query",{...a.entityList.query,page:n})}function X(n){return a.entityList.currentSort===n.key?a.entityList.currentSortDir==="desc"?a.entityList.config.defaultSort===a.entityList.currentSort?"asc":null:"desc":"asc"}function N(n){const y=X(n);c("update:query",{...a.entityList.query,page:1,sort:y?n.key:null,dir:y||null})}function m(n,y){const{commands:H,entityKey:G}=a;De.post(j("code16.sharp.api.list.state",{entityKey:G,instanceId:y}),{value:n}).then(M=>{H.handleCommandResponse(M.data)}).catch(M=>{var fe,pe;const be=(fe=M.response)==null?void 0:fe.data;((pe=M.response)==null?void 0:pe.status)===422&&_a(be.message,{title:L("modals.state.422.title"),isError:!0})})}async function P(n,y){if(n.metaKey||n.ctrlKey||n.shiftKey)return;const{entityKey:H}=a;n.preventDefault(),a.entityList.config.quickCreationForm?await a.commands.send({hasForm:!0},{postCommand:j("code16.sharp.api.list.command.quick-creation-form.store",{entityKey:y?`${H}:${y.key}`:H}),getForm:j("code16.sharp.api.list.command.quick-creation-form.create",{entityKey:y?`${H}:${y.key}`:H}),query:a.entityList.query,entityKey:H}):ua.visit(j("code16.sharp.form.create",{parentUri:ve(),entityKey:y?`${H}:${y.key}`:H}))}async function w(n,y){const{commands:H,entityKey:G}=a;n.confirmation&&s.value.querySelector("[data-reka-scroll-area-viewport]").scrollTo({left:0,behavior:"smooth"}),await H.send(n,{postCommand:j("code16.sharp.api.list.command.instance",{entityKey:G,instanceId:y,commandKey:n.key}),getForm:j("code16.sharp.api.list.command.instance.form",{entityKey:G,instanceId:y,commandKey:n.key}),query:a.entityList.query,entityKey:G,instanceId:y},{highlightElement:()=>{var M;return(M=s.value)==null?void 0:M.querySelector(`[data-instance-row="${y}"]`)}})}async function te(n){const{commands:y,entityKey:H}=a;await y.send(n,{postCommand:j("code16.sharp.api.list.command.entity",{entityKey:H,commandKey:n.key}),getForm:j("code16.sharp.api.list.command.entity.form",{entityKey:H,commandKey:n.key}),query:{...a.entityList.query,ids:Object.entries(p.value??{}).filter(([G,M])=>M).map(([G,M])=>G)},entityKey:H,onSuccess(){p.value=null}})}async function ae(n){const{entityKey:y,entityList:H,commands:G}=a;s.value.querySelector("[data-reka-scroll-area-viewport]").scrollTo({left:0,behavior:"smooth"}),await wa(H.config.deleteConfirmationText,{highlightElement:()=>{var M;return(M=s.value)==null?void 0:M.querySelector(`[data-instance-row="${n}"]`)}})&&(await De.delete(j("code16.sharp.api.list.delete",{entityKey:y,instanceId:n})),G.handleCommandResponse({action:"reload"}))}const se=R(null),q=K(()=>!!se.value),me=R(),We=Yt(()=>q.value?me.value.$el:null,K({get:()=>se.value??[],set:n=>{se.value=n}}),{animation:150});J(q,()=>{q.value?We.start():We.stop(),c("reordering",q.value)});function Me(){se.value=[...a.entityList.data]}async function bt(){const{entityKey:n,commands:y}=a;await De.post(j("code16.sharp.api.list.reorder",{entityKey:n}),{instances:se.value.map(H=>a.entityList.instanceId(H))}),await y.handleCommandResponse({action:"reload"}),se.value=null}const gt=ka(),ye=K(()=>a.entityList.fields.filter(n=>gt.md?!0:!n.hideOnXS));return J([me,()=>a.highlightedInstanceId],()=>{var n;if(me.value&&a.highlightedInstanceId){const y=(n=s.value)==null?void 0:n.querySelector(`[data-instance-row="${a.highlightedInstanceId}"] a`);y&&y.focus()}}),(n,y)=>(i(),v($a,{commands:n.commands},{default:r(()=>{var H;return[z("div",{ref_key:"el",ref:s},[f(Nt,{"enter-active-class":"transition","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:r(()=>[q.value?(i(),g("div",vn)):k("",!0)]),_:1}),(H=n.entityList)!=null&&H.pageAlert?(i(),g("div",mn,[f(Gt,{class:"mb-3","page-alert":n.entityList.pageAlert},null,8,["page-alert"])])):k("",!0),f(ia,{class:B(q.value?"relative z-[12]":"")},{default:r(()=>{var G,M,be,fe,pe,Xe;return[f(Qt,{class:B(q.value||o.value?"sticky":"data-[overflowing-viewport]:sticky"),collapsed:n.collapsed||!n.entityList},{default:r(()=>{var A,b,re,W;return[z("div",yn,[z("div",bn,[D(n.$slots,"card-header"),n.entityList?(i(),v(e(at),{key:0,class:B(["hidden @2xl/root-card:block text-xs text-muted-foreground ml-4 mr-2 lg:ml-6 whitespace-nowrap",[n.inline?"lg:mr-9":"lg:mr-5"]])},{default:r(()=>{var O;return[(O=n.entityList.query)!=null&&O.search?(i(),g($,{key:0},[E(_(e(he)("sharp::action_bar.list.search.title",n.entityList.count,{count:n.entityList.count,search:n.entityList.query.search})),1)],64)):(i(),g($,{key:1},[E(_(e(he)("sharp::action_bar.list.items_count",n.entityList.count,{count:n.entityList.count})),1)],64))]}),_:1},8,["class"])):k("",!0)]),n.entityList?(i(),g($,{key:0},[n.showReorderButton&&n.entityList.canReorder||n.entityList.canSelect||(A=n.entityList.dropdownEntityCommands(o.value))!=null&&A.flat().length||n.entityList.primaryCommand||n.showCreateButton&&n.entityList.authorizations.create?_e((i(),g("div",{key:0,class:B(["ml-auto self-start flex -my-1 justify-end pointer-events-auto gap-2",(n.inline,"")])},[n.showReorderButton&&n.entityList.canReorder&&!o.value?(i(),g($,{key:0},[q.value?(i(),g($,{key:0},[f(e(F),{class:"h-8",size:"sm",variant:"outline",onClick:y[0]||(y[0]=O=>se.value=null)},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.reorder_button.cancel")),1)]),_:1}),f(e(F),{class:"h-8",size:"sm",onClick:bt},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.reorder_button.finish")),1)]),_:1})],64)):(i(),v(e(F),{key:1,class:B(["h-8",(b=n.entityList.dropdownEntityCommands(o.value))!=null&&b.flat().length?"max-sm:hidden":""]),size:"sm",variant:"outline",onClick:Me},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.reorder_button")),1)]),_:1},8,["class"]))],64)):k("",!0),n.entityList.canSelect&&!q.value?(i(),g($,{key:1},[o.value?(i(),v(e(F),{key:0,class:"h-8",size:"sm",variant:"outline",onClick:y[1]||(y[1]=O=>p.value=null)},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.reorder_button.cancel")),1)]),_:1})):(i(),v(e(F),{key:1,class:B(["h-8",(re=n.entityList.dropdownEntityCommands(o.value))!=null&&re.flat().length?"max-sm:hidden":""]),size:"sm",variant:"outline",onClick:h},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.select_button")),1)]),_:1},8,["class"]))],64)):k("",!0),(W=n.entityList.dropdownEntityCommands(o.value))!=null&&W.flat().length&&!q.value?(i(),v(e(Le),{key:2},{default:r(()=>[f(e(ke),{"as-child":""},{default:r(()=>[f(e(F),{class:"h-8",variant:o.value?"default":"outline",size:"sm",disabled:q.value},{default:r(()=>[o.value?(i(),g($,{key:0},[E(_(e(he)("sharp::entity_list.commands.entity.label.selected",Object.values(p.value).filter(Boolean).length,{count:Object.values(p.value).filter(Boolean).length})),1)],64)):(i(),g($,{key:1},[E(_(e(L)("sharp::entity_list.commands.entity.label")),1)],64)),f(xe)]),_:1},8,["variant","disabled"])]),_:1}),f(e(Se),null,{default:r(()=>[n.showReorderButton&&n.entityList.canReorder&&!o.value?(i(),g($,{key:0},[f(e(Ce),{class:"sm:hidden",onClick:Me},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.reorder_button")),1)]),_:1}),f(e($e),{class:"sm:hidden"})],64)):k("",!0),n.entityList.canSelect&&!o.value?(i(),g($,{key:1},[f(e(Ce),{class:"sm:hidden",onClick:h},{default:r(()=>[E(_(e(L)("sharp::action_bar.list.select_button")),1)]),_:1}),f(e($e),{class:"sm:hidden"})],64)):k("",!0),f(et,{commands:n.entityList.dropdownEntityCommands(o.value),selecting:o.value,onSelect:te},null,8,["commands","selecting"])]),_:1})]),_:1})):k("",!0),n.entityList.primaryCommand&&!q.value&&!o.value?(i(),v(e(F),{key:3,class:"h-8",size:"sm",onClick:y[2]||(y[2]=O=>te(n.entityList.primaryCommand))},{default:r(()=>[E(_(n.entityList.primaryCommand.label),1)]),_:1})):k("",!0),n.showCreateButton&&n.entityList.authorizations.create&&!q.value&&!o.value?(i(),g($,{key:4},[n.entityList.forms&&Object.values(n.entityList.forms).length?(i(),v(e(Le),{key:0},{default:r(()=>[f(e(ke),{"as-child":""},{default:r(()=>[f(e(F),{class:"h-8",size:"sm"},{default:r(()=>[E(_(a.entityList.config.createButtonLabel||e(L)("sharp::action_bar.list.forms_dropdown"))+" ",1),f(xe,{class:"opacity-75"})]),_:1})]),_:1}),f(e(Se),null,{default:r(()=>[(i(!0),g($,null,ne(Object.values(n.entityList.forms).filter(O=>!!O.label),O=>(i(),v(e(Ce),{as:"a",href:e(j)("code16.sharp.form.create",{parentUri:e(ve)(),entityKey:`${n.entityKey}:${O.key}`}),onClick:Q=>P(Q,O)},{default:r(()=>[E(_(O.label),1)]),_:2},1032,["href","onClick"]))),256))]),_:1})]),_:1})):(i(),v(e(F),{key:1,as:"a",class:"h-8 gap-1",size:"sm",disabled:q.value||o.value,href:e(j)("code16.sharp.form.create",{parentUri:e(ve)(),entityKey:n.entityKey}),onClick:P},{default:r(()=>[E(_(a.entityList.config.createButtonLabel||e(L)("sharp::action_bar.list.create_button")),1)]),_:1},8,["disabled","href"]))],64)):k("",!0)],2)),[[we,!n.collapsed]]):k("",!0)],64)):k("",!0)])]}),_:3},8,["class","collapsed"]),n.entityList&&(n.showSearchField&&n.entityList.config.searchable||(G=n.entityList.visibleFilters)!=null&&G.length)?_e((i(),g("div",gn,[n.showSearchField&&n.entityList.config.searchable?(i(),g("div",{key:0,class:B(["self-center pointer-events-auto",{"hidden @2xl/root-card:block":(M=n.entityList.visibleFilters)==null?void 0:M.length}])},[f(ot,{inline:"",expanded:U.value,"onUpdate:expanded":y[3]||(y[3]=A=>U.value=A),"entity-list":n.entityList,disabled:q.value||o.value,onSubmit:I},null,8,["expanded","entity-list","disabled"])],2)):k("",!0),(be=n.entityList.visibleFilters)!=null&&be.length?(i(),g("div",_n,[z("div",wn,[f(e(Jt),null,{default:r(()=>[f(e(Sa),{"as-child":""},{default:r(()=>[f(e(F),{class:"h-8 gap-1",variant:"outline",disabled:q.value||o.value,size:"sm"},{default:r(()=>[f(e(Ca),{class:"h-3.5 w-3.5"}),z("span",null,_(e(L)("sharp::filters.popover_button")),1)]),_:1},8,["disabled"])]),_:1}),f(e(Zt),{onOpenAutoFocus:y[5]||(y[5]=it(()=>{},["prevent"]))},{default:r(()=>[f(e(xt),null,{default:r(()=>[f(e(ea),null,{default:r(()=>[E(_(e(L)("sharp::filters.popover_button"))+" : "+_(n.title),1)]),_:1})]),_:1}),z("div",Ln,[n.showSearchField&&n.entityList.config.searchable?(i(),v(ot,{key:0,expanded:U.value,"onUpdate:expanded":y[4]||(y[4]=A=>U.value=A),"entity-list":n.entityList,onSubmit:I},null,8,["expanded","entity-list"])):k("",!0),(i(!0),g($,null,ne(n.entityList.visibleFilters,A=>(i(),v(tt,{key:A.key,filter:A,value:n.filters.currentValues[A.key],disabled:q.value,valuated:n.filters.isValuated([A]),onInput:b=>S(A,b)},null,8,["filter","value","disabled","valuated","onInput"]))),128))]),f(e(ta),{class:"flex-row gap-2 mt-2"},{default:r(()=>[f(e(Ne),{"as-child":""},{default:r(()=>{var A;return[f(e(F),{class:"flex-1",variant:"secondary",disabled:!n.filters.isValuated(n.entityList.visibleFilters)&&!((A=n.entityList.query)!=null&&A.search),onClick:C},{default:r(()=>[E(_(e(L)("sharp::filters.reset_all")),1)]),_:1},8,["disabled"])]}),_:1}),f(e(Ne),{"as-child":""},{default:r(()=>[f(e(F),{class:"flex-1"},{default:r(()=>[E(_(e(L)("sharp::filters.dialog.submit")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n.filters.isValuated(n.filters.rootFilters)?(i(),v(e(Ge),{key:0,class:"ml-2"},{default:r(()=>[E(_(n.filters.valuatedCount(n.filters.rootFilters)),1)]),_:1})):k("",!0),n.entityList?(i(),v(e(at),{key:1,class:B(["text-xs text-muted-foreground ml-4 mr-2 lg:ml-6 whitespace-nowrap",[n.inline?"lg:mr-9":"lg:mr-5"]])},{default:r(()=>{var A;return[(A=n.entityList.query)!=null&&A.search?(i(),g($,{key:0},[E(_(e(he)("sharp::action_bar.list.search.title",n.entityList.count,{count:n.entityList.count,search:n.entityList.query.search})),1)],64)):(i(),g($,{key:1},[E(_(e(he)("sharp::action_bar.list.items_count",n.entityList.count,{count:n.entityList.count})),1)],64))]}),_:1},8,["class"])):k("",!0)]),z("div",{class:B(["hidden @2xl/root-card:contents",{"*:opacity-0 *:pointer-events-none":U.value}])},[(i(!0),g($,null,ne(n.entityList.visibleFilters,A=>(i(),v(tt,{key:A.key,filter:A,value:n.filters.currentValues[A.key],disabled:q.value||o.value,valuated:n.filters.isValuated([A]),inline:"",onInput:b=>S(A,b)},null,8,["filter","value","disabled","valuated","onInput"]))),128)),n.filters.isValuated(n.entityList.visibleFilters)||(fe=n.entityList.query)!=null&&fe.search?(i(),v(e(F),{key:0,class:"h-8 underline underline-offset-4 -ml-2",variant:"ghost",size:"sm",onClick:C},{default:r(()=>[E(_(e(L)("sharp::filters.reset_all")),1)]),_:1})):k("",!0)],2)])):k("",!0)],512)),[[we,!n.collapsed]]):k("",!0),n.entityList?(i(),g($,{key:1},[_e(f(e(aa),{class:B(n.entityList.count>0?"pb-2 !px-0":"")},{default:r(()=>{var A;return[((A=n.entityList.data)==null?void 0:A.length)>0?(i(),v(e(ln),{key:0,class:"w-full data-[scrollbar-x-visible]:pb-4",type:"auto","touch-type":"scroll"},{scrollbar:r(()=>[f(e(hn),null,{default:r(({height:b})=>[f(e(cn),{class:"absolute inset-0 pointer-events-none"},{default:r(({bottom:re})=>[f(e(vt),{class:"z-20 [@media(hover:hover)]:bg-background pointer-events-auto will-change-transform",orientation:"horizontal",style:oe({transform:`translate3d(0, ${Math.max(0,re-b)*-1}px, 0)`})},null,8,["style"])]),_:2},1024)]),_:1})]),default:r(()=>[f(e(an),{"no-scroll":"",class:"w-max min-w-full max-w-[768px] md:max-w-[1024px] @3xl:w-full @3xl:max-w-none"},{default:r(()=>[f(e(sn),{class:B(ye.value.some(b=>b.label)?"":"collapse [&_tr]:border-0"),role:"rowgroup"},{default:r(()=>[f(e(lt),{class:"hover:bg-transparent lg:first:*:pl-6 lg:last:*:pr-6"},{default:r(()=>[o.value?(i(),v(e(ze),{key:0,scope:"col",class:"w-2","aria-label":"Select..."},{default:r(()=>[f(e(na),null,{default:r(()=>[f(e(sa),{"delay-duration":0},{default:r(()=>[f(e(la),{"as-child":""},{default:r(()=>[f(e(Qe),{class:"block","model-value":l.value.length===n.entityList.data.length?!0:l.value.length>0?"indeterminate":!1,"onUpdate:modelValue":d,"aria-label":e(L)("sharp::entity_list.select_all_in_page_checkbox.tooltip.select")},null,8,["model-value","aria-label"])]),_:1}),f(e(oa),{side:"top","side-offset":10},{default:r(()=>[l.value.length===n.entityList.data.length?(i(),g($,{key:0},[E(_(e(L)("sharp::entity_list.select_all_in_page_checkbox.tooltip.unselect")),1)],64)):(i(),g($,{key:1},[E(_(e(L)("sharp::entity_list.select_all_in_page_checkbox.tooltip.select")),1)],64))]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0),(i(!0),g($,null,ne(ye.value,(b,re)=>(i(),v(e(ze),{key:b.key,class:"max-w-[70cqw] md:w-[var(--width,auto)]",scope:"col",style:oe({"--width":b.width==="fill"?100/ye.value.length+"%":b.width?b.width:b.type==="state"?0:null})},{default:r(()=>[b.sortable?(i(),v(e(F),{key:0,variant:"ghost",size:"sm",class:"-ml-3 h-8 data-[state=open]:bg-accent",onClick:W=>N(b),"aria-label":X(b)==="asc"?e(L)("sharp::entity_list.sort_asc",{field_label:b.label}):X(b)==="desc"?e(L)("sharp::entity_list.sort_desc",{field_label:b.label}):e(L)("sharp::entity_list.sort_default")},{default:r(()=>[z("span",null,_(b.label),1),n.entityList.currentSort===b.key?(i(),g($,{key:0},[n.entityList.currentSortDir==="desc"?(i(),v(e(Ea),{key:0,class:"ml-2 h-3.5 w-3.5"})):n.entityList.currentSortDir==="asc"?(i(),v(e(za),{key:1,class:"ml-2 h-3.5 w-3.5"})):k("",!0)],64)):(i(),v(e(ca),{key:1,class:"ml-2 h-3.5 w-3.5"}))]),_:2},1032,["onClick","aria-label"])):(i(),g($,{key:1},[E(_(b.label),1)],64))]),_:2},1032,["style"]))),128)),!q.value&&!o.value&&n.entityList.data.some(b=>n.entityList.instanceHasActions(b,n.showEntityState))?(i(),v(e(ze),{key:1,scope:"col",class:"w-2"},{default:r(()=>y[6]||(y[6]=[z("span",{class:"sr-only"},"Edit",-1)])),_:1})):k("",!0),q.value?(i(),v(e(ze),{key:2,scope:"col"},{default:r(()=>y[7]||(y[7]=[z("span",{class:"sr-only"},"Select...",-1)])),_:1})):k("",!0)]),_:1})]),_:1},8,["class"]),f(e(nn),{class:"group",role:"rowgroup",ref_key:"sortableTableBody",ref:me},{default:r(()=>[(i(!0),g($,null,ne(se.value??n.entityList.data,(b,re)=>(i(),v(e(lt),{key:n.entityList.instanceId(b),class:B(e(Z)("group/row relative hover:bg-transparent has-[[data-row-action]:hover]:bg-muted/50 has-[[aria-expanded=true]]:bg-muted/50 lg:first:*:pl-6 lg:last:*:pr-6",q.value?"cursor-move hover:bg-muted/50 group-[:has(.sortable-chosen)]:bg-background [&.sortable-chosen]:transition-none":"")),"data-instance-row":n.entityList.instanceId(b),"data-highlighted":a.highlightedInstanceId&&a.highlightedInstanceId==n.entityList.instanceId(b)?!0:null},{default:r(()=>[o.value&&p.value?(i(),v(e(ie),{key:0},{default:r(()=>[z("label",kn,[y[8]||(y[8]=z("span",{class:"absolute inset-0 z-20"},null,-1)),f(e(Qe),{class:"block relative z-20","model-value":p.value[n.entityList.instanceId(b)],"aria-label":e(L)("sharp::entity_list.select_checkbox.aria_label"),"onUpdate:modelValue":W=>p.value[n.entityList.instanceId(b)]=W},null,8,["model-value","aria-label","onUpdate:modelValue"])])]),_:2},1024)):k("",!0),(i(!0),g($,null,ne(ye.value,(W,O)=>(i(),g($,{key:W.key},[W.type==="state"&&n.entityList.config.state&&n.showEntityState?(i(),v(e(ie),{key:0,class:"max-w-[70cqw]"},{default:r(()=>[f(e(Le),null,{default:r(()=>[f(e(ke),{"as-child":""},{default:r(()=>{var Q;return[f(e(F),{class:"relative disabled:opacity-100 -mx-3",variant:"ghost",size:"sm",disabled:!n.entityList.instanceCanUpdateState(b),"aria-label":e(L)("sharp::entity_list.state_dropdown.aria_label",{current_state_label:(Q=n.entityList.instanceStateValue(b))==null?void 0:Q.label})},{default:r(()=>[f(e(Ge),{variant:"outline"},{default:r(()=>{var ge;return[f(qe,{class:"-ml-0.5 mr-1.5","state-value":n.entityList.instanceStateValue(b)},null,8,["state-value"]),E(" "+_((ge=n.entityList.instanceStateValue(b))==null?void 0:ge.label),1)]}),_:2},1024)]),_:2},1032,["disabled","aria-label"])]}),_:2},1024),f(e(Se),{align:"start","align-offset":-16},{default:r(()=>[(i(!0),g($,null,ne(n.entityList.config.state.values,Q=>(i(),v(e(Je),{key:Q.value,"model-value":Q.value==n.entityList.instanceState(b),"onUpdate:modelValue":ge=>ge&&m(Q.value,n.entityList.instanceId(b))},{default:r(()=>[f(qe,{class:"mr-1.5","state-value":Q},null,8,["state-value"]),z("span",Sn,_(Q.label),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):(i(),v(e(ie),{key:1,class:"max-w-[70cqw]"},{default:r(()=>[W.html&&typeof b[W.key]=="string"?(i(),v(da,{key:0,class:B(["break-words [&_a]:relative [&_a]:z-10",{"[&_a]:pointer-events-none":o.value||q.value}]),html:b[W.key]},null,8,["class","html"])):(i(),g($,{key:1},[E(_(b[W.key]),1)],64)),O===0&&n.entityList.instanceUrl(b)&&!o.value&&!q.value?(i(),v(e(fa),{key:2,class:"absolute inset-0 ring-ring ring-inset focus-visible:outline-none focus-visible:ring-2 focus:group-data-[highlighted]/row:ring-2","data-row-action":"",href:n.entityList.instanceUrl(b)},null,8,["href"])):k("",!0)]),_:2},1024))],64))),128)),q.value?(i(),v(e(ie),{key:1,class:"w-0 @5xl:pl-4"},{default:r(()=>[z("div",Cn,[f(e(pa),{class:"w-4 h-4 opacity-50"})])]),_:1})):k("",!0),!q.value&&!o.value?(i(),g($,{key:2},[n.entityList.instanceHasActions(b,n.showEntityState)?(i(),v(e(ie),{key:0,class:"sticky bg-background pl-1 -right-3 z-10 group-data-[scroll-arrived-right=true]/scroll-area:bg-transparent @5xl:pl-4 @5xl:bg-transparent"},{default:r(()=>[y[9]||(y[9]=z("div",{class:"absolute inset-0 -left-2 overflow-hidden","aria-hidden":"true"},null,-1)),y[10]||(y[10]=z("div",{class:"absolute inset-0 -left-4 overflow-hidden pointer-events-none","aria-hidden":"true"},[z("div",{class:"absolute inset-0 left-4 shadow-l-xl dark:border-l shadow-border transition-opacity group-data-[scroll-arrived-right=true]/scroll-area:opacity-0 @5xl:opacity-0","aria-hidden":"true"})],-1)),f(e(Le),null,{default:r(()=>[f(e(ke),{"as-child":""},{default:r(()=>[f(e(F),{class:"[@media(hover:hover)]:pointer-events-auto relative","aria-label":e(L)("sharp::entity_list.commands.instance.label"),variant:"ghost",size:"icon"},{default:r(()=>[f(e(ha),{class:"w-4 h-4"})]),_:1},8,["aria-label"])]),_:1}),f(e(Se),{side:"bottom",align:"center"},{default:r(()=>{var W;return[n.entityList.config.state&&n.showEntityState&&n.entityList.instanceCanUpdateState(b)?(i(),g($,{key:0},[f(e(va),null,{default:r(()=>[f(e(ma),null,{default:r(()=>[f(e(ya),null,{default:r(()=>[E(_(e(L)("sharp::modals.entity_state.edit.title")),1)]),_:1}),f(e(ba),null,{default:r(()=>[f(e(ga),null,{default:r(()=>[(i(!0),g($,null,ne(n.entityList.config.state.values,O=>(i(),v(e(Je),{key:O.value,"model-value":O.value==n.entityList.instanceState(b),"onUpdate:modelValue":Q=>Q&&m(O.value,n.entityList.instanceId(b))},{default:r(()=>[f(qe,{class:"mr-1.5","state-value":O},null,8,["state-value"]),z("span",$n,_(O.label),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),f(e($e),{class:"last:hidden"})],64)):k("",!0),f(et,{commands:n.entityList.instanceCommands(b),onSelect:O=>w(O,n.entityList.instanceId(b))},null,8,["commands","onSelect"]),!n.entityList.config.deleteHidden&&n.entityList.instanceCanDelete(b)?(i(),g($,{key:1},[(W=n.entityList.instanceCommands(b))!=null&&W.flat().length?(i(),v(e($e),{key:0,class:"first:hidden"})):k("",!0),f(e(Ce),{class:"text-destructive",onClick:O=>ae(n.entityList.instanceId(b))},{default:r(()=>[E(_(e(L)("sharp::action_bar.form.delete_button")),1)]),_:2},1032,["onClick"])],64)):k("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)):n.entityList.data.some(W=>n.entityList.instanceHasActions(W,n.showEntityState))?(i(),v(e(ie),{key:1,class:"w-2"})):k("",!0)],64)):k("",!0)]),_:2},1032,["class","data-instance-row","data-highlighted"]))),128))]),_:1},512)]),_:1})]),_:1})):(i(),g("div",En,_(e(L)("sharp::entity_list.empty_text")),1))]}),_:1},8,["class"]),[[we,!n.collapsed]]),(pe=n.entityList.meta)!=null&&pe.prev_page_url||(Xe=n.entityList.meta)!=null&&Xe.next_page_url?_e((i(),v(e(ra),{key:0,class:"px-4 pt-4 lg:px-6"},{default:r(()=>[f(tn,{"entity-list":n.entityList,"links-openable":!n.inline,onChange:V},null,8,["entity-list","links-openable"])]),_:1},512)),[[we,!n.collapsed]]):k("",!0)],64)):k("",!0)]}),_:3},8,["class"])],512)]}),_:3},8,["commands"]))}});class yt{constructor(t,a,s,c){Object.assign(this,t),this.entityKey=a,this.hiddenFilters=s,this.hiddenCommands=c}toData(){return Object.fromEntries(Object.entries({authorizations:this.authorizations,config:this.config,data:this.data,fields:this.fields,forms:this.forms,meta:this.meta,pageAlert:this.pageAlert,query:this.query,filterValues:this.filterValues,title:this.title}).map(([t,a])=>[t,La(a)]))}get count(){var t;return((t=this.meta)==null?void 0:t.total)??this.data.length}get currentSort(){var t;return((t=this.query)==null?void 0:t.sort)??this.config.defaultSort}get currentSortDir(){var t;return((t=this.query)==null?void 0:t.dir)??this.config.defaultSortDir}get visibleFilters(){var t,a;return this.hiddenFilters?(t=this.config.filters)==null?void 0:t._root.filter(s=>!(s.key in this.hiddenFilters)):(a=this.config.filters)==null?void 0:a._root}get visibleCommands(){var t,a,s,c;return{instance:(a=(t=this.config.commands)==null?void 0:t.instance)==null?void 0:a.map(p=>p.filter(o=>{var l,d;return!((d=(l=this.hiddenCommands)==null?void 0:l.instance)!=null&&d.includes(o.key))})),entity:(c=(s=this.config.commands)==null?void 0:s.entity)==null?void 0:c.map(p=>p.filter(o=>{var l,d;return!((d=(l=this.hiddenCommands)==null?void 0:l.entity)!=null&&d.includes(o.key))}))}}get allowedEntityCommands(){var t;return((t=this.visibleCommands.entity)==null?void 0:t.map(a=>a.filter(s=>s.authorization)))??[]}get primaryCommand(){return this.allowedEntityCommands.flat().find(t=>t.primary)}get canSelect(){return this.allowedEntityCommands.flat().some(t=>t.instanceSelection)}get canReorder(){return this.config.reorderable&&this.authorizations.reorder&&this.data.length>1}withRefreshedItems(t){return this.data=this.data.map(a=>t.find(s=>this.instanceId(s)===this.instanceId(a))??a),new yt(this,this.entityKey)}dropdownEntityCommands(t){return this.allowedEntityCommands.map(a=>a.filter(s=>t?!!s.instanceSelection:!s.primary))}instanceId(t){return t[this.config.instanceIdAttribute]}instanceUrl(t){const a=this.entityKey,s=this.instanceId(t);if(!this.authorizations.view.includes(s))return null;const c=this.forms&&Object.values(this.forms).find(p=>p.instances.includes(s));return this.config.hasShowPage?j("code16.sharp.show.show",{parentUri:ve(),entityKey:c?`${a}:${c.key}`:a,instanceId:s}):j("code16.sharp.form.edit",{parentUri:ve(),entityKey:c?`${a}:${c.key}`:a,instanceId:s})}instanceState(t){return this.config.state?t[this.config.state.attribute]:null}instanceStateValue(t){var a;return(a=this.config.state)==null?void 0:a.values.find(s=>s.value===this.instanceState(t))}instanceCanUpdateState(t){return Array.isArray(this.config.state.authorization)?this.config.state.authorization.includes(this.instanceId(t)):!!this.config.state.authorization}instanceCanDelete(t){var a;return Array.isArray(this.authorizations.delete)?(a=this.authorizations.delete)==null?void 0:a.includes(this.instanceId(t)):!!this.authorizations.delete}instanceCommands(t){var a,s;return(s=(a=this.visibleCommands)==null?void 0:a.instance)==null?void 0:s.map(c=>c.filter(p=>Array.isArray(p.authorization)?p.authorization.includes(this.instanceId(t)):p.authorization))}instanceHasActions(t,a){var s;return((s=this.instanceCommands(t))==null?void 0:s.flat().length)>0||this.config.state&&a&&this.instanceCanUpdateState(t)||!this.config.deleteHidden&&this.instanceCanDelete(t)}}function An(){var a,s;const u=(a=Ze().props.query)==null?void 0:a.highlighted_entity_key,t=(s=Ze().props.query)==null?void 0:s.highlighted_instance_id;return{highlightedEntityKey:u,highlightedInstanceId:t}}export{yt as E,Pn as _,qe as a,An as u};
